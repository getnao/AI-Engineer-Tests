version: 2

models:
  - name: bdg_crm_opportunity_contact_role
    description: '{{ doc("bdg_crm_opportunity_contact_role") }}'
    columns:
      - name: opportunity_contact_role_id
        description: A primary key for the contact added to an opportunity.
        data_tests:
          - unique
          - not_null

  - name: bdg_epic_user_request
    description: ' {{ doc("bdg_epic_user_request") }}'
    columns:
      - name: epic_id
        data_tests:
          - not_null
      - name: dim_crm_account_id
        data_tests:
          - not_null
      - name: is_user_request_only_in_collaboration_project
        description: Boolean flag that if TRUE indicates whether the user request was only done in a customer collaboration project.
      - name: CONCAT(epic_id, dim_crm_account_id, dim_crm_opportunity_id, dim_ticket_id)
        data_tests:
          - not_null
          - unique

  - name: bdg_issue_user_request
    description: ' {{ doc("bdg_issue_user_request") }}'
    columns:
      - name: dim_issue_sk
        data_tests:
          - not_null
      - name: dim_crm_account_id
        data_tests:
          - not_null
      - name: is_user_request_only_in_collaboration_project
        description: Boolean flag that if TRUE indicates whether the user request was only done in a customer collaboration project.
      - name: CONCAT(issue_id, dim_crm_account_id, dim_crm_opportunity_id, dim_ticket_id)
        data_tests:
          - not_null
          - unique

  - name: bdg_namespace_order_subscription_monthly
    description: '{{ doc("bdg_namespace_order_subscription_monthly") }}'
    columns:
      - name: dim_namespace_id
      - name: dim_subscription_id
      - name: dim_order_id
      - name: snapshot_month
      - name: namespace_id_order
      - name: subscription_id_order
      - name: ultimate_parent_namespace_id
      - name: namespace_type
        description: '{{ doc("namespace_type") }}'
      - name: is_namespace_active
      - name: namespace_was_trial
      - name: saas_trial_start_date
      - name: saas_trial_expired_on
      - name: saas_trial_type
        description: '{{ doc("trial_type") }}'
      - name: saas_trial_type_name
        description: '{{ doc("trial_type_name") }}'
      - name: customer_id
      - name: dim_product_tier_id_with_trial
      - name: product_tier_name_with_trial
      - name: dim_product_tier_id_order
      - name: product_tier_name_order
      - name: is_order_active
      - name: order_start_date
      - name: order_end_date
      - name: order_is_trial
      - name: product_rate_plan_id_order
      - name: subscription_name
      - name: dim_subscription_id_original
      - name: dim_subscription_id_previous
      - name: dim_billing_account_id
      - name: dim_crm_account_id
      - name: product_rate_plan_id_subscription
      - name: dim_product_tier_id_subscription
      - name: product_tier_name_subscription
      - name: count_of_tiers_per_subscription
      - name: is_subscription_active
      - name: subscription_start_date
      - name: subscription_end_date
      - name: namespace_order_subscription_match_status

  - name: bdg_namespace_order_subscription
    description: '{{ doc("bdg_namespace_order_subscription") }}'
    columns:
      - name: dim_namespace_id
      - name: dim_subscription_id
      - name: order_id
      - name: namespace_id_order
      - name: subscription_id_order
      - name: ultimate_parent_namespace_id
      - name: namespace_type
        description: '{{ doc("namespace_type") }}'
      - name: is_namespace_active
      - name: dim_product_tier_id_namespace
      - name: product_tier_name_namespace
      - name: namespace_was_trial
      - name: saas_trial_start_date
      - name: saas_trial_expired_on
      - name: saas_trial_type
        description: '{{ doc("trial_type") }}'
      - name: saas_trial_type_name
        description: '{{ doc("trial_type_name") }}'
      - name: customer_id
      - name: dim_product_tier_id_with_trial
      - name: product_tier_name_with_trial
      - name: dim_product_tier_id_order
      - name: product_tier_name_order
      - name: is_order_active
      - name: order_start_date
      - name: order_end_date
      - name: order_is_trial
      - name: product_rate_plan_id_order
      - name: subscription_name
      - name: dim_subscription_id_original
      - name: dim_subscription_id_previous
      - name: dim_billing_account_id
      - name: dim_crm_account_id
      - name: product_rate_plan_id_subscription
      - name: dim_product_tier_id_subscription
      - name: product_tier_name_subscription
      - name: count_of_tiers_per_subscription
      - name: is_subscription_active
      - name: subscription_start_date
      - name: subscription_end_date
      - name: namespace_order_subscription_match_status


  - name: bdg_self_managed_order_subscription
    description: '{{ doc("bdg_self_managed_order_subscription") }}'
    columns:
      - name: dim_subscription_id
      - name: order_id
      - name: namespace_id_order
      - name: subscription_id_order
      - name: customer_id
      - name: dim_product_tier_id_with_trial
      - name: product_tier_name_with_trial
      - name: dim_product_tier_id_order
      - name: product_tier_name_order
      - name: order_start_date
      - name: order_end_date
      - name: order_is_trial
      - name: product_rate_plan_id_order
      - name: subscription_name
      - name: dim_subscription_id_original
      - name: dim_subscription_id_previous
      - name: dim_billing_account_id
      - name: dim_crm_account_id
      - name: product_rate_plan_id_subscription
      - name: dim_product_tier_id_subscription
      - name: product_tier_name_subscription
      - name: count_of_tiers_per_subscription
      - name: subscription_start_date
      - name: subscription_end_date
      - name: is_subscription_active

  - name: bdg_subscription_product_rate_plan
    description: '{{ doc("bdg_subscription_product_rate_plan") }}'
    columns:
      - name: dim_subscription_id
        data_tests:
          - not_null
        tags: ["tdf", "gainsight"]
      - name: dim_subscription_id_original
        data_tests:
          - not_null
        tags: ["tdf", "gainsight"]
      - name: dim_billing_account_id
        data_tests:
          - not_null
        tags: ["tdf", "gainsight"]
      - name: dim_product_tier_id
      - name: dim_product_detail_id
      - name: product_id
      - name: product_rate_plan_id
      - name: rate_plan_id
        description: Primary key from `zuora_rate_plan_source`
      - name: subscription_name
      - name: subscription_name_slugify
      - name: subscription_start_date
      - name: subscription_end_date
      - name: subscription_status
      - name: product_rate_plan_charge_name
      - name: product_delivery_type
        description: '{{ doc("product_delivery_type")}} '
      - name: product_deployment_type
        description: '{{ doc("product_deployment_type")}} '

  - name: dim_accounting_event
    description: '{{ doc("dim_accounting_event") }}'
    columns:
      - name: dim_accounting_event_id
        description: Unique identifier for an accounting event such as a performance obligation or hold.
        data_tests:
          - unique
          - not_null
        tags: ["tdf", "zuora_revenue"]

  - name: dim_accounting_type
    description: '{{ doc("dim_accounting_type") }}'
    columns:
      - name: dim_accounting_type_id
        description: Unique identifier for an accounting type such as contract liability or asset.
        data_tests:
          - unique
          - not_null
        tags: ["tdf", "zuora_revenue"]

  - name: dim_alliance_type_scd
    description: '{{ doc("dim_alliance_type_scd") }}'
    columns:
      - name: dim_alliance_type_id
        description: Alliance type from prep table identifying the type of alliance relationship the partner has with GitLab.
        data_tests:
          - unique
          - not_null
        tags: ["tdf"]

  - name: dim_amendment
    description: Dimension for Zuora Amendments that increment subscription versions.
    columns:
      - name: dim_amendment_id
        description: Unique identifier of an Amendment in Zuora Billing.
        data_tests:
          - unique
          - not_null
        tags: ["tdf"]

  - name: dim_billing_account
    description: '{{ doc("dim_billing_account") }}'
    columns:
      - name: dim_billing_account_sk
        description: '{{ doc("dim_billing_account_sk") }}'
        data_tests:
          - not_null
          - unique
      - name: dim_billing_account_id
        description: The unique identifier of the Zuora account associated with a given Subscription ID
        data_tests:
          - not_null
          - unique
      - name: dim_crm_account_id
        description: The customer account ID for the account
      - name: billing_account_number
        description: A unique Zuora account number
      - name: billing_account_name
        description: The name of the Zuora account
      - name: account_status
        description: The status of the account in the system. Can be draft, active, cancelled.
      - name: parent_id
        description: The identifier of the parent customer account      
      - name: crm_account_code
        description: The code for the sfdc account
      - name: crm_entity
      - name: account_currency
        description: A currency as defined in Billing Settings in the Zuora UI
      - name: sold_to_country
        description: The country of the sold to contact
      - name: ssp_channel
      - name: po_required
      - name: auto_pay
      - name: billing_account_arr_cohort_month
        description: First month the billing account has had ARR (Annual Recurrent Revenue).
      - name: billing_account_arr_cohort_quarter
        description: First fiscal quarter the billing account has had ARR (Annual Recurrent Revenue).
      - name: is_deleted
        description: The flag indicating if account has been deleted
      - name: batch
      - name: record_data_source
        description: An indicator flag to identify if the record exists in Zuora or CDot or in both the sources. This column can be used to identify any missing records or data sync issues in both the sources



  - name: dim_billing_account_snapshot_bottom_up
    description: Daily snapshot of billing accounts starting from 2020-03-01. This is built from the bottom up using snapshotted source tables from Zuora and CDot.
    columns:
      - name: billing_account_snapshot_id
        description: Unique identifier of a billing account snapshot
        data_tests:
          - not_null
          - unique
        tags: ["tdf"]
      - name: snapshot_id
        description: Unique Date Id between dbt_valid_from and dbt_valid_to in Snapshots  
      - name: dim_billing_account_id
        description: The id of the Zuora account the subscription is associated with the customer   
      - name: dim_crm_account_id
        description: The customer account ID for the account
      - name: billing_account_number
        description: A unique Zuora account number
      - name: billing_account_name
        description: The name of the Zuora account
      - name: account_status
        description: The status of the account in the system. Can be draft, active, cancelled.
      - name: parent_id
        description: The identifier of the parent customer account      
      - name: crm_account_code
        description: The code for the crm sfdc account
      - name: crm_entity
      - name: account_currency
        description: A currency as defined in Billing Settings in the Zuora UI
      - name: sold_to_country
        description: The country of the sold to contact
      - name: ssp_channel
      - name: po_required
      - name: is_deleted
        description: The flag indicating if account has been deleted
      - name: batch
      - name: record_data_source
        description: An indicator flag to identify if the record exists in Zuora or CDot or in both the sources. This column can be used to identify any missing records or data sync issues in both the sources.
  

  - name: dim_campaign
    description: Dimension table representing each individual Campaign. Excludes deleted campaigns. Based completely off SFDC campaign data.
    columns:
      - name: dim_campaign_id
        description: Campaign unique identifier
        data_tests:
          - not_null
          - unique
      - name: campaign_name
        description: Campaign name text field.
      - name: is_active
      - name: status
      - name: type
      - name: description
      - name: budget_holder
      - name: bizible_touchpoint_enabled_setting
      - name: strategic_marketing_contribution
      - name: campaign_partner_crm_id
        description: The partner associated with this campaign through Vartopia.
      - name: mdf_request_id
        description: The ID MDF Request that funded the campaign for MDF Campaigns.
      - name: registration_goal
        description: The goal set for total registrations.
      - name: attendance_goal
        description: The goal set for attendance of registrations.
      - name: series_campaign_id
        description: dim_campaign_id from SFDC for the Parent campaign, when that Parent campaign is a "Series"
      - name: series_campaign_name
        description: Campaign name from SFDC for the Parent campaign, when that Parent campaign is a "Series"

  - name: dim_crm_person
    description: '{{ doc("dim_crm_person") }}'
    columns:
      - name: dim_crm_person_id
        description: A dbt generated ID for the record.
        data_tests:
          - not_null
          - unique
      - name: sfdc_record_id
        description: The 18 digit Salesforce id for the contact or lead.
        data_tests:
          - not_null
          - unique
      - name: email_hash
        description: A salted SHA2 hash of the person's email address.
      - name: email_domain
        description: The domain name of the person's email address (@example.com or @sub.example.com).
      - name: email_domain_type
        description: A [dbt function](https://gitlab.com/gitlab-data/analytics/-/blob/master/transform/snowflake-dbt/macros/common/email_domain_type.sql) returning a description of the email address (personal, business, etc...).
      - name: master_record_id
        description: A internal Salesforce generated field. [From the Salesforce doc](https://help.salesforce.com/s/articleView?id=000320023&type=1) "When performing a query or export a record from an API tool, a field called MasterRecordId appear [...]."
      - name: owner_id
        description: The Salesforce id ([dim_crm_user_id](https://dbt.gitlabdata.com/#!/model/model.gitlab_snowflake.dim_crm_user)) of the user who owns the person record.
      - name: record_type_id
        description: The sub-type of the [contact](https://gitlab.my.salesforce.com/ui/setup/rectype/RecordTypes?type=Contact&setupid=ContactRecords&retURL=%2Fui%2Fsetup%2FSetup%3Fsetupid%3DContact) or [lead](https://gitlab.my.salesforce.com/ui/setup/rectype/RecordTypes?type=Lead&setupid=LeadRecords&) defined in Salesforce, joinable to PROD.LEGACY.SFDC_RECORD_TYPE.
      - name: dim_crm_account_id
        description: The account id ([dim_crm_account_id](https://dbt.gitlabdata.com/#!/model/model.gitlab_snowflake.dim_crm_account)) the person record belongs too.
      - name: reports_to_id
        description: The Salesforce id (dim_crm_person_id) for the person the contact reports too, null when the person is a lead.
      - name: dim_crm_user_id
        description: A dbt generated ID for the owner.
      - name: crm_partner_id
        description: The Salesforce 18 digit id of the account for the person. Joinable to "PROD"."RESTRICTED_SAFE_COMMON"."DIM_CRM_ACCOUNT"."DIM_CRM_ACCOUNT_ID".
      - name: person_score
        description: The score when moving the person through the lead flow to become a MQL. The [MQL definition in the Marketo](https://about.gitlab.com/handbook/marketing/marketing-operations/marketo/#mql-definition) page has more information.
      - name: title
        description: The person's title, can be self reported or null.
      - name: has_opted_out_email
        description: A built in Salesforce field on the [lead](https://gitlab.my.salesforce.com/_ui/common/config/field/StandardFieldAttributes/d?id=HasOptedOutOfEmail&type=Lead&retURL=%2Fp%2Fsetup%2Flayout%2FLayoutFieldList%3Ftype%3DLead%26setupid%3DLeadFields&_CONFIRMATIONTOKEN=VmpFPSxNakF5TVMwd09TMHhNMVF4T1Rvd056b3hNeTR3T0RKYSxwMVlkUEdVTWhCVUhVcDRZV0ZPOExYLFl6UTNNekF5&setupid=LeadFields) and [contact](https://gitlab.my.salesforce.com/_ui/common/config/field/StandardFieldAttributes/d?id=HasOptedOutOfEmail&type=Contact&retURL=%2Fp%2Fsetup%2Flayout%2FLayoutFieldList%3Ftype%3DContact%26setupid%3DContactFields&_CONFIRMATIONTOKEN=VmpFPSxNakF5TVMwd09TMHhNMVF4T1Rvd056b3lNUzQwTWpCYSwyYkgwVkZROFdwVk5qMXdNTlJmcnJHLFl6UTNNekF5&setupid=ContactFields) object tracking if the person has opted out of emails.
      - name: email_bounced_date
        description: A hidden Salesforce field recording when the email first bounced through SFDC, [not Marketo.](https://nation.marketo.com/t5/marketo-whisperer-blogs/special-salesforce-fields-tokens-in-marketo-deep-dive/ba-p/247573)
      - name: email_bounced_reason
        description: A hidden Salesforce field recording why the email first bounced through SFDC, [not Marketo.](https://nation.marketo.com/t5/marketo-whisperer-blogs/special-salesforce-fields-tokens-in-marketo-deep-dive/ba-p/247573)
      - name: status
        description: A [Salesforce picklist field](https://gitlab.my.salesforce.com/00N6100000HymiA) as [defined in the handbook.](https://about.gitlab.com/handbook/marketing/marketing-operations/#lead-and-contact-statuses)
      - name: lead_source
        description: A built-in salesforce picklist shown as initial Source in SFDC.
      - name: lead_source_type
        description: A custom salesforce picklist on the [contact](https://gitlab.my.salesforce.com/00N6100000HmXh9?) and [lead](https://gitlab.my.salesforce.com/00N6100000HHDZJ) objects controlled by the built-in field.
      - name: source_buckets
        description: A [case statement](https://gitlab.com/gitlab-data/analytics/-/blob/master/transform/snowflake-dbt/macros/sfdc/sfdc_source_buckets.sql`) that categorizes lead sources into pre-defined buckets.
      - name: net_new_source_categories
        description: A [case statement](https://gitlab.com/gitlab-data/analytics/-/blob/master/transform/snowflake-dbt/macros/sfdc/sfdc_source_buckets.sql) that categorizes lead sources into pre-defined buckets.
      - name: number_of_employees
        description: The total count of employees at the SFDC record's company/account. 
      - name: company_address_country
        description: The record's company's country of address. 
      - name: bizible_touchpoint_position
        description: The actions done when the person took their First Touch (FT) through Bizible. This will also contain other actions in a comma-separated, [Bizible has their meaning documented](https://experienceleague.adobe.com/docs/bizible/using/introduction-to-bizible/overview-resources/bizible-attribution-models.html?lang=en).
      - name: bizible_marketing_channel_path
        description: The channel the person's first Bizible touchpoint.
      - name: bizible_touchpoint_date
        description: The date of the person Bizible touchpoint.
      - name: sequence_step_type
        description: A Salesforce field on the [lead](https://gitlab.my.salesforce.com/00N4M00000Ib5yL) and [contact](https://gitlab.my.salesforce.com/00N4M00000Ib5yG) object updated by Outreach, denoting the last step a person went through. Its possible for a person to not be in a sequence but have a value here.
      - name: is_actively_being_sequenced
        description: A boolean Salesforce field on the [lead](https://gitlab.my.salesforce.com/00N4M00000Ib1VK) and [contact](https://gitlab.my.salesforce.com/00N4M00000Ib1VP) denoting if the contact is going through an [Outreach](https://about.gitlab.com/handbook/marketing/marketing-operations/outreach/) sequence.
      - name: region
        description: A picklist field on the [lead](https://gitlab.my.salesforce.com/00N61000009n0Sl) and [contact](https://gitlab.my.salesforce.com/00N6100000ELkLu?) object in Salesforce. Currently one of `AMER, APAC, EMEA, LATAM.`
      - name: is_partner_recalled
        description: A boolean field from Salesforce on the lead and contact, these are persons taken back by GitLab when the person was previously passed to partners. The partner had exceeded the time period in which they were supposed to qualify the lead, so they return to GitLab’s possession
      - name: bizible_mql_touchpoint_id
        description: The bizible touchpoint id, of the touchpoint directly preceding the person's Marketo MQL Date. 
      - name: bizible_mql_touchpoint_date
        description: The bizible touchpoint date, of the touchpoint directly preceding the person's Marketo MQL Date. 
      - name: bizible_mql_form_url
        description: The bizible touchpoint form url, of the touchpoint directly preceding the person's Marketo MQL Date. 
      - name: bizible_mql_sfdc_campaign_id
        description: The sfdc campaign id, of the touchpoint directly preceding the person's Marketo MQL Date. 
      - name: bizible_mql_ad_campaign_name
        description: The bizible touchpoint ad campaign name, of the touchpoint directly preceding the person's Marketo MQL Date. 
      - name: bizible_mql_marketing_channel
        description: The bizible touchpoint marketing channel, of the touchpoint directly preceding the person's Marketo MQL Date. 
      - name: bizible_mql_marketing_channel_path
        description: The bizible touchpoint marketing channel path, of the touchpoint directly preceding the person's Marketo MQL Date. 
      - name: bizible_most_recent_touchpoint_id
        description: The bizible touchpoint id, of the most recent touchpoint.  
      - name: bizible_most_recent_touchpoint_date
        description: The bizible touchpoint date, of the most recent touchpoint.  
      - name: bizible_most_recent_form_url
        description: The bizible touchpoint form url,of the most recent touchpoint. 
      - name: bizible_most_recent_sfdc_campaign_id
        description: The sfdc campaign id, of the most recent touchpoint. 
      - name: bizible_most_recent_ad_campaign_name
        description: The bizible touchpoint ad campaign name, of the most recent touchpoint.
      - name: bizible_most_recent_marketing_channel
        description: The bizible touchpoint marketing channel, of the most recent touchpoint. 
      - name: bizible_most_recent_marketing_channel_path
        description: The bizible touchpoint marketing channel path, of the most recent touchpoint.
      - name: is_no_longer_at_company
        description: A SFDC person field that shows whether or not a given record is still with the company/account they are related to. 
      - name: usergem_past_account_id
        description: The ID of the UserGem's Past account.
      - name: usergem_past_account_type
        description: The account type of the UserGem's past account.
      - name: usergem_past_contact_relationship
        description: The contact's relationship of the UserGem's past account.
      - name: usergem_past_company
        description: The name of the UserGem's past account.

  - name: dim_crm_user
    description: '{{ doc("dim_crm_user") }}'
    columns:
      - name: dim_crm_user_id
        description: Primary key for Salesforce users and the primary key for this dimension
        data_tests:
          - unique
          - not_null
        tags: [ "tdf" ]
      - name: is_active
        description: A boolean column that flags if the user is active in salesforce, which means that the user can login and use salesforce.
        tags: [ "tdf" ]
      - name: sdr_sales_segment
        description: Sales segment of the SDR maintained in a [sheetload](https://docs.google.com/spreadsheets/d/17Uhk8yan3C93eKDSznXOEUCYTX9cTbLwWD2klRVykHI/edit#gid=0)
      - name: sdr_region
        description: Region of the SDR maintained in a [sheetload](https://docs.google.com/spreadsheets/d/17Uhk8yan3C93eKDSznXOEUCYTX9cTbLwWD2klRVykHI/edit#gid=0)

  - name: dim_crm_user_daily_snapshot
    description: '{{ doc("dim_crm_user_daily_snapshot") }}'
    columns:
      - name: crm_user_snapshot_id
        description: Primary key for Salesforce users in the daily snapshot and the primary key for this dimension
        data_tests:
          - unique
          - not_null
        tags: [ "tdf"]

  - name: dim_crm_user_hierarchy
    description: '{{ doc("dim_crm_user_hierarchy") }}'
    columns:
      - name: dim_crm_user_hierarchy_id
        data_tests:
          - not_null
          - unique
        tags: ["tdf"]
      - name: pipe_council_grouping
        description: The pipe council field is role level grouping that is used for the monthly pipeline council meeting, and it corresponds with the different sales teams that sales analytics and strategy report on.
  
  - name: dim_crm_touchpoint
    description: '{{ doc("dim_crm_touchpoint") }}'
    columns:
      - name: dim_crm_touchpoint_id
        data_tests:
          - not_null
          - unique:
              config:
                where: bizible_created_date <= DATEADD('day', -2, CURRENT_DATE)::DATE
        tags: ["tdf"]
      - name: dim_crm_buyer_touchpoint_id
        description: The dim_crm_touchpoint_id of the related buyer TP from SFDC. 
      - name: is_dg_influenced
        description: Flag indicating a touchpoint is influenced by Demand Gen based on its segment being Demand Gen.
      - name: is_dg_sourced
        description: Flag indicating a touchpoint is sourced from Demand Gen based on its segment being Demand Gen as well as its position being first touch.
      - name: bizible_form_page_utm_content
        description: The `utm_content` parameter of the `bizible_form_url`
      - name: bizible_form_page_utm_budget
        description: The `utm_budget` parameter of the `bizible_form_url`
      - name: bizible_form_page_utm_allptnr
        description: The `utm_allptnr` (alliance/partner) parameter of the `bizible_form_url`
      - name: bizible_form_page_utm_partnerid
        description: The `utm_partnerid` parameter of the `bizible_form_url`
      - name: bizible_landing_page_utm_content
        description: The `utm_content` parameter of the `bizible_landing_page`
      - name: bizible_landing_page_utm_budget
        description: The `utm_budget` parameter of the `bizible_landing_page`
      - name: bizible_landing_page_utm_allptnr
        description: The `utm_allptnr` (alliance/partner) parameter of the `bizible_landing_page`
      - name: bizible_landing_page_utm_partnerid
        description: The `utm_partnerid` parameter of the `bizible_landing_page`
      - name: utm_campaign 
        description: First non-null value of `utm_campaign` parameter between `bizible_landing_page` and `bizible_form_url`
      - name: utm_source
        description: First non-null value of `utm_source` parameter between `bizible_landing_page` and `bizible_form_url`
      - name: utm_medium
        description: First non-null value of `utm_medium` parameter between `bizible_landing_page` and `bizible_form_url`
      - name: utm_content
        description: First non-null value of `utm_content` parameter between `bizible_landing_page` and `bizible_form_url`
      - name: utm_budget
        description: First non-null value of `utm_budget` parameter between `bizible_landing_page` and `bizible_form_url`
      - name: utm_allptnr
        description: First non-null value of `utm_allptnr` parameter between `bizible_landing_page` and `bizible_form_url`
      - name: utm_partnerid
        description: First non-null value of `utm_partnerid` parameter between `bizible_landing_page` and `bizible_form_url`
      - name: devrel_campaign_type
        description: A field explaining if the campaign was in SFDC or UTMs.
      - name: devrel_campaign_description
        description: A short description of the work the devrel team did on the campaign.
      - name: devrel_campaign_influence_type
        description: The output the devrel team created to contribute to the campaign.
      - name: touchpoint_offer_type
        description: The initial grouping of bizible touchpoint dimensions, creating an offer type bucket. 
      - name: touchpoint_offer_type_grouped
        description: The final grouping of bizible touchpoint dimensions, creating an offer type bucket.
      - name: utm_campaign_date
        description: The date portion of the new utm_campaign structure.
      - name: utm_campaign_region
        description: The region portion of the new utm_campaign structure.
      - name: utm_campaign_budget
        description: The budget portion of the new utm_campaign structure.
      - name: utm_campaign_type
        description: The campaign type portion of the new utm_campaign structure.
      - name: utm_campaign_gtm
        description: The gtm portion of the new utm_campaign structure.
      - name: utm_campaign_language
        description: The language portion of the new utm_campaign structure.
      - name: utm_campaign_name
        description: The name portion of the new utm_campaign structure.
      - name: utm_campaign_agency
        description: The agency portion of the new utm_campaign structure.
      - name: utm_content_offer
        description: The offer portion of the new utm_content structure.
      - name: utm_content_asset_type
        description: The asset type portion of the new utm_content structure.
      - name: utm_content_industry
        description: The industry portion of the new utm_content structure.
        
  - name: dim_date
    description: '{{ doc("dim_date") }}'
    columns:
      - name: date_id
        data_tests:
          - not_null
          - unique
      - name: date_day
        description: '{{ doc("date_date_day") }}'

      - name: date_actual
        description: '{{ doc("date_date_actual") }}'

      - name: day_name
        description: '{{ doc("date_day_name") }}'

      - name: month_actual
        description: '{{ doc("date_month_actual") }}'

      - name: year_actual
        description: '{{ doc("date_year_actual") }}'

      - name: quarter_actual
        description: '{{ doc("date_quarter_actual") }}'

      - name: day_of_week
        description: '{{ doc("date_day_of_week") }}'

      - name: first_day_of_week
        description: '{{ doc("date_first_day_of_week") }}'

      - name: week_of_year
        description: '{{ doc("date_week_of_year") }}'

      - name: day_of_month
        description: '{{ doc("date_day_of_month") }}'

      - name: day_of_quarter
        description: '{{ doc("date_day_of_quarter") }}'

      - name: day_of_year
        description: '{{ doc("date_day_of_year") }}'

      - name: fiscal_year
        description: '{{ doc("date_fiscal_year") }}'

      - name: fiscal_quarter
        description: '{{ doc("date_fiscal_quarter") }}'

      - name: day_of_fiscal_quarter
        description: '{{ doc("date_day_of_fiscal_quarter") }}'

      - name: day_of_fiscal_year
        description: '{{ doc("date_day_of_fiscal_year") }}'

      - name: month_name
        description: '{{ doc("date_month_name") }}'

      - name: first_day_of_month
        description: '{{ doc("date_first_day_of_month") }}'

      - name: last_day_of_month
        description: '{{ doc("date_last_day_of_month") }}'

      - name: first_day_of_year
        description: '{{ doc("date_first_day_of_year") }}'

      - name: last_day_of_year
        description: '{{ doc("date_last_day_of_year") }}'

      - name: first_day_of_quarter
        description: '{{ doc("date_first_day_of_quarter") }}'

      - name: last_day_of_quarter
        description: '{{ doc("date_last_day_of_quarter") }}'

      - name: first_day_of_fiscal_quarter
        description: '{{ doc("date_first_day_of_fiscal_quarter") }}'

      - name: last_day_of_fiscal_quarter
        description: '{{ doc("date_last_day_of_fiscal_quarter") }}'

      - name: first_day_of_fiscal_year
        description: '{{ doc("date_first_day_of_fiscal_year") }}'

      - name: last_day_of_fiscal_year
        description: '{{ doc("date_last_day_of_fiscal_year") }}'

      - name: week_of_fiscal_year
        description: '{{ doc("date_week_of_fiscal_year") }}'

      - name: month_of_fiscal_year
        description: '{{ doc("date_month_of_fiscal_year") }}'

      - name: last_day_of_week
        description: '{{ doc("date_last_day_of_week") }}'

      - name: quarter_name
        description: '{{ doc("date_quarter_name") }}'

      - name: fiscal_quarter_name
        description: '{{ doc("date_fiscal_quarter_name") }}'

      - name: fiscal_quarter_name_fy
        description: '{{ doc("date_fiscal_quarter_name_fy") }}'

      - name: fiscal_quarter_number_absolute
        description: '{{ doc("date_fiscal_quarter_number_absolute") }}'

      - name: fiscal_month_name
        description: '{{ doc("date_fiscal_month_name") }}'

      - name: fiscal_month_name_fy
        description: '{{ doc("date_fiscal_month_name_fy") }}'

      - name: holiday_desc
        description: '{{ doc("date_holiday_desc") }}'

      - name: is_holiday
        description: '{{ doc("date_is_holiday") }}'

      - name: last_month_of_fiscal_quarter
        description: '{{ doc("date_last_month_of_fiscal_quarter") }}'

      - name: is_first_day_of_last_month_of_fiscal_quarter
        description: '{{ doc("date_is_first_day_of_last_month_of_fiscal_quarter") }}'

      - name: last_month_of_fiscal_year
        description: '{{ doc("date_last_month_of_fiscal_year") }}'

      - name: is_first_day_of_last_month_of_fiscal_year
        description: '{{ doc("date_is_first_day_of_last_month_of_fiscal_year") }}'
        
      - name: snapshot_date_fpa
        description: '{{ doc("date_snapshot_date_fpa") }}'

      - name: snapshot_date_billings
        description: '{{ doc("date_snapshot_date_billings") }}'

      - name: days_in_month_count
        description: '{{ doc("date_days_in_month_count") }}'

      - name: current_day_of_month
        description: '{{ doc("current_day_of_month") }}'
      
      - name: current_day_of_fiscal_quarter
        description: '{{ doc("current_day_of_fiscal_quarter") }}'
      
      - name: current_day_of_fiscal_year
        description: '{{ doc("current_day_of_fiscal_year") }}'
      
      - name: is_fiscal_month_to_date
        description: '{{ doc("is_fiscal_month_to_date") }}'
      
      - name: is_fiscal_quarter_to_date
        description: '{{ doc("is_fiscal_quarter_to_date") }}'
      
      - name: is_fiscal_year_to_date
        description: '{{ doc("is_fiscal_year_to_date") }}'
      
      - name: fiscal_days_ago
        description: '{{ doc("fiscal_days_ago") }}'
      
      - name: fiscal_weeks_ago
        description: '{{ doc("fiscal_weeks_ago") }}'
      
      - name: fiscal_months_ago
        description: '{{ doc("fiscal_months_ago") }}'
      
      - name: fiscal_quarters_ago
        description: '{{ doc("fiscal_quarters_ago") }}'

      - name: fiscal_years_ago
        description: '{{ doc("fiscal_years_ago") }}'

  - name: dim_dr_partner_engagement
    description: '{{ doc("dim_dr_partner_engagement") }}'
    columns:
      - name: dim_dr_partner_engagement_id
        description: Identifies the type of business engagement relationship a partner has with GitLab.
        data_tests:
          - unique
          - not_null
        tags: ["tdf"]

  - name: dim_environment
    description: Table with the source data of the data being exposed in dimensional tables where various sources are combined.

  - name: dim_gitlab_ops_gitlab_emails
    description: This model limits the gitlab dotcom emails table to only have records for emails ending with `gitlab.com`.
    columns:
        - name: user_id
          data_tests:
            - not_null
            - unique
        - name: gitlab_ops_user_name
        - name: notification_email
        - name: email_handle
        - name: number_of_emails
          data_tests:
            - accepted_values:
                values: ['1']

  - name: dim_gitlab_dotcom_gitlab_emails
    description: '{{ doc("dim_gitlab_dotcom_gitlab_emails") }}'

  - name: dim_gitlab_releases
    description: '{{ doc("dim_gitlab_releases") }}'
    columns:
      - name: major_minor_version
        description: The unique name of the release maintained by the Version app.
        data_tests:
          - not_null
          - unique
      - name: release_date
        description: The official date of the release, that happens every 22 of each month.
        data_tests:
          - not_null
          - unique

  - name: dim_app_release
    description: '{{ doc("dim_app_release") }}'
    columns:
      - name: dim_app_release_sk
        data_tests:
          - not_null
          - unique
        description: '{{ doc("dim_app_release_sk") }}'
      - name: app_release_id
        description: '{{ doc("app_release_id") }}'
        data_tests:
          - not_null
          - unique
      - name: application
        description: The application that the release refers to.
      - name: version
        description: The unique identifier of the release.
        data_tests:
          - not_null
          - unique
      - name: major_version
        description: The major version number of the release.
      - name: minor_version
        description: The minor version number of the release.
      - name: patch_number
        description: The patch number of the release.
      - name: is_monthly_release
        description: Derived boolean flag noting if the version number corresponds to a major monthly release.
      - name: is_vulnerable
        description: For historical data, the Boolean values of `t` or `f` indicate if vulnerabilities have been detected for the release. For the ongoing data, the values represent the `vulnerability_type` of 0, 1 or 2.
      - name: vulnerability_type_desc
        description: The description of the vulnerability_type - { not_vulnerable - 0, non_critical - 1, critical - 2, vulnerable - t, not_vulnerable - f }
      - name: release_date
        description: Date of the release for the given application.
      - name: updated_date
        description: Update date of the release for the given application.

  - name: dim_hold
    description: '{{ doc("dim_hold") }}'
    columns:
      - name: dim_hold_id
        description: Unique identifier for an accounting hold.
        data_tests:
          - unique
          - not_null
        tags: ["tdf", "zuora_revenue"]

  - name: dim_host
    description: The host_id and host_name of the self-managed instance.
    columns:
      - name: dim_host_id
        data_tests:
          - not_null
          - unique
      - name: host_name

  - name: dim_industry
    description: '{{ doc("dim_industry") }}'
    columns:
      - name: dim_industry_id
        description: Unique identifier of a version of a industry
        data_tests:
          - not_null
          - unique
        tags: ["tdf"]
      - name: industry_name
        description: Industry text
        data_tests:
          - not_null
          - unique
        tags: ["tdf"]

  - name: dim_installation
    description: '{{ doc("dim_installation") }}'
    data_tests:
      - dbt_utils.expression_is_true:
          expression: "installation_creation_date > '2000-01-01' OR dim_installation_id = 'b6a2b5c51f1e36f6fcb8568319633808'"
    columns:
      - name: dim_installation_id
        description: '{{ doc("dim_installation_id") }}'
        data_tests:
          - not_null
          - unique
        tags: ["tdf", "product"]
      - name: host_name
        description: Name/URL of the host
        data_tests:
          - not_null
        tags: ["tdf", "product"]
      - name: dim_instance_id
        description: '{{ doc("dim_instance_id") }}'
        data_tests:
          - not_null
      - name: installation_creation_date
        description: '{{ doc("installation_creation_date") }}'
      - name: product_delivery_type
        description: Delivery type of GitLab; either SaaS or Self-Managed. In this model it is a Type 1 SCD, meaning that we show the most recent Delivery Type when an installation has multiple values.
      - name: product_deployment_type
        description: Deployment type of GitLab; either GitLab.com, Dedicated, or Self-Managed. In this model it is a Type 1 SCD, meaning that we show the most recent Deployment Type when an installation has multiple values.
      - name: is_internal
        description: '{{ doc("is_internal_installation") }}'
      - name: is_staging
        description: '{{ doc("is_staging_installation") }}'

  - name: dim_invoice
    description: '{{ doc("dim_invoice") }}'
    columns:
      - name: dim_invoice_id
        description: The unique identifier of an invoice
        data_tests:
          - not_null
          - unique
        tags: ["tdf"]

  - name: dim_iterable_campaign
    description: Dimensional information on the Iterable Campaign object
    columns:
      - name: iterable_campaign_sk
        description: The unique ID of the iterable campaign
        data_tests:
          - not_null
          - unique
      - name: iterable_campaign_id
        description: Iterable's internal ID for the campaign. 
        data_tests:
          - not_null
      - name: iterable_campaign_state
        description: The current state of the campaign
      - name: iterable_campaign_name
        description: The name of the campaign
      - name: iterable_campaign_type
        description: The type of the campaign
      - name: iterable_campaign_message_medium
        description: The message medium used in the campaign
      - name: iterable_campaign_list_id_array
        description: An array of all list IDs used in the campaign
      - name: iterable_campaign_suppression_list_id_array
        description: An array of all suppression list IDs used in the campaign
      
  - name: dim_iterable_event
    description: Dimensional information on the Iterable Event object
    columns:
      - name: iterable_event_sk
        description: The iterable event's unique ID
        data_tests:
          - not_null
          - unique
      - name: iterable_event_name
        description: The iterable event's name
      - name: iterable_event_ip
        description: The iterable event's IP address
      - name: is_iterable_custom_event
        description: Boolean field showing whether this is a custom event
      - name: iterable_event_recipient_state
        description: The iterable event's recipient state
      - name: iterable_event_status
        description: The iterable event's status
      - name: iterable_event_unsubscribe_source
        description: The iterable event's unsubscribe source
      - name: iterable_event_user_agent
        description: The iterable event's user agent
      - name: iterable_event_transactional_data
        description: The iterable event's transactional data shared

  - name: fct_iterable_campaign_metrics
    description: Iterable's Campaign Metrics
    columns:
      - name: iterable_campaign_metric_sk
        description: The unique ID of the iterable campaign/metric combo.
        data_tests:
          - not_null
          - unique
      - name: iterable_campaign_id
        description: The Iterable Campaign's ID from iterable
      - name: iterable_campaign_template_id
        description: The ID of the template associated with the campaign
      - name: iterable_recurring_campaign_id
        description: The ID of the campaign, if it is a recurring campaign
      - name: iterable_campaign_created_by_user_id
        description: The ID of the user that created the campaign
      - name: iterable_campaign_workflow_id
        description: The ID of the workflow the campaign is used in
      - name: iterable_campaign_updated_at
        description: The date/time of the last update to the campaign
      - name: iterable_campaign_updated_date
        description: The date of the last update to the campaign
      - name: iterable_campaign_created_at
        description: The date/time that the campaign was created
      - name: iterable_campaign_created_date
        description: The date that the campaign was created
      - name: iterable_campaign_ended_at
        description: The date/time that the campaign ended on
      - name: iterable_campaign_ended_date
        description: The date that the campaign ended on
      - name: iterable_campaign_date
        description: The date the Iterable campaign was last invoked/run
      - name: iterable_campaign_app_uninstalls_total
        description: The total app uninstalls in the campaign
      - name: iterable_campaign_complaints_total
        description: The total complaints in the campaign
      - name: iterable_campaign_email_bounced_total
        description: The total bounced emails in the campaign
      - name: iterable_campaign_email_clicked_total
        description: The total clicked emails in the campaign
      - name: iterable_campaign_email_opened_total
        description: The total opened emails in the campaign
      - name: iterable_campaign_email_delivered_total
        description: The total delivered emails in the campaign
      - name: iterable_campaign_email_sends_total
        description: The total sent emails in the campaign
      - name: iterable_campaign_hosted_unsubscribe_clicks_total
        description: The total unsubscribe clicks in the campaign
      - name: iterable_campaign_purchases_total
        description: The total purchases in the campaign
      - name: iterable_campaign_pushes_bounced_total
        description: The total bounced pushes in the campaign
      - name: iterable_campaign_pushes_opened_total
        description: The total opened pushes in the campaign
      - name: iterable_campaign_pushes_sent_total
        description: The total sent pushes in the campaign
      - name: iterable_campaign_unsubscribes_total
        description: The total unsubscribes in the campaign
      - name: iterable_campaign_email_opens_filtered_total
        description: The total filtered email opens in the campaign
      - name: iterable_campaign_custom_conversions_total
        description: The total custom conversions in the campaign
      - name: iterable_campaign_email_holdouts_total
        description: The total email holdouts in the campaign
      - name: iterable_campaign_email_send_skips_total
        description: The total skipped email sends in the campaign
      - name: iterable_campaign_email_bounced_unique
        description: The unique email bounces in the campaign
      - name: iterable_campaign_email_clicks_unique
        description: The unique email clicks in the campaign
      - name: iterable_campaign_email_opens_unique
        description: The unique email opens in the campaign
      - name: iterable_campaign_hosted_unsubscribe_clicks_unique
        description: The unique unsubscribe clicks in the campaign
      - name: iterable_campaign_purchases_unique
        description: The unique purchases in the campaign
      - name: iterable_campaign_pushes_bounced_unique
        description: The unique push bounces in the campaign
      - name: iterable_campaign_pushes_opened_unique
        description: The unique push opens in the campaign
      - name: iterable_campaign_pushes_sent_unique
        description: The unique push sends in the campaign
      - name: iterable_campaign_unsubscribes_unique
        description: The unique unsubscribes in the campaign
      - name: iterable_campaign_email_opens_filtered_unique
        description: The unique filtered email opensin the campaign
      - name: iterable_campaign_emails_delivered_unique
        description: The unique delivered emails in the campaign
      - name: iterable_campaign_custom_conversions_unique
        description: The unique custom conversions in the campaign
      - name: iterable_campaign_email_sends_unique
        description: The unique sent emails in the campaign
      - name: iterable_campaign_custom_conversion_value_average
        description: The average conversion value in the campaign
      - name: iterable_campaign_custom_conversions_sum
        description: The sum of custom conversion in the campaign
      - name: iterable_campaign_delivery_rate
        description: The delivery rate of the campaign
      - name: iterable_campaign_average_order_value
        description: The average order value of the campaign
      - name: iterable_campaign_purchases
        description: The campaign purchases of the campaign
      - name: iterable_campaign_revenue
        description: The revenue of the campaign
      - name: iterable_campaign_click_rate
        description: The click rate of the campaign
      - name: iterable_campaign_unique_click_rate
        description: The unique click rate of the campaign
      - name: iterable_campaign_click_to_open_rate
        description: The CTOR of the campaign
      - name: iterable_campaign_unique_click_to_open_rate
        description: The unique CTOR of the campaign
      - name: iterable_campaign_unsubscribe_rate
        description: The unsubscribe rate of the campaign
      - name: iterable_campaign_unique_unsubscribe_rate
        description: The unique unsubscribe rate of the campaign

  - name: fct_iterable_channel_message_type
    description: ID and date information on the Iterable Channel object
    columns:
      - name: iterable_channel_sk
        description: The Iterable Channel's unique ID
        data_tests:
          - not_null
      - name: iterable_channel_id
        description: The Iterable channel ID for joining to dim.
      - name: iterable_message_type_sk
        description: The Iterable Message Type's unique ID
      - name: iterable_message_type_id
        description: The Iterable Message Type's ID
      - name: iterable_user_fivetran_id
        description: The ID of the user associated with the message type
      - name: iterable_message_channel_id
        description: The Iterable Message Type's channel ID
      - name: iterable_message_created_date_id
        description: The date ID of the Message's created date
      - name: iterable_message_updated_at_id
        description: The Date ID of the Message's updated date time
      - name: iterable_message_created_at
        description: The date/time the message was created at
      - name: iterable_message_created_date
        description: The date the message was created
      - name: iterable_message_updated_at_last
        description: The date/time the message was last updated at

  - name: fct_iterable_event
    description: ID and Date information on the Iterable Event object
    columns:
      - name: iterable_event_sk
        description: The iterable event's unique ID
        data_tests:
          - not_null
          - unique
      - name: iterable_event_fivetran_id
        description: The iterable event's fivetran ID
      - name: iterable_user_fivetran_id
        description: The iterable event's creator user ID
      - name: iterable_event_campaign_id
        description: The iterable event's campaign ID
      - name: iterable_event_message_id
        description: The iterable event's message ID
      - name: iterable_event_content_id
        description: The iterable event's content ID
      - name: iterable_event_message_bus_id
        description: The iterable event's message bus ID
      - name: iterable_event_message_type_id
        description: The iterable event's message type ID
      - name: iterable_event_created_at_id
        description: The date ID of the event's created date time
      - name: iterable_event_created_at
        description: The date/time the event was created at

  - name: dim_sales_qualified_source
    description: '{{ doc("dim_sales_qualified_source") }}'
    columns:
      - name: dim_sales_qualified_source_id
        description: Unique identifier for each sales qualified source name
        data_tests:
          - not_null
          - unique
        tags: ["tdf"]
      - name: sales_qualified_source_name
        description: Sales qualified source name
        data_tests:
          - not_null
          - unique
        tags: ["tdf"]

  - name: dim_deal_path
    description: '{{ doc("dim_deal_path") }}'
    columns:
      - name: dim_deal_path_id
        description: Unique identifier for each purchase channel name
        data_tests:
          - not_null
          - unique
        tags: [ "tdf"]
      - name: deal_path_name
        description: Deal path name text
        data_tests:
          - not_null
          - unique
        tags: [ "tdf"]

  - name: dim_marketo_activity
    description: The Marketo Activity dimensional model, containing attributes of the model
    columns:
      - name: marketo_activity_sk
        description: Unique identifier for Marketo activity
        data_tests:
          - not_null
          - unique
      - name: activity_date
        description: The date the activity occurred
        data_tests:
            - not_null
      - name: activity_datetime
        description: The datetime the activity occurred
        data_tests:
            - not_null
      - name: campaign_name
        description: The campaign name from Marketo.
      - name: campaign_type
        description: The type of Marketo campaign
      - name: campaign_member_status
        description: The status of the campaign member in the given campaign
      - name: marketo_form_name
        description: The name of the Marketo form
      - name: form_fields
        description: An array of all form fields from the Marketo form
      - name: marketo_query_parameters
        description: All query parameters from the web visit's URL
      - name: marketo_referrer_url
        description: The URL that referred to the activity's page
      - name: marketo_form_client_ip_address_hash
        description: Hash of the Client's IP Address
      - name: linkedin_form_name
        description: The name of the LinkedIn Form
      - name: webpage
        description: The name of the visited webpage
      - name: webpage_url
        description: The URL of the visited webpage
      - name: search_engine
        description: The search engine used to bring the visitor to the webpage
      - name: search_query
        description: The query searched that brought the visitor to the webpage
      - name: marketo_email_name
        description: The name of the email engaged with
      - name: marketo_email_category
        description: The category of the email engaged with
      - name: marketo_email_bounce_reason
        description: The bounce reason of the email engaged with
      - name: marketo_email_subcategory
        description: The subcategory of the email engaged with
      - name: marketo_email_test_variant
        description: The test variant of the email engaged with
      - name: changed_score_field
        description: The score field that was changed
      - name: scoring_rule
        description: The scoring rule invoked for he score change
      - name: score_change_original_value
        description: The lead score before change
      - name: score_change_new_value
        description: The lead score after change
      - name: clicked_url
        description: The URL clicked from the email
      - name: push_lead_to_marketo_source
        description: The source of the reason for the push
      - name: marketo_score_decay_reason
        description: The reason for the score decay
      - name: marketo_score_decay_type
        description: The type of score decay activity
      - name: trial_type
        description: The type of trial engaged with
      - name: activity_type
        description: A grouping of activities
      - name: in_current_scoring_model
        description: Whether the activity is in the current scoring model
      - name: scored_action
        description: The type of action being scored
      - name: is_person_activity
        description: T/F flag that indicates if the activity was person-driven or not

  - name: fct_marketo_activity
    description: The Marketo Activity factless fact model, containing all of the IDs and join keys for Marketo Activities
    columns:
      - name: marketo_activity_sk
        description: Unique identifier for Marketo activity
        data_tests:
          - not_null
          - unique
      - name: dim_marketo_person_id
        description: The unique ID for a Marketo person
        data_tests:
            - not_null
      - name: dim_marketo_activity_id
        description: The Marketo Activity ID from Marketo
        data_tests:
            - not_null
      - name: campaign_id
        description: The SFDC campaign ID
      - name: marketo_campaign_id
        description: The Marketo campaign ID
      - name: marketo_form_id
        description: The ID of the Marketo form
      - name: marketo_webpage_id
        description: The ID of the webpage visited
      - name: activity_type_id
        description: The ID of the activity's type
      - name: marketo_nurture
        description: The name of the Marketo nurture
      - name: marketo_nurture_id
        description: The ID of the Marketo nurture
      - name: marketo_nurture_previous_track_id
        description: The previous nurture track's ID
      - name: marketo_email_id
        description: The ID of the email engaged with
      - name: marketo_campaign_run_id
        description: The ID of the campaign involved with the activity
      - name: marketo_email_program_step_id
        description: The Program's step ID of the email engaged with
      - name: push_lead_to_marketo_source_id
        description: The ID of the reason for the push
      - name: current_score
        description: The current score value of the activity
      - name: previous_score
        description: The previous score value of the activity
      - name: test_score
        description: A test score value of the activity
      - name: score_change_net_value
        description: The delta between old and new scores for score change activities
    
  - name: dim_order
    description: '{{ doc("dim_order") }}'
    columns:
      - name: dim_order_id
        description: Unique identifier for each order which groups all order actions within an order
        data_tests:
          - not_null
          - unique

  - name: dim_order_action
    description: '{{ doc("dim_order_action") }}'
    columns:
      - name: dim_order_action_id
        description: Unique identifier for each order action. These represent any action taken grouped under a single order
        data_tests:
          - not_null
          - unique
      - name: dim_order_id
        description: Unique identifier for each order which groups all order actions within an order
      - name: dim_subscription_id
        description: Unique identifier of a subscription
      - name: dim_amendment_id
        description: Unique identifier of an amendment
      - name: order_action_type
        description: The type of order action which took place. For example; 'UpdateProduct', 'RenewSubscription'
      - name: order_action_sequence
        description: The sequence in which the actions were carried out on an order
      - name: is_auto_renew
        description: Boolean field, if true, this subscription automatically renews at the end of the subscription term 
      - name: cancellation_policy
        description: The type of cancellation policy on the subscription
      - name: term_type
      - name: order_action_created_date
        description: The date the order action was created
      - name: customer_acceptance_date
        description: The date on which the services or products within a subscription has been accepted by the customer
      - name: contract_effective_date
        description: The date of the contract that governs the subscription
      - name: service_activation_date
        description: The date on which the services or products within a subscription have been activated and access has been provided to the customer
      - name: current_term
        description: The length of the period for the current subscription term
      - name: current_term_period_type
        description: The period type for the current subscription term
      - name: renewal_term
        description: The length of the period for the subscription renewal term
      - name: renewal_term_period_type
        description: The period type for the subscription renewal term
      - name: renewal_setting
        description: Specifies whether a termed subscription will remain TERMED or change to EVERGREEN when it is renewed
      - name: term_start_date
        description: Date the subscription term begins, as yyyy-mm-dd. If this is a renewal subscription, this date is different from the subscription start date

  - name: dim_order_type
    description: '{{ doc("dim_order_type") }}'
    columns:
      - name: dim_order_type_id
        description: Unique identifier for each order type
        data_tests:
          - not_null
          - unique
        tags: [ "tdf"]
      - name: order_type_name
        description: '{{ doc("order_type_name") }}'
        data_tests:
          - not_null
          - unique
        tags: [ "tdf"]

  - name: dim_sales_funnel_kpi
    description: '{{ doc("dim_sales_funnel_kpi") }}'
    columns:
      - name: dim_sales_funnel_kpi_sk
        description: '{{ doc("dim_sales_funnel_kpi_sk") }}'
        data_tests:
          - not_null
      - name: sales_funnel_kpi_name
        description: '{{ doc("sales_funnel_kpi_name") }}'

  - name: dim_host_instance_type
    description: '{{ doc("dim_host_instance_type") }}'
    columns:
      - name: instance_uuid
        description: Unique identifier for the instance(Self-Managed)
        tags: ["gainsight"]
      - name: instance_hostname
        description: Name of the host of the instance(Self-Managed)
        tags: ["gainsight"]
      - name: namespace_id
        description: Unique Identifier for SaaS data
        tags: ["gainsight"]
      - name: instance_type
        description: Type of the instance
        tags: ["gainsight"]
      - name: dim_crm_account_id
        description: Unique identifier of the CRM account associated with the instance
        tags: ["gainsight"]
      - name: crm_account_name
        description: Name of the CRM account associated with the instance
      - name: included_in_health_measures_str
        description: '{{ doc("included_in_health_measures_str") }}'

  - name: dim_instances
    description: '{{ doc("dim_instances") }}'
    columns:
      - name: uuid
        description: Unique Identifier for GitLab Self-Managed Instances
      - name: recorded_first_usage_ping_time_stamp
        description: The first time a usage ping was sent from this instance and recorded in the Version Database
      - name: recorded_most_recent_usage_ping_time_stamp
        description: The most recent time a usage ping was sent from this instance and recorded in the Version Database
      - name: recorded_minimum_instance_user_count
        description: The minimum instance user count ever recorded from a usage ping for this instance
      - name: recorded_maximum_instance_user_count
        description: The maximum instance user count ever recorded from a usage ping for this instance
      - name: recorded_total_usage_pings_sent
        description: The total number of usage pings ever associated with the instance
      - name: recorded_total_countries
        description: The total number of countries related to usage ping for this instance. This is derived from ip_address
      - name: recorded_total_license_count
        description: The total number of licenses related to usage ping for this instance.
      - name: recorded_total_version_count
        description: The total number of versions related to usage ping for this instance.
      - name: recorded_total_edition_count
        description: The total number of editions related to usage ping for this instance.
      - name: recorded_total_hostname_count
        description: The total number of hostname related to usage ping for this instance.
      - name: recorded_total_host_id_count
        description: The total number of host_id related to usage ping for this instance.
      - name: recorded_total_installation_type_count
        description: The total number of installation_type related to usage ping for this instance.


  - name: dim_location_country
    description: '{{ doc("dim_location_country") }}'
    columns:
      - name: country_name
        data_tests:
          - not_null
      - name: iso_2_country_code
        data_tests:
          - not_null
          - unique
      - name: dim_location_country_id
        data_tests:
          - not_null
          - unique

  - name: dim_location_region
    description: '{{ doc("dim_location_region") }}'
    columns:
      - name: dim_location_region_id
        data_tests:
          - not_null
          - unique

  - name: dim_manual_journal_entry_header
    description: '{{ doc("dim_manual_journal_entry_header") }}'
    columns:
      - name: dim_manual_journal_entry_header_id
        description: Unique identifier for a manual journal entry which may include multiple lines.
        data_tests:
          - unique
          - not_null
        tags: ["tdf", "zuora_revenue"]

  - name: dim_manual_journal_entry_line
    description: '{{ doc("dim_manual_journal_entry_line") }}'
    columns:
      - name: dim_manual_journal_entry_line_id
        description: Unique identifier for a line in a manual journal entry. This can be directly related to a revenue contract line or a revenue contract.
        data_tests:
          - unique
          - not_null
        tags: ["tdf", "zuora_revenue"]

  - name: dim_marketing_contact_no_pii
    description: Non sensitive version of the dim_marketing_contact model.

  - name: dim_product_detail
    description: '{{ doc("dim_product_detail") }}'
    columns:
      - name: dim_product_detail_id
        description: The unique ID of each row in dim_product_detail, based on product rate plan charge ID.
        data_tests:
          - unique
          - not_null
        tags: [ "tdf", "gainsight"]
      - name: dim_product_tier_id
        description: The unique ID of a product tier determined in dim_product_tier.
        data_tests:
          - not_null
        tags: [ "tdf", "gainsight"]
      - name: product_id
        description: The ID of the product that contains the product rate plan.
        data_tests:
          - not_null
        tags: [ "tdf", "gainsight"]
      - name: product_name
        description: The name of the product
      - name: is_reporter_license
        description: "Reporter licenses are in the Products with 'Additional Permission Types' in the name."
      - name: billing_list_price
        description: The price of the tier if the charge is a flat fee, or the price of each unit in the tier if the charge model is tiered pricing.
      - name: product_rate_plan_charge_id
        description: The unique ID of a product rate plan charge
      - name: product_rate_plan_name
        description: The name of the product rate plan. The name doesn't have to be unique in a Product Catalog, but the name has to be unique within a product.
      - name: product_rate_plan_charge_name
        description: The name of the product rate plan charge
      - name: product_sku
        description: The unique SKU for the product
      - name: product_tier_historical
        description: Product pricing tiers prior to [tier renaming](https://gitlab-com.gitlab.io/packaging-and-pricing/pricing-handbook/handbook/renaming_tiers/) (early 2021).
      - name: product_tier_historical_short
        description: Pulls the product tier from `product_tier_historical` with the delivery type removed
      - name: product_tier_name
        description: Product [pricing tiers](https://about.gitlab.com/handbook/marketing/strategic-marketing/tiers/) for both SaaS and Self-Managed customers. Includes the mapping from SaaS - Silver to SaaS - Premium, and from SaaS - Gold to SaaS - Ultimate.
      - name: product_tier_name_short
        description: Pulls the product tier from `product_tier_name` with the delivery type removed
      - name: product_deployment_type
        description: How a product is deployed to the customer; Self-Managed, GitLab.com or Dedicated (or Other).
      - name: effective_start_date
        description: The date when the product becomes available and can be subscribed to
      - name: effective_end_date
        description: The date when the product expires and can't be subscribed to anymore
      - name: is_oss_or_edu_rate_plan
        description: Flag for rate plans containing OSS or EDU
      - name: is_licensed_user
        description: '{{ doc("is_licensed_user") }}'
      - name: is_licensed_user_base_product
        description: '{{ doc("is_licensed_user_base_product") }}'
      - name: is_licensed_user_add_on
        description: '{{ doc("is_licensed_user_add_on") }}'
      - name: is_arpu
        description: Flag to identify what counts towards Annual Revenue Per User (ARPU). It works by excluding `Storage` product_tier and `EDU` product_rate_plan.
      - name: product_category
        description: Categorizes Zuora Products as either Add On Services or Base Products
      - name: product_rate_plan_category
        description: On created opportunities (Web store/Sales assisted), the Product category field is be populated at the Rate plan level in Salesforce.


  - name: dim_product_tier
    description: '{{ doc("dim_product_tier") }}'
    columns:
      - name: dim_product_tier_id
        description: ID of the product tier determined by the surrogate key macro.
        data_tests:
          - unique
          - not_null
        tags: [ "tdf", "gainsight"]
      - name: product_tier_historical
        description: Product pricing tiers prior to [tier renaming](https://gitlab-com.gitlab.io/packaging-and-pricing/pricing-handbook/handbook/renaming_tiers/) (early 2021).
        tags: [ "tdf", "gainsight"]
        data_tests:
          - not_null
          - unique
      - name: product_tier_historical_short
        description: Pulls the product tier from `product_tier_historical` with the delivery type removed
      - name: product_tier_name
        description: Name of the [GitLab tier](https://about.gitlab.com/handbook/marketing/strategic-marketing/tiers/) associated with the product.
        tags: [ "tdf", "gainsight"]
        data_tests:
          - not_null
      - name: product_tier_name_short
        description: Pulls the product tier from `product_tier_name` with the delivery type removed.
      - name: product_delivery_type
        description: How a product is delivered to the customer; SaaS or Self-Managed (or Other).
      - name: product_deployment_type
        description: How a product is deployed to the customer; Self-Managed, GitLab.com or Dedicated (or Other).
      - name: product_ranking
        description: Numeric product pricing tier, independent of delivery type.

  - name: dim_project
    description: '{{ doc("dim_project") }}'
    columns:
      - name: dim_project_id
        description: ID of the project (from Gitlab Postgres db)
        data_tests:
          - not_null
          - unique
      - name: dim_namespace_id
        description: ID of the namespace the project belongs to
        data_tests:
          - not_null
      - name: dim_user_id_creator
        description: ID of the user who created the project
      - name: member_count
        description: Do not use this count, it is incorrect. Use [gitlab_dotcom_memberships](https://dbt.gitlabdata.com/#!/model/model.gitlab_snowflake.gitlab_dotcom_memberships) for member counts.
      - name: has_merge_trains_enabled
        description: '{{ doc("has_merge_trains_enabled") }}'   

  - name: dim_revenue_contract
    description: '{{ doc("dim_revenue_contract") }}'
    columns:
      - name: dim_revenue_contract_id
        description: Unique identifier for a revenue contract.
        data_tests:
          - unique
          - not_null
        tags: ["tdf", "zuora_revenue"]

  - name: dim_revenue_contract_hold
    description: '{{ doc("dim_revenue_contract_hold") }}'
    columns:
      - name: dim_revenue_contract_hold_id
        description: Unique identifier for a hold applied to a revenue contract or revenue contract line.
        data_tests:
          - unique
          - not_null
        tags: ["tdf", "zuora_revenue"]

  - name: dim_revenue_contract_line
    description: '{{ doc("dim_revenue_contract_line") }}'
    columns:
      - name: dim_revenue_contract_line_id
        description: Unique identifier for a revenue contract line.
        data_tests:
          - unique
          - not_null
        tags: ["tdf", "zuora_revenue"]

  - name: dim_revenue_contract_performance_obligation
    description: '{{ doc("dim_revenue_contract_performance_obligation") }}'
    columns:
      - name: dim_revenue_contract_performance_obligation_id
        description: Unique identifier for a performance obligation connected to a revenue contract line.
        data_tests:
          - unique
          - not_null
        tags: ["tdf", "zuora_revenue"]

  - name: dim_revenue_contract_schedule
    description: '{{ doc("dim_revenue_contract_performance_obligation") }}'
    columns:
      - name: dim_revenue_contract_schedule_id
        description: Unique identifier for a performance obligation connected to a revenue contract line.
        data_tests:
          - unique
          - not_null
        tags: ["tdf", "zuora_revenue"]

  - name: dim_sales_segment
    description: '{{ doc("dim_sales_segment") }}'
    columns:
      - name: dim_sales_segment_id
        description: Unique identifier of a version of a sales segment
        data_tests:
          - not_null
          - unique
        tags: [ "tdf"]
      - name: sales_segment_name
        description: Sales Segment text
        data_tests:
          - not_null
          - unique
        tags: [ "tdf"]

  - name: dim_sales_territory
    description: '{{ doc("dim_sales_territory") }}'
    columns:
      - name: dim_sales_territory_id
        description: Unique identifier of a version of a sales territory
        data_tests:
          - not_null
          - unique
        tags: [ "tdf"]
      - name: sales_territory_name
        description: Sales Territory text
        data_tests:
          - not_null
          - unique
        tags: [ "tdf"]

  - name: dim_subscription
    description: '{{ doc("dim_subscription") }}'
    columns:
      - name: dim_subscription_id
        description: Unique identifier of a version of a subscription
        data_tests:
          - not_null
          - unique
        tags: ["tdf", "gainsight"]
      - name: dim_crm_account_id
        description: account id from SFDC identifing the customer
      - name: dim_billing_account_id
        description: The id of the Zuora account the subscription is associated with the customer
      - name: dim_billing_account_id_invoice_owner
      - name: dim_crm_opportunity_id
      - name: dim_subscription_id_original
        data_tests:
          - not_null
        tags: ["tdf", "gainsight"]
      - name: dim_subscription_id_previous
      - name: amendment_id
      - name: subscription_name_slugify
        description: The unique identifier of the subscription
      - name: subscription_status
        description: The status of the subscription
        data_tests:
          - not_null
          - accepted_values:
              values: ['Active', 'Cancelled', 'Draft', 'Expired']
        tags: ["tdf", "gainsight"]
      - name: namespace_name
        description: The namespace related to the subscription.
      - name: namespace_id
        description: The id of the namespace related to the subscription.
      - name: subscription_version
        description: The version number of the subscription
      - name: is_auto_renew
        description: Boolean field, if true, this subscription automatically renews at the end of the subscription term
      - name: zuora_renewal_subscription_name
        description: name of the linked subscription that renews the prior subscription in a lineage
      - name: zuora_renewal_subscription_name_slugify
        description: name of the linked subscription that renews the prior subscription in a lineage
      - name: renewal_term
        description: The length of the period for the subscription renewal term
      - name: renewal_term_period_type
        description: The period type for the subscription renewal term. This field is used with the renewal term field to specify the subscription renewal term.
      - name: subscription_start_date
        description: The date when the subscription term starts. This date is the same as the start date of the original term, which isn't necessarily the start date of the current or new term.
      - name: subscription_end_date
        description: The date when the subscription term ends, where the subscription ends at midnight the day before. For example, if the SubscriptionEndDate is 12/31/2016, the subscriptions ends at midnight (00:00:00 hours) on 12/30/2016. This date is the same as the term end date or the cancelation date, as appropriate.
      - name: subscription_start_month
        description: The month when the subscription term starts. This month is the same as the start month of the original term, which isn't necessarily the start month of the current or new term.
      - name: subscription_end_month
        description: The month when the subscription term ends. This month is the same as the term end month or the cancelation month, as appropriate.
      - name: subscription_sales_type
        description: Identifies whether a subscription is Sales-Assisted or Self-Service / Web Direct.
        data_tests:
          - not_null
          - accepted_values:
                  values: ['Sales-Assisted', 'Self-Service']
        tags: ["tdf", "gainsight"]
      - name: lineage
        description: "All the subscriptions subsquent to the primary subscription, separated by commas."
      - name: cohort_month
      - name: cohort_quarter
      - name: cohort_year
      - name: is_myb
        description: MYB = Multi-Year Booking. This boolean flag identifies if a subscription is booked for more than one year. This can either be by having a term greater than 12 months or having a linked subscription.
      - name: is_myb_with_multi_subs
        description: MYB = Multi-Year Booking. This boolean flag identifies if a subscription is booked for more than one year by using multiple linked subscriptions only. A subscription with a term greater than 12 but does not have linked subscriptions has a value of FALSE.
      - name: was_purchased_through_reseller
        description: Boolean field that indicates whether the subscription was purchased through a reseller. If TRUE, the `invoice_owner_account` will contain the name of the reseller.
      - name: dim_crm_opportunity_id_current_open_renewal
        description: '{{ doc("dim_crm_opportunity_id_current_open_renewal") }}'
      - name: dim_crm_opportunity_id_closed_lost_renewal
        description: '{{ doc("dim_crm_opportunity_id_closed_lost_renewal") }}'
      - name: dim_oldest_subscription_in_cohort_id
        description: '{{ doc("dim_oldest_subscription_in_cohort_id") }}'
      - name: dim_oldest_crm_account_in_cohort_id
        description: '{{ doc("dim_oldest_crm_account_in_cohort_id") }}'
      - name: oldest_subscription_start_date
        description: '{{ doc("oldest_subscription_start_date") }}'
      - name: oldest_subscription_cohort_month
        description: '{{ doc("oldest_subscription_cohort_month") }}'
      - name: ramp_id
        description: The unique identifier of each ramp deal.  
      - name: is_ramp
        description: The indicator flag to identify ramp deals based on ramp_id and multi_year_deal_subscription_linkage fields.
      - name: subscription_created_datetime
        description: '{{ doc("subscription_created_datetime") }}'
      - name: subscription_updated_datetime
        description: '{{ doc("subscription_updated_datetime") }}'

  - name: dim_app_release_major_minor
    description: '{{ doc("dim_app_release_major_minor") }}'
    columns:
      - name: dim_app_release_major_minor_sk
        description: '{{ doc("dim_app_release_major_minor_sk") }}'
        data_tests:
          - not_null
          - unique
      - name: app_release_major_minor_id
        description: '{{ doc("app_release_major_minor_id") }}'
      - name: application
        description: The application that the release refers to.
      - name: major_minor_version
        description: '{{ doc("major_minor_version") }}'
      - name: major_minor_version_num
        description: '{{ doc("major_minor_version_num") }}'
      - name: major_version
        description: '{{ doc("major_version") }}'
      - name: minor_version
        description: '{{ doc("minor_version") }}'
      - name: release_date
        description: '{{ doc("release_date") }}'
      - name: version_number
        description: '{{ doc("version_number") }}'
      - name: next_version_release_date
        description: '{{ doc("next_version_release_date") }}'
      

  - name: dim_subscription_snapshot_bottom_up
    description: Daily snapshot of subscriptions starting from 2020-03-01. This is built from the bottom up using snapshotted source tables.
    columns:
      - name: subscription_snapshot_id
        description: Unique identifier of a subscription snapshot
        data_tests:
          - not_null
          - unique
        tags: ["tdf"]
      - name: was_purchased_through_reseller
        description: Boolean field that indicates whether the subscription was purchased through a reseller. If TRUE, the `invoice_owner_account` will contain the name of the reseller.

  - name: fct_campaign
    description: '{{ doc("fct_campaign") }}'
    columns:
      - name: dim_campaign_id
        description: Unique identifier of a SFDC campaign.
        data_tests:
          - not_null
          - unique
        tags: ["tdf"]

  - name: fct_available_to_renew
    description: '{{ doc("fct_available_to_renew") }}'
    columns:
      - name: primary_key
        description: Composite key for the model combining the unique identifier of the charge
        data_tests:
          - not_null
          - unique
      - name: fiscal_year
        description: Fiscal year when the subscription will be available to renew.
        data_tests:
          - not_null
        tags: ["tdf"]
      - name: fiscal_quarter_name_fy
        description: Fiscal quarter when the subscription will be available to renew.
      - name: dim_charge_id
        description: Unique identifier of a rate plan charge associated with the subscription.
      - name: dim_crm_opportunity_id
        description: Unique identifier of the crm opportunity associated with the subscription.
      - name: dim_crm_account_id
        description: Unique identifier of the crm account associated with the subscription.
      - name: dim_billing_account_id
        description: Unique identifier of the billing account associated with the subscription.
      - name: dim_subscription_id
        description: Unique identifier of a subscription.
        data_tests:
          - not_null
        tags: ["tdf"]
      - name: subscription_name
        description: Name applied to the subscription.
      - name: renewal_subscription_name
        description: Name of a renewal subscription associated with the current subscription.
      - name: parent_crm_account_name
        description: Name of the ultimate parent crm account associated with the subscription.
      - name: atr_term_start_date
        description: The minimum term start date of the Subscription
      - name: atr_term_end_date
        description: The maximum term end date of the Subscription
      - name: dim_crm_user_id
        description: Unique identifier of the account owner associated with the subscription.
      - name: user_name
        description: Name of the account owner associated with the subscription.
      - name: user_role_id
        description: Unique identifier of the role of the account owner associated with the subscription.
      - name: crm_user_sales_segment
        description: Segment of the account owner associated with the subscription.
      - name: crm_user_geo
        description: Geo of the account owner associated with the subscription.
      - name: crm_user_region
        description: Region of the account owner associated with the subscription.
      - name: crm_user_area
        description: Area of the account owner associated with the subscription.
      - name: quantity
        description: Sum of the quantity where the unit of measurement is 'Seats'.
      - name: arr
        description: Annual recurring revenue associated with the subscription. 

  - name: fct_available_to_renew_snapshot_model
    description: Snapshot model for `fct_available_to_renew` expanded to the daily grain. This models shows the state of what was available to renew on any given day based on snapshot data from the base `fct_available_to_renew` model.
    columns:
      - name: primary_key
        data_tests:
          - not_null
        tags: [ "tdf"]
      
  - name: fct_crm_attribution_touchpoint
    description: '{{ doc("fct_crm_attribution_touchpoint") }}'
    columns:
      - name: dim_crm_touchpoint_id
        data_tests:
          - not_null
          - unique:
              config:
                where: bizible_created_date <= DATEADD('day', -2, CURRENT_DATE)::DATE
        tags: ["tdf"]
      - name: opps_per_touchpoint
        description: Count of opportunities associated with a touchpoint.
      - name: campaigns_per_opp
        description: Count of campaigns associated with an opportunity that are also associated with touchpoints.
      - name: bizible_count_first_touch
        description: Count of touchpoints that are first touch.
      - name: bizible_count_lead_creation_touch
        description: Count of lead creation touchpoints.
      - name: bizible_attribution_percent_full_path
        description: Weight of touchpoint in [full path attribution model](https://about.gitlab.com/handbook/marketing/marketing-operations/bizible/#full-path) which tracks the entire lifecycle of the record from `First Touch` through the point of becoming a customer - `Customer Close`.
      - name: bizible_count_u_shaped
        description: Weight of touchpoint in [u-shaped attribution model](https://about.gitlab.com/handbook/marketing/marketing-operations/bizible/#u-shaped) which racks every single touchpoint up to the point of lead creation. It emphasizes the importance of two touchpoints -
          1. the first touch that brought the lead to us (while anonymous) - `First Touch` 
          2. the touchpoint that converted the lead to a known prospect - `Lead Creation`
      - name: bizible_count_w_shaped
        description: Weight of touchpoint in [w-shaped attribution model](https://about.gitlab.com/handbook/marketing/marketing-operations/bizible/#w-shaped) which emphasizes the importance of three touchpoints - 
          1. the first touch that brought the lead to us (while anonymous) - `First Touch`
          2. the touchpoint that converted the lead to a known prospect - `Lead Creation`
          3. the touchpoint that converted that prospect to an opportunity - `Opportunity Creation`
      - name: bizible_count_custom_model
        description:  Weight of touchpoint in [custom attribution model](https://about.gitlab.com/handbook/marketing/marketing-operations/bizible/#custom-attribution-based-on-bizible-machine-learning-algorithm) which is based on the Bizible machine learning attribution model uses our touchpoint data to calculate how much attribution weighting should be assigned to each stage. This is determined by how important each stage was in driving deals to close.
      - name: is_mgp_opportunity
        description: Flag that determines whether the opportunity is eligible for Marketing Generated Pipeline metric calculation. Should be used together with the is_net_arr_pipeline_created flag to derive the actual Marketing Generated Pipeline Metric.  For more information contact `#mktg-analytics` on Slack.
      - name: is_mgp_channel_based
        description: Flag that determines whether the record is eligible for Marketing Generated Pipeline metric calculation, based solely on Bizible Touchpoint Channel rules. Should be used together with the is_net_arr_pipeline_created flag to derive the actual Marketing Generated Pipeline Metric.  For more information contact `#mktg-analytics` on Slack.
      - name: gitlab_model_weight
        description: Our FY26 Marketing Attribution Touchpoint Weight, that combines the data driven importance of each touchpoint in the buyer's journey together with the temporal component based on the time decay model. For more information contact `#mktg-analytics` on Slack. ee Issue `https://gitlab.com/gitlab-com/marketing/marketing-strategy-performance/-/issues/2018` Fr more details.
        data_tests:
          - dbt_utils.accepted_range:
              min_value: 0
              max_value: 1
      - name: time_decay_model_weight
        description: Time Decay based Attribution Model relative to the opportunity. It assigns 2/3 of the credit to the touchpoints that happen within 180 days from the last touchpoint, and 1/3 of a decaying credit to touchpoints relative to 180 days from the first touchpoint on the opportunity. For more information contact `#mktg-analytics` on Slack. ee Issue `https://gitlab.com/gitlab-com/marketing/marketing-strategy-performance/-/issues/2018` Fr more details.
        data_tests:
          - dbt_utils.accepted_range:
              min_value: 0
              max_value: 1
      - name: data_driven_model_weight
        description: Data Driven touchpoint attribution model developed by the Marketing Analytics team. For more information contact `#mktg-analytics` on Slack. ee Issue `https://gitlab.com/gitlab-com/marketing/marketing-strategy-performance/-/issues/2018` Fr more details.
        data_tests:
          - dbt_utils.accepted_range:
              min_value: 0
              max_value: 1

  - name: fct_crm_touchpoint
    description: '{{ doc("fct_crm_touchpoint") }}'
    columns:
      - name: dim_crm_touchpoint_id
        data_tests:
          - not_null
          - unique:
              config:
                where: bizible_created_date <= DATEADD('day', -2, CURRENT_DATE)::DATE
        tags: ["tdf"]
        
  - name: fct_crm_person
    description: '{{ doc("fct_crm_person") }}'
    columns:
      - name: dim_crm_person_id
        description: A dbt generated surrogate key combining the lead id and contact id.
        data_tests:
          - unique
          - not_null
        tags: ["tdf"]
      - name: sfdc_record_id
        description: the record id from Salesforce whether a contactId or a leadId
      - name: bizible_person_id
        description: The unique identifier assigned to a lead or contact in Bizible used to join to touchpoint and attribution data.
      - name: dim_crm_user_id
        description: the ownerid from the lead or contact respectively for joining on dim_crm_user
      - name: dim_crm_account_id
        description: the accountId from contacts and lean_data_matched_account from leads to join on dim_crm_account
        data_tests:
          - dbt_utils.relationships_where:
              to: ref('dim_crm_account')
              field: dim_crm_account_id
              from_condition: GREATEST(IFNULL(lead_created_date, '1999-01-01'), IFNULL(contact_created_date, '1999-01-01')) <= DATEADD('day', -2, CURRENT_DATE)::DATE
        tags: ["tdf"]
      - name: mql_date_first
        description: The first date a lead or contact was assigned a Marketo Qualified Lead Date.
      - name: mql_date_latest
        description: The most recent date a lead or contact was assigned a Marketo Qualified Lead Date.
      - name: is_mql
        description: a boolean field created in the warehouse to flag Marketing Qualified Leads.
      - name: traction_first_response_time
        description: The response time from Traction. 
      - name: traction_first_response_time_seconds
        description: The response time from Traction in seconds. 
      - name: traction_response_time_in_business_hours
        description: The response time from Traction, based only in working hours for the user/rep. 
      - name: propensity_to_purchase_score_date
        description: This field indicates the date when most recent probability to purchase score was calculated.
      - name: propensity_to_purchase_score_group
        description: This field indicates the propensity to purchase score, 5 being the highest probability to purchase.
      - name: pql_namespace_creator_job_description
        description: namespace creator self-described job description
      - name: pql_namespace_id
        description: ID of the PQL's namespace, from SFDC. 
      - name: pql_namespace_name
        description: Name of the PQL's namespace, from SFDC. 
      - name: pql_namespace_users
        description: number of namespace users
      - name: is_product_qualified_lead
        description: Whether or not the lead is a PQL. 
      - name: propensity_to_purchase_insights
        description: This field provides insights into the probability score of a record to purchase.
      - name: is_ptp_contact
        description: This field indicates if the record has a calculated propensity to purchase score.
      - name: propensity_to_purchase_namespace_id
        description: This field indicates the namespace ID that has been scored for propensity to purchase.
      - name: propensity_to_purchase_past_insights
        description: This field provides insights into the previous probability score of a record to purchase.
      - name: propensity_to_purchase_past_score_group
        description: This field indicates the previous propensity to purchase score a user had.
      - name: propensity_to_purchase_days_since_trial_start
        description: This field indicates the number of days that passed since this user started a trial.
      - name: is_partner_recalled
        description: A boolean field from Salesforce on the lead and contact, these are persons taken back by GitLab when the person was previously passed to partners. The partner had exceeded the time period in which they were supposed to qualify the lead, so they return to GitLab’s possession


  - name: fct_saas_product_usage_metrics_monthly
    description: '{{ doc("fct_saas_product_usage_metrics_monthly") }}'
    columns:
      - name: dim_subscription_id
        data_tests:
          - not_null
        tags: ["tdf", "gainsight"]
      - name: dim_subscription_id_original
        data_tests:
          - not_null
        tags: ["tdf", "gainsight"]
      - name: dim_billing_account_id
        data_tests:
          - not_null
        tags: ["tdf", "gainsight"]
      - name: dim_namespace_id
      - name: snapshot_month
        description: First day of the month in which data is being reported.
        data_tests:
          - not_null
        tags: ["tdf", "gainsight"]
      - name: snapshot_date_id
        data_tests:
          - not_null
        tags: ["tdf", "gainsight"]
      - name: instance_type
        description: Type of instance (Production/Non-Production)
      - name: subscription_seats
      - name: billable_user_count
      - name: license_utilization
      - name: max_historical_user_count
      - name: included_in_health_measures_str
        description: '{{ doc("included_in_health_measures_str") }}'
      - name: umau_28_days_user
        description: '{{ doc("umau_28_days_user_desc") }}'
      - name: action_monthly_active_users_project_repo_28_days_user
        description: Monthly count of unique users that made an Action on a valid [Target](https://docs.gitlab.com/ee/api/events.html#target-types) ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#usage_activity_by_stage_monthlycreateaction_monthly_active_users_project_repo))
      - name: merge_requests_28_days_user
        description: Monthly count of unique users making merge requests ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#usage_activity_by_stage_monthlycreatemerge_requests))
      - name: projects_with_repositories_enabled_28_days_user
        description: Monthly count of unique users that created projects with repositories enabled ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#usage_activity_by_stage_monthlycreateprojects_with_repositories_enabled))
      - name: commit_comment_all_time_event
        description: All-time count commit comments ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#countscommit_comment))
      - name: source_code_pushes_all_time_event
        description: All-time count of source code pushes ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#countssource_code_pushes))
      - name: ci_pipelines_28_days_user
        description: Monthly count of unique users triggering pipelines ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#usage_activity_by_stage_monthlyverifyci_pipelines))
      - name: ci_internal_pipelines_28_days_user
        description: Monthly count of unique users triggering pipelines in GitLab repositories ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#usage_activity_by_stage_monthlyverifyci_internal_pipelines))
      - name: ci_builds_28_days_user
        description: Monthly count of unique users running CI builds ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#usage_activity_by_stage_monthlyverifyci_builds))
      - name: ci_builds_all_time_user
        description: All-time count of unique users running CI builds ([source]()https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#usage_activity_by_stageverifyci_builds)
      - name: ci_builds_all_time_event
        description: All-time count of CI builds ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#countsci_builds))
      - name: ci_runners_all_time_event
        description: All-time count of CI Runners ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#countsci_runners))
      - name: auto_devops_enabled_all_time_event
        description: All-time count of Projects with auto DevOps template enabled ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#countsauto_devops_enabled))
      - name: gitlab_shared_runners_enabled
        description: Flags whether shared runners are enabled ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#gitlab_shared_runners_enabled))
      - name: container_registry_enabled
        description: Flags whether container registry is enabled ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#container_registry_enabled))
      - name: template_repositories_all_time_event
        description: All-time total of custom project templates and projects without namespaces ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#countstemplate_repositories))
      - name: ci_pipeline_config_repository_28_days_user
        description: Monthly count of unique users triggering pipelines from templates in repository ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#usage_activity_by_stage_monthlyverifyci_pipeline_config_repository))
      - name: user_unique_users_all_secure_scanners_28_days_user
        description: Monthly count of unique users running secure CI builds ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#usage_activity_by_stage_monthlysecureuser_unique_users_all_secure_scanners))
      - name: user_sast_jobs_28_days_user
        description: Monthly count of unique users running SAST CI builds ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#usage_activity_by_stage_monthlysecureuser_sast_jobs))
      - name: user_dast_jobs_28_days_user
        description: Monthly count of unique users running DAST CI builds ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#usage_activity_by_stage_monthlysecureuser_dast_jobs))
      - name: user_dependency_scanning_jobs_28_days_user
        description: Monthly count of unique users running dependency scanning CI builds ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#usage_activity_by_stage_monthlysecureuser_dependency_scanning_jobs))
      - name: user_license_management_jobs_28_days_user
        description: Monthly count of unique users running license management CI builds ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#usage_activity_by_stage_monthlysecureuser_license_management_jobs))
      - name: user_secret_detection_jobs_28_days_user
        description: Monthly count of unique users running secret detection CI builds ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#usage_activity_by_stage_monthlysecureuser_secret_detection_jobs))
      - name: user_container_scanning_jobs_28_days_user
        description: Monthly count of unique users running container scanning CI builds ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#usage_activity_by_stage_monthlysecureuser_container_scanning_jobs))
      - name: object_store_packages_enabled
        description: Flags whether Object Storage is enabled for Uploads ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#object_storepackagesenabled))
      - name: projects_with_packages_all_time_event
        description: All-time count of projects with package registry configured ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#countsprojects_with_packages))
      - name: projects_with_packages_28_days_event
        description: '{{ doc("projects_with_packages_28_days_event_desc") }}'
        data_tests:
          - dbt_utils.at_least_one
      - name: deployments_28_days_user
        description: Monthly count of unique users triggering deployments ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#usage_activity_by_stage_monthlyreleasedeployments))
      - name: releases_28_days_user
        description: Monthly count of unique users authoring releases ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#usage_activity_by_stage_monthlyreleasereleases))
      - name: epics_28_days_user
        description: Monthly count of unique users authoring epics ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#usage_activity_by_stage_monthlyplanepics))
      - name: issues_28_days_user
        description: Monthly count of unique users authoring issues ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#usage_activity_by_stage_monthlyplanissues))
      - name: ci_internal_pipelines_all_time_event
        description: All-time count of pipelines in GitLab repositories ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#countsci_internal_pipelines))
      - name: ci_external_pipelines_all_time_event
        description: All-time count of pipelines in external repositories ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#countsci_external_pipelines))
      - name: merge_requests_all_time_event
        description: All-time count of Merge Requests ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#countsmerge_requests))
      - name: todos_all_time_event
        description: All-time count of ToDos created ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#countstodos))
      - name: epics_all_time_event
        description: All-time count of Epics created ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#countsepics))
      - name: issues_all_time_event
        description: All-time count of Issues created ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#countsissues))
      - name: projects_all_time_event
        description: All-time count of Projects created ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#countsprojects))
      - name: deployments_28_days_event
        description: Monthly count of deployments ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#counts_monthlydeployments))
      - name: packages_28_days_event
        description: Monthly count of Packages ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#counts_monthlypackages))
      - name: dast_jobs_all_time_event
        description: All-time count of DAST CI builds ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#countsdast_jobs))
      - name: license_management_jobs_all_time_event
        description: All-time count of License Management CI builds ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#countslicense_management_jobs))
      - name: secret_detection_jobs_all_time_event
        description: All-time count of Secret Detection’ CI builds ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#countssecret_detection_jobs))
      - name: projects_jenkins_active_all_time_event
        description: All-time count of projects with active integrations for Jenkins ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#countsprojects_jenkins_active))
      - name: projects_bamboo_active_all_time_event
        description: All-time count of projects with active integrations for Bamboo CI ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#countsprojects_bamboo_active))
      - name: projects_jira_active_all_time_event
        description: All-time count of projects with active integrations for Jira ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#countsprojects_jira_active))
      - name: projects_drone_ci_active_all_time_event
        description: All-time count of projects with active integrations for Drone CI ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#countsprojects_drone_ci_active))
      - name: jira_imports_28_days_event
        description: Monthly count of Issues imported from Jira ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#usage_activity_by_stage_monthlymanageissue_importsjira)). This metric has been deprecated but we are keeping the field around for history.
      - name: projects_github_active_all_time_event
        description: All-time count of projects with active integrations for GitHub ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#countsprojects_github_active))
      - name: projects_jira_dvcs_cloud_active_all_time_event
        description: All-time count of active integrations with Jira Cloud (DVCS Connector) ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#countsprojects_jira_dvcs_cloud_active))
      - name: projects_with_repositories_enabled_all_time_event
        description: All-time count of projects with repositories enabled ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#countsprojects_with_repositories_enabled))
      - name: protected_branches_all_time_event
        description: All-time count of protected branches ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#countsprotected_branches))
      - name: remote_mirrors_all_time_event
        description: All-time count of remote mirrors ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#countsremote_mirrors))
      - name: projects_enforcing_code_owner_approval_28_days_user
        description: Monthly count of unique users creating projects that require code owner approval ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#usage_activity_by_stage_monthlycreateprojects_enforcing_code_owner_approval))
      - name: project_clusters_enabled_28_days_user
        description: Monthly count of unique users using GitLab Managed enabled clusters attached to projects ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#usage_activity_by_stage_monthlyconfigureproject_clusters_enabled))
      - name: analytics_28_days_user
        description: The number of unique users viewing any [Analytics page](https://docs.gitlab.com/ee/user/analytics/) ([source](https://about.gitlab.com/handbook/product/stage-and-group-performance-indicators/#manage-manageoptimize---smau-gmau---mau-viewing-analytics-features))
      - name: issues_edit_28_days_user
        description: Number of unique users interacting with an issue (open, close, reopen, adjust label, adjust milestone, adjust weight, comment) ([source](https://about.gitlab.com/handbook/product/stage-and-group-performance-indicators/#plan-planproject-management---smau-paid-gmau---mau-interacting-with-issues))
      - name: user_packages_28_days_user
        description: The maximum distinct count of users who published a package to the Package Registry. In the future, this value will the distinct count of users across all Package AMAUs ([source](https://about.gitlab.com/handbook/product/stage-and-group-performance-indicators/#packagepackage---smau-gmau---count-of-users-publishing-packages))
      - name: terraform_state_api_28_days_user
        description: Monthly active users of GitLab Managed Terraform State ([source](https://about.gitlab.com/handbook/product/stage-and-group-performance-indicators/#configureconfigure---smau-gmau---mau-of-gitlab-managed-terraform-state))
      - name: incident_management_28_days_user
        description: Unique users that interact with alerts or incidents ([source](https://about.gitlab.com/handbook/product/stage-and-group-performance-indicators/#monitormonitor---smau-gmau---unique-users-that-interact-with-alerts-and-incidents))
      - name: auto_devops_enabled
        description: Flags whether auto DevOps is enabled on an instance ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#instance_auto_devops_enabled))
      - name: gitaly_clusters_instance
        description: Number of GitLab Managed clusters both enabled and disabled on an instance ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#gitalyclusters))
      - name: epics_deepest_relationship_level_instance
        description: Numeric level of the deepest relationship of all epics on an instance ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#countsepics_deepest_relationship_level))
      - name: network_policy_forwards_all_time_event
        description: Cumulative count of packets forwarded by Cilium (Container Network Security) ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#countsnetwork_policy_forwards))
      - name: network_policy_drops_all_time_event
        description: Cumulative count of packets dropped by Cilium (Container Network Security) ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#countsnetwork_policy_drops))
      - name: requirements_with_test_report_all_time_event
        description: All-time count of requirements having a test report ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#countsrequirements_with_test_report))
      - name: requirement_test_reports_ci_all_time_event
        description: All-time count of requirement test reports created from CI ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#countsrequirement_test_reports_ci))
      - name: projects_imported_from_github_all_time_event
        description: All-time count of project imported from GitHub ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#countsprojects_imported_from_github))
      - name: projects_jira_dvcs_server_active_all_time_event
        description: All-time count of active integrations with Jira Software (DVCS connector) ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#countsprojects_jira_dvcs_server_active))
      - name: service_desk_issues_all_time_event
        description: All-time count of service desk issues ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#countsservice_desk_issues))
      - name: ci_pipelines_all_time_user
        description: All-time count of distinct Users triggering Total pipelines ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#usage_activity_by_stageverifyci_pipelines))
      - name: service_desk_issues_28_days_user
        description: Monthly count of users opening service desk issues ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#usage_activity_by_stage_monthlyplanservice_desk_issues))
      - name: projects_jira_active_28_days_user
        description: Monthly count of users interacting with active integrations of Jira Software ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#usage_activity_by_stage_monthlyplanprojects_jira_active))
      - name: projects_jira_dvcs_server_active_28_days_user
        description: Monthly count of users interacting with active integrations of Jira Software (DVCS connector) ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#usage_activity_by_stage_monthlyplanprojects_jira_dvcs_server_active))
      - name: merge_requests_with_required_code_owners_28_days_user
        description: Monthly count of users creating merge requests with required code owners ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#usage_activity_by_stage_monthlycreatemerge_requests_with_required_codeowners))
      - name: analytics_value_stream_28_days_event
        description: Monthly count of visits to [Value Stream Analytics](https://about.gitlab.com/stages-devops-lifecycle/value-stream-analytics/) ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#redis_hll_countersanalyticsg_analytics_valuestream_monthly))
      - name: code_review_user_approve_mr_28_days_user
        description: Monthly count of users approving merge requests ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#redis_hll_counterscode_reviewi_code_review_user_approve_mr_monthly))
      - name: epics_usage_28_days_user
        description: Monthly users count for epics_usage ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#redis_hll_countersepics_usageepics_usage_total_unique_counts_monthly))
      - name: project_management_issue_milestone_changed_28_days_user
        description: Monthly count of MAU changing an issue’s milestone ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#redis_hll_countersissues_editg_project_management_issue_milestone_changed_monthly))
      - name: project_management_issue_iteration_changed_28_days_user
        description: Monthly count of MAU changing an issue’s iteration ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#redis_hll_countersissues_editg_project_management_issue_iteration_changed_monthly))
      - name: protected_branches_28_days_user
        description: '{{ doc("protected_branches_28_days_user_desc") }}'
        data_tests:
          - dbt_utils.at_least_one
      - name: ci_cd_lead_time_usage_28_days_event
        description: '{{ doc("ci_cd_lead_time_usage_28_days_event_desc") }}'
        data_tests:
          - dbt_utils.at_least_one
      - name: ci_cd_deployment_frequency_usage_28_days_event
        description: '{{ doc("ci_cd_deployment_frequency_usage_28_days_event_desc") }}'
        data_tests:
          - dbt_utils.at_least_one
      - name: projects_with_repositories_enabled_all_time_user
        description: '{{ doc("projects_with_repositories_enabled_all_time_user_desc") }}'
        data_tests:
          - dbt_utils.at_least_one
      - name: environments_all_time_event
        description: '{{ doc("environments_all_time_event_desc") }}'
        data_tests:
          - dbt_utils.at_least_one
      - name: feature_flags_all_time_event
        description: '{{ doc("feature_flags_all_time_event_desc") }}'
        data_tests:
          - dbt_utils.at_least_one
      - name: successful_deployments_28_days_event
        description: '{{ doc("successful_deployments_28_days_event_desc") }}'
        data_tests:
          - dbt_utils.at_least_one
      - name: failed_deployments_28_days_event
        description: '{{ doc("failed_deployments_28_days_event_desc") }}'
        data_tests:
          - dbt_utils.at_least_one
      - name: projects_compliance_framework_all_time_event
        description: '{{ doc("projects_compliance_framework_all_time_event_desc") }}'
        data_tests:
          - dbt_utils.at_least_one
      - name: commit_ci_config_file_28_days_user
        description: '{{ doc("commit_ci_config_file_28_days_user_desc") }}'
        data_tests:
          - dbt_utils.at_least_one
      - name: view_audit_all_time_user
        description: '{{ doc("view_audit_all_time_user_desc") }}'
        data_tests:
          - dbt_utils.at_least_one
      - name: dependency_scanning_jobs_all_time_user
        description: '{{ doc("dependency_scanning_jobs_all_time_user_desc") }}'
        data_tests:
          - dbt_utils.at_least_one
      - name: analytics_devops_adoption_all_time_user
        description: '{{ doc("analytics_devops_adoption_all_time_user_desc") }}'
        data_tests:
          - dbt_utils.at_least_one
      - name: projects_imported_all_time_event
        description: '{{ doc("projects_imported_all_time_event_desc") }}'
        data_tests:
          - dbt_utils.at_least_one
      - name: preferences_security_dashboard_28_days_user
        description: '{{ doc("preferences_security_dashboard_28_days_user_desc") }}'
        data_tests:
          - dbt_utils.at_least_one
      - name: web_ide_edit_28_days_user
        description: '{{ doc("web_ide_edit_28_days_user_desc") }}'
        data_tests:
          - dbt_utils.at_least_one
      - name: auto_devops_pipelines_all_time_event
        description: '{{ doc("auto_devops_pipelines_all_time_event_desc") }}'
        data_tests:
          - dbt_utils.at_least_one
      - name: projects_prometheus_active_all_time_event
        description: '{{ doc("projects_prometheus_active_all_time_event_desc") }}'
        data_tests:
          - dbt_utils.at_least_one
      - name: prometheus_enabled
        description: '{{ doc("prometheus_enabled_desc") }}'
        data_tests:
          - dbt_utils.at_least_one
      - name: prometheus_metrics_enabled
        description: '{{ doc("prometheus_metrics_enabled_desc") }}'
        data_tests:
          - dbt_utils.at_least_one
      - name: group_saml_enabled
        description: '{{ doc("group_saml_enabled_desc") }}'
        data_tests:
          - dbt_utils.at_least_one
      - name: jira_issue_imports_all_time_event
        description: '{{ doc("jira_issue_imports_all_time_event_desc") }}'
        data_tests:
          - dbt_utils.at_least_one
      - name: author_epic_all_time_user
        description: '{{ doc("author_epic_all_time_user_desc") }}'
        data_tests:
          - dbt_utils.at_least_one
      - name: author_issue_all_time_user
        description: '{{ doc("author_issue_all_time_user_desc") }}'
        data_tests:
          - dbt_utils.at_least_one
      - name: failed_deployments_28_days_user
        description: '{{ doc("failed_deployments_28_days_user_desc") }}'
        data_tests:
          - dbt_utils.at_least_one
      - name: successful_deployments_28_days_user
        description: '{{ doc("successful_deployments_28_days_user_desc") }}'
        data_tests:
          - dbt_utils.at_least_one
      - name: geo_enabled
        description: '{{ doc("geo_enabled_desc") }}'
        data_tests:
          - dbt_utils.at_least_one
      - name: auto_devops_pipelines_28_days_user
        description: '{{ doc("auto_devops_pipelines_28_days_user_desc") }}'
        data_tests:
          - dbt_utils.at_least_one
      - name: active_instance_runners_all_time_event
        description: '{{ doc("active_instance_runners_all_time_event_desc") }}'
        data_tests:
          - dbt_utils.at_least_one
      - name: active_group_runners_all_time_event
        description: '{{ doc("active_group_runners_all_time_event_desc") }}'
        data_tests:
          - dbt_utils.at_least_one
      - name: active_project_runners_all_time_event
        description: '{{ doc("active_project_runners_all_time_event_desc") }}'
        data_tests:
          - dbt_utils.at_least_one
      - name: gitaly_version
        description: '{{ doc("gitaly_version_desc") }}'
        data_tests:
          - dbt_utils.at_least_one
      - name: gitaly_servers_all_time_event
        description: '{{ doc("gitaly_servers_all_time_event_desc") }}'
        data_tests:
          - dbt_utils.at_least_one
      - name: snippets_28_days_event
        description: '{{ doc("snippets_28_days_event_desc") }}'
        data_tests:
          - dbt_utils.at_least_one
      - name: single_file_editor_28_days_user
        description: '{{ doc("single_file_editor_28_days_user_desc") }}'
        data_tests:
          - dbt_utils.at_least_one
      - name: merge_requests_created_28_days_event
        description: '{{ doc("merge_requests_created_28_days_event_desc") }}'
        data_tests:
          - dbt_utils.at_least_one
      - name: merge_requests_created_28_days_user
        description: '{{ doc("merge_requests_created_28_days_user_desc") }}'
        data_tests:
          - dbt_utils.at_least_one
      - name: merge_requests_approval_rules_28_days_event
        description: '{{ doc("merge_requests_approval_rules_28_days_event_desc") }}'
        data_tests:
          - dbt_utils.at_least_one
      - name: custom_compliance_frameworks_28_days_event
        description: '{{ doc("custom_compliance_frameworks_28_days_event_desc") }}'
        data_tests:
          - dbt_utils.at_least_one
      - name: projects_security_policy_28_days_event
        description: '{{ doc("projects_security_policy_28_days_event_desc") }}'
        data_tests:
          - dbt_utils.at_least_one
      - name: merge_requests_security_policy_28_days_user
        description: '{{ doc("merge_requests_security_policy_28_days_user_desc") }}'
        data_tests:
          - dbt_utils.at_least_one
      - name: pipelines_implicit_auto_devops_28_days_event
        description: '{{ doc("pipelines_implicit_auto_devops_28_days_event_desc") }}'
        data_tests:
          - dbt_utils.at_least_one
      - name: pipeline_schedules_28_days_user
        description: '{{ doc("pipeline_schedules_28_days_user_desc") }}'
        data_tests:
          - dbt_utils.at_least_one
      - name: ci_internal_pipelines_28_days_event
        description: '{{ doc("ci_internal_pipelines_28_days_event_desc") }}'
        data_tests:
          - dbt_utils.at_least_one
      - name: ci_builds_28_days_event
        description: '{{ doc("ci_builds_28_days_event_desc") }}'
        data_tests:
          - dbt_utils.at_least_one
      - name: groups_all_time_event
        description: '{{ doc("groups_all_time_event_desc") }}'
        data_tests:
          - dbt_utils.at_least_one
      - name: commit_ci_config_file_7_days_user
        description: '{{ doc("commit_ci_config_file_7_days_user_desc") }}'
        data_tests:
          - dbt_utils.at_least_one
      - name: ci_pipeline_config_repository_all_time_user
        description: '{{ doc("ci_pipeline_config_repository_all_time_user_desc") }}'
        data_tests:
          - dbt_utils.at_least_one
      - name: ci_pipeline_config_repository_all_time_event
        description: '{{ doc("ci_pipeline_config_repository_all_time_event_desc") }}'
        data_tests:
          - dbt_utils.at_least_one
      - name: pipeline_schedules_all_time_event
        description: '{{ doc("pipeline_schedules_all_time_event_desc") }}'
        data_tests:
          - dbt_utils.at_least_one
      - name: pipeline_schedules_all_time_user
        description: '{{ doc("pipeline_schedules_all_time_user_desc") }}'
        data_tests:
          - dbt_utils.at_least_one
      - name: ci_builds_28_days_event_post_16_9
        description: '{{ doc("ci_builds_28_days_event_post_16_9_desc") }}'
      - name: is_missing_paid_seats
        description: Flags if there are currently active users, but no seats have been paid for
      - name: is_data_in_subscription_month
        description: Flags if there is either Subscription Seats data or Usage Ping data present in the given month for a given subscription
      - name: is_latest_data
        description: Flags the row with the most recently received data from Usage Ping

  - name: fct_usage_ci_minutes
    description: '{{ doc("fct_usage_ci_minutes") }}'
    columns:
      - name: snapshot_month
        description: Month in which CI Minutes usage data was snapshotted, formatted as `20YY-MM-01`.
        data_tests:
          - not_null
        tags: ["tdf", "gainsight"]
      - name: dim_namespace_id
        description: ID of the namespace responsible for the CI Minutes usage.
        data_tests:
          - not_null
        tags: ["tdf", "gainsight"]
      - name: ultimate_parent_namespace_id
        description: ID of the namespace's ultimate parent namespace.
        data_tests:
          - not_null
        tags: ["tdf", "gainsight"]
      - name: namespace_type
        description: '{{ doc("namespace_type") }}'
      - name: visibility_level
        description: '{{ doc("visibility_level") }}'
      - name:  limit
        description: Monthly CI Minutes limit of the namespace, based on its [product tier](https://about.gitlab.com/pricing/). This value will be 'Not supported minutes' if shared runners are not enabled on the namespace and 'Unlimited minutes' for certain GitLab internal namespaces.
        data_tests:
          - not_null
        tags: ["tdf", "gainsight"]
      - name: shared_runners_minutes_used_overall
        description: Total CI Minutes used in the snapshot month.
        data_tests:
          - not_null
        tags: ["tdf", "gainsight"]
      - name: status
        description: Status of CI Minutes usage against the tier-based limit by namespaces with `shared_runners_minutes_limit` enabled. Over Quota, Under Quota, or Disabled.
      - name: status_based_plan
        description: Status independent of whether there aren't projects with `shared_runners_enabled` inside the namespaces and only take into account how many minutes have been used from the monthly quota based in the plan of the namespace.
      - name: used
        description: CI Minutes used against the tier-based limit in a given snapshot month.
      - name: limit_based_plan
        description: Limit independent of whether there aren't projects with `shared_runners_enabled` inside the namespaces and only take into account how many minutes have been used from the monthly quota based in the plan of the namespace.
      - name: limit_purchased
        description: Limit of extra CI Minutes purchased once monthly minutes have been used up.
      - name: used_purchased
        description: Purchased extra CI Minutes used in a given snapshot month.
      - name: status_purchased
        description: Status of CI Minutes usage against the extra CI Minutes purchased limit by namespaces.

  - name: fct_event_valid
    description: '{{ doc("fct_event_valid") }}'
    columns:
      - name: event_pk
        description: '{{ doc("event_pk") }}'
        data_tests:
          - not_null
          - unique:
              config:
                where: "event_date >= DATEADD('day',-7,CURRENT_DATE())"
      - name: event_id
        description: '{{ doc("event_id") }}'
      - name: dim_event_date_id
        description: '{{ doc("dim_event_date_id") }}'
      - name: dim_ultimate_parent_namespace_id
        description: '{{ doc("dim_ultimate_parent_namespace_id_event_model") }}'
      - name: dim_project_id
        description: '{{ doc("dim_project_id_event_model") }}'
      - name: dim_user_id
        description: '{{ doc("dim_user_id") }}'
      - name: dim_latest_product_tier_id
        description: '{{ doc("dim_latest_product_tier_id") }}'
      - name: dim_latest_subscription_id
        description: '{{ doc("dim_latest_subscription_id") }}'
      - name: dim_crm_account_id
        description: '{{ doc("dim_crm_account_id") }}'
      - name: dim_billing_account_id
        description: '{{ doc("dim_billing_account_id") }}'
      - name: event_created_at
        description: '{{ doc("event_created_at") }}'
      - name: event_date
        description: '{{ doc("event_date") }}'
      - name: group_name
        description: '{{ doc("group_name") }}'
        data_tests:
          - not_null
      - name: section_name
        description: '{{ doc("section_name") }}'
        data_tests:
          - not_null
      - name: stage_name
        description: '{{ doc("stage_name") }}'
        data_tests:
          - not_null
      - name: is_smau
        description: '{{ doc("is_smau") }}'
        data_tests:
          - not_null
      - name: is_gmau
        description: '{{ doc("is_gmau") }}'
        data_tests:
          - not_null
      - name: is_umau
        description: '{{ doc("is_umau") }}'
        data_tests:
          - not_null
      - name: parent_id
        description: '{{ doc("parent_id") }}'
      - name: parent_type
        description: '{{ doc("parent_type") }}'
      - name: event_name
        description: '{{ doc("event_name") }}'
      - name: plan_id_at_event_date
        description: '{{ doc("plan_id_at_event_date") }}'
      - name: plan_name_at_event_date
        description: '{{ doc("plan_name_at_event_date") }}'
      - name: plan_was_paid_at_event_date
        description: '{{ doc("plan_was_paid_at_event_date") }}'
      - name: days_since_user_creation_at_event_date
        description: '{{ doc("days_since_user_creation_at_event_date") }}'
      - name: days_since_namespace_creation_at_event_date
        description: '{{ doc("days_since_namespace_creation_at_event_date") }}'
      - name: days_since_project_creation_at_event_date
        description: '{{ doc("days_since_project_creation_at_event_date") }}'
      - name: data_source
        description: '{{ doc("data_source") }}'
      - name: created_by
        description: '{{ doc("created_by") }}'
      - name: updated_by
        description: '{{ doc("updated_by") }}'
      - name: model_created_date
        description: '{{ doc("model_created_date") }}'
      - name: model_updated_date
        description: '{{ doc("model_updated_date") }}'

  - name: fct_event
    description: '{{ doc("fct_event") }}'
    columns:
      - name: event_pk
        description: '{{ doc("event_pk") }}'
        # data_tests:
          # - not_null
          # - unique
      - name: event_id
        description: '{{ doc("event_id") }}'
      - name: event_name
        description: '{{ doc("event_name") }}'
      - name: dim_event_date_id
        description: '{{ doc("dim_event_date_id") }}'
      - name: dim_ultimate_parent_namespace_id
        description: '{{ doc("dim_ultimate_parent_namespace_id_event_model") }}'
      - name: dim_project_id
        description: '{{ doc("dim_project_id_event_model") }}'
      - name: dim_user_id
        description: '{{ doc("dim_user_id") }}'
      - name: event_created_at
        description: '{{ doc("event_created_at") }}'
      - name: event_date
        description: '{{ doc("event_date") }}'
      - name: parent_id
        description: '{{ doc("parent_id") }}'
      - name: parent_type
        description: '{{ doc("parent_type") }}'
      - name: event_name
        description: '{{ doc("event_name") }}'
      - name: plan_id_at_event_timestamp
        description: '{{ doc("plan_id_at_event_timestamp") }}'
      - name: plan_name_at_event_timestamp
        description: '{{ doc("plan_name_at_event_timestamp") }}'
      - name: plan_was_paid_at_event_timestamp
        description: '{{ doc("plan_was_paid_at_event_timestamp") }}'
      - name: days_since_user_creation_at_event_date
        description: '{{ doc("days_since_user_creation_at_event_date") }}'
      - name: days_since_namespace_creation_at_event_date
        description: '{{ doc("days_since_namespace_creation_at_event_date") }}'
      - name: days_since_project_creation_at_event_date
        description: '{{ doc("days_since_project_creation_at_event_date") }}'
      - name: data_source
        description: '{{ doc("data_source") }}'
      - name: created_by
        description: '{{ doc("created_by") }}'
      - name: updated_by
        description: '{{ doc("updated_by") }}'
      - name: model_created_date
        description: '{{ doc("model_created_date") }}'
      - name: model_updated_date
        description: '{{ doc("model_updated_date") }}'

  - name: fct_event_daily
    description: '{{ doc("fct_event_daily") }}'
    columns:
      - name: event_user_daily_pk
        description: The unique ID of a daily event.
        data_tests:
          - not_null
          - unique
      - name: dim_latest_product_tier_id
        description: '{{ doc("dim_latest_product_tier_id") }}'
      - name: dim_latest_subscription_id
        description: '{{ doc("dim_latest_subscription_id") }}'
      - name: dim_crm_account_id
        description: '{{ doc("dim_crm_account_id") }}'
      - name: dim_billing_account_id
        description: '{{ doc("dim_billing_account_id") }}'
      - name: dim_user_sk
        description: '{{ doc("dim_user_sk") }}'
      - name: dim_user_id
        description: '{{ doc("dim_user_id") }}'
      - name: dim_ultimate_parent_namespace_id
        description: '{{ doc("dim_ultimate_parent_namespace_id") }}'
      - name: dim_event_date_id
        description: '{{ doc("dim_event_date_id") }}'
      - name: event_date
        description: '{{ doc("event_date") }}'
      - name: event_name
        description: '{{ doc("event_name") }}'
      - name: days_since_user_creation_at_event_date
        description: '{{ doc("days_since_user_creation_at_event_date") }}'
      - name: days_since_namespace_creation_at_event_date
        description: '{{ doc("days_since_namespace_creation_at_event_date") }}'
      - name: stage_name
        description: '{{ doc("stage_name") }}'
      - name: section_name
        description: '{{ doc("section_name") }}'
      - name: group_name
        description: '{{ doc("group_name") }}'
      - name: is_smau
        description: '{{ doc("is_smau") }}'
      - name: is_gmau
        description: '{{ doc("is_gmau") }}'
      - name: is_umau
        description: '{{ doc("is_umau") }}'
      - name: data_source
        description: '{{ doc("data_source") }}'
      - name: is_null_user
        description: '{{ doc("is_null_user") }}'
      - name: plan_id_at_event_date
        description: '{{ doc("plan_id_at_event_date") }}'
      - name: event_count
        description: '{{ doc("event_count") }}'
      - name: latest_event_date_timestamp
        description: '{{ doc("latest_event_date_timestamp") }}'
      - name: plan_name_at_event_date
        description: '{{ doc("plan_name_at_event_date") }}'
      - name: plan_was_paid_at_event_date
        description: '{{ doc("plan_was_paid_at_event_date") }}'
  - name: fct_event_user_daily
    description: '{{ doc("fct_event_user_daily") }}'
    columns:
      - name: event_user_daily_pk
        description: The unique ID of a daily event.
        data_tests:
          - not_null
          - unique
      - name: dim_event_date_id
        description: '{{ doc("dim_event_date_id") }}'
      - name: dim_ultimate_parent_namespace_id
        description: '{{ doc("dim_ultimate_parent_namespace_id_event_model") }}'
      - name: dim_user_id
        description: '{{ doc("dim_user_id") }}'
      - name: dim_latest_product_tier_id
        description: '{{ doc("dim_latest_product_tier_id") }}'
      - name: dim_latest_subscription_id
        description: '{{ doc("dim_latest_subscription_id") }}'
      - name: dim_crm_account_id
        description: '{{ doc("dim_crm_account_id") }}'
      - name: dim_billing_account_id
        description: '{{ doc("dim_billing_account_id") }}'
      - name: event_date
        description: '{{ doc("event_date") }}'
      - name: group_name
        description: '{{ doc("group_name") }}'
        data_tests:
          - not_null
      - name: section_name
        description: '{{ doc("section_name") }}'
        data_tests:
          - not_null
      - name: stage_name
        description: '{{ doc("stage_name") }}'
        data_tests:
          - not_null
      - name: is_smau
        description: '{{ doc("is_smau") }}'
        data_tests:
          - not_null
      - name: is_gmau
        description: '{{ doc("is_gmau") }}'
        data_tests:
          - not_null
      - name: is_umau
        description: '{{ doc("is_umau") }}'
        data_tests:
          - not_null
      - name: event_name
        description: '{{ doc("event_name") }}'
      - name: days_since_user_creation_at_event_date
        description: '{{ doc("days_since_user_creation_at_event_date") }}'
      - name: days_since_namespace_creation_at_event_date
        description: '{{ doc("days_since_namespace_creation_at_event_date") }}'
      - name: plan_id_at_event_date
        description: '{{ doc("plan_id_at_event_date") }}'
      - name: plan_name_at_event_date
        description: '{{ doc("plan_name_at_event_date") }}'
      - name: plan_was_paid_at_event_date
        description: '{{ doc("plan_was_paid_at_event_date") }}'
      - name: data_source
        description: '{{ doc("data_source") }}'
      - name: event_count
        description: '{{ doc("event_count") }}'
      - name: created_by
        description: '{{ doc("created_by") }}'
      - name: updated_by
        description: '{{ doc("updated_by") }}'
      - name: model_created_date
        description: '{{ doc("model_created_date") }}'
      - name: model_updated_date
        description: '{{ doc("model_updated_date") }}'

  - name: fct_event_namespace_daily
    description: '{{ doc("fct_event_namespace_daily") }}'
    columns:
      - name: event_namespace_daily_pk
        description: The unique ID of a daily namespace level event.
        data_tests:
          - not_null
          - unique
      - name: dim_event_date_id
        description: '{{ doc("dim_event_date_id") }}'
      - name: dim_ultimate_parent_namespace_id
        description: '{{ doc("dim_ultimate_parent_namespace_id_event_model") }}'
      - name: dim_latest_product_tier_id
        description: '{{ doc("dim_latest_product_tier_id") }}'
      - name: dim_latest_subscription_id
        description: '{{ doc("dim_latest_subscription_id") }}'
      - name: dim_crm_account_id
        description: '{{ doc("dim_crm_account_id") }}'
      - name: dim_billing_account_id
        description: '{{ doc("dim_billing_account_id") }}'
      - name: event_date
        description: '{{ doc("event_date") }}'
      - name: group_name
        description: '{{ doc("group_name") }}'
        data_tests:
          - not_null
      - name: section_name
        description: '{{ doc("section_name") }}'
        data_tests:
          - not_null
      - name: stage_name
        description: '{{ doc("stage_name") }}'
        data_tests:
          - not_null
      - name: is_smau
        description: '{{ doc("is_smau") }}'
        data_tests:
          - not_null
      - name: is_gmau
        description: '{{ doc("is_gmau") }}'
        data_tests:
          - not_null
      - name: is_umau
        description: '{{ doc("is_umau") }}'
        data_tests:
          - not_null
      - name: event_name
        description: '{{ doc("event_name") }}'
      - name: event_count
        description: '{{ doc("event_count") }}'
      - name: user_count
        description: '{{ doc("user_count") }}'
      - name: plan_id_at_event_date
        description: '{{ doc("plan_id_at_event_date") }}'
      - name: plan_name_at_event_date
        description: '{{ doc("plan_name_at_event_date") }}'
      - name: plan_was_paid_at_event_date
        description: '{{ doc("plan_was_paid_at_event_date") }}'
      - name: days_since_namespace_creation_at_event_date
        description: '{{ doc("days_since_namespace_creation_at_event_date") }}'
      - name: data_source
        description: '{{ doc("data_source") }}'
      - name: created_by
        description: '{{ doc("created_by") }}'
      - name: updated_by
        description: '{{ doc("updated_by") }}'
      - name: model_created_date
        description: '{{ doc("model_created_date") }}'
      - name: model_updated_date
        description: '{{ doc("model_updated_date") }}'

  - name: fct_usage_self_managed_seat_link
    description: '{{ doc("fct_usage_self_managed_seat_link") }}'
    columns:
      - name: latest_order_id_in_month
        description: Order ID that was associated with the subscription at month close.
        data_tests:
          - not_null
        tags: ["tdf", "gainsight"]
      - name: dim_subscription_id
        data_tests:
          - not_null
        tags: ["tdf", "gainsight"]
      - name: dim_subscription_id_original
        data_tests:
          - not_null
        tags: ["tdf", "gainsight"]
      - name: dim_subscription_id_previous
        data_tests:
          - not_null
        tags: ["tdf", "gainsight"]
      - name: dim_crm_account_id
        data_tests:
          - not_null
        tags: ["tdf", "gainsight"]
      - name: dim_billing_account_id
        data_tests:
          - not_null
        tags: ["tdf", "gainsight"]
      - name: dim_product_tier_id
        data_tests:
          - not_null
        tags: ["tdf", "gainsight"]
      - name: active_user_count
        description: '{{ doc("active_user_count") }}'
      - name: license_user_count
        description: '{{ doc("license_user_count") }}'
        data_tests:
          - not_null
        tags: ["tdf", "gainsight"]
      - name: max_historical_user_count
        description: '{{ doc("max_historical_user_count") }}'
        tags: ["tdf", "gainsight"]
      - name: is_last_seat_link_report_per_subscription
        description: Flags if the row contains the most recent Seat Link record received for the subscription.
      - name: is_last_seat_link_report_per_order
        description: Flags if the row contains the most recent Seat Link record received for the order.
      - name: is_subscription_in_zuora
        description: Flags rows where the `zuora_subscription_id` from `customers_db_orders_source` is not found in `dim_subscription`.
      - name: is_rate_plan_in_zuora
        description: Flags rows where the `product_rate_plan_id` from `customers_db_orders_source` is not found in `dim_product_tier`.
      - name: is_active_user_count_available
        description: Flags rows where `active_user_count` is NULL in source.
      - name: snapshot_month
        description: Month in which Seat Link usage data is reported.
        data_tests:
          - not_null
        tags: ["tdf", "gainsight"]
      - name: report_date
        description: Day on which Seat Link usage data is reported. Should always be last day of month for historical months.
        data_tests:
          - not_null
        tags: ["tdf", "gainsight"]

  - name: fct_usage_storage
    description: '{{ doc("fct_usage_storage") }}'
    columns:
      - name: snapshot_month
        description: Month in which Storage usage data was snapshotted, formatted as `20YY-MM-01`.
        data_tests:
          - not_null
        tags: ["tdf", "gainsight"]
      - name: dim_namespace_id
        description: ID of the namespace responsible for the Storage usage.
        data_tests:
          - not_null
        tags: ["tdf", "gainsight"]
      - name: ultimate_parent_namespace_id
        description: ID of the namespace's ultimate parent namespace.
        data_tests:
          - not_null
        tags: ["tdf", "gainsight"]
      - name: largest_repository_size_gib
        description: Size of the namespace's largest project repository, in GiB.
      - name: total_free_storage_limit_gib
        description: Sum of free repository level storage (10 GiB) over all repositories under the top level namespace. Since storage limits are provided in GiB, they are being reported in GiB. For certain GitLab internal namespaces this value is 0, implying **unlimited storage**.
        data_tests:
          - not_null
        tags: ["tdf", "gainsight"]
      - name: total_purchased_storage_limit_gib
        description: Total extra storage purhaced across all namespaces under the top level namespace. Extra storage is currently purchased in 10 GiB increments and thus is reported in GiB.
        data_tests:
          - not_null
        tags: ["tdf", "gainsight"]
      - name: has_repositories_above_free_limit
        description: Flags for the presence of repositories with 10 GiB or more of billable storage.
      - name: repositories_above_free_limit_count
        description: Count of repositories with 10 GiB or more of billable storage.
      - name: has_capped_repositories
        description: Flags for the presence of repositories with 10 GiB or more of billable storage with no available purchased storage remaining.
      - name: capped_repositories_count
        description: Count of repositories with 10 GiB or more of billable storage and no available purchased storage remaining.
      - name: total_free_storage_size
        description: Total billable storage used _under_ the free 10 GiB limit across all repositories under the top level namespace.
      - name: total_purchased_storage_size
        description: Total billable storage used _over_ the free 10 GiB limit across all repositories under the top level namespace.
      - name: billable_storage_bytes
        description: This value consists of the only types of storage that GitLab currently limits, and thus are possible to be billable. This value is equivalent to `repository_size` + `lfs_objects_size` across all repositories under the top level namespace.
      - name: repository_bytes
        description: Total size of repository across all repositories under the top level namespace.
      - name: container_registry_size
        description: Total size of container registry under the top level namespace
      - name: lfs_objects_bytes
        description: Total size of Large File Storage objects across all repositories under the top level namespace.
      - name: build_artifacts_bytes
        description: Total size of build artifacts across all repositories under the top level namespace.
      - name: packages_bytes
        description: Total size of packagess across all repositories under the top level namespace.
      - name: wiki_bytes
        description: Total size of wikis across all repositories under the top level namespace.
      - name: storage_bytes
        description: Sum of reposity, LFS objects, build artifacts, packages, and wiki storage sizes.

  - name: dim_bizible_marketing_channel_path
    description: '{{ doc("dim_bizible_marketing_channel_path") }}'
    columns:
      - name: dim_bizible_marketing_channel_path_id
        description: Unique identifier for the marketing channel.
        data_tests:
          - not_null
          - unique
        tags: ["tdf"]
      - name: marketing_channel_name

  - name: dim_namespace_hist
    description: '{{ doc("dim_namespace_hist") }}'
    columns:
      - name: namespace_snapshot_id
        data_tests:
          - not_null
          - unique
      - name: dim_namespace_id
        data_tests:
          - not_null
      - name: valid_from
        data_tests:
          - not_null
      - name: valid_to

  - name: dim_namespace_plan_hist
    description: '{{ doc("dim_namespace_plan_hist") }}'
    columns:
      - name: dim_namespace_id
        data_tests:
          - not_null

  - name: dim_namespace
    description: '{{ doc("dim_namespace") }}'
    columns:
      - name: dim_namespace_id
        data_tests:
          - not_null
          - unique
        tags: ["tdf", "gainsight"]
      - name: namespace_is_internal
      - name: namespace_is_ultimate_parent
        description: '{{ doc("namespace_is_ultimate_parent") }}'
      - name: namespace_name
      - name: namespace_name_unmasked
        description: '{{ doc("namespace_name_unmasked") }}'
        meta:
          masking_policy: analyst_marketing_sensitive
      - name: namespace_path
      - name: owner_id
      - name: namespace_type
        description: '{{ doc("namespace_type") }}'
        data_tests:
          - not_null
        tags: ["tdf", "gainsight"]
      - name: has_avatar
      - name: created_at
        description: '{{ doc("namespace_created_at") }}'
      - name: updated_at
      - name: is_membership_locked
      - name: has_request_access_enabled
      - name: has_share_with_group_locked
      - name: visibility_level
        description: '{{ doc("visibility_level") }}'
      - name: dap_sync_status
      - name: ldap_sync_error
      - name: ldap_sync_last_update_at
      - name: ldap_sync_last_successful_update_at
      - name: ldap_sync_last_sync_at
      - name: lfs_enabled
      - name: parent_id
      - name: shared_runners_minutes_limit
      - name: extra_shared_runners_minutes_limit
      - name: repository_size_limit
      - name: does_require_two_factor_authentication
      - name: two_factor_grace_period
      - name: project_creation_level
      - name: push_rule_id
      - name: creator_id
      - name: namespace_creator_is_blocked
      - name: ultimate_parent_namespace_id
      - name: gitlab_plan_id
        description: The **plan_id** associated with the namespace's subscription. This can be inheritted from the namespaces's ultimate parent.
        data_tests:
          - not_null
        tags: ["tdf", "gainsight"]
      - name: gitlab_plan_title
        description: Whether or not the namespace associated with the project is subscribed to a paid plan. This can be inheritted from the namespaces's ultimate parent.
        data_tests:
          - not_null
        tags: ["tdf", "gainsight"]
      - name: gitlab_plan_is_paid
        description: Whether or not the namespace associated with the project is subscribed to a paid plan. This can be inheritted from the namespaces's ultimate parent.
        data_tests:
          - not_null
        tags: ["tdf", "gainsight"]
      - name: dim_product_tier_id,
      - name: current_member_count
        description: Do not use this count, it is incorrect. Use [gitlab_dotcom_memberships](https://dbt.gitlabdata.com/#!/model/model.gitlab_snowflake.gitlab_dotcom_memberships) for member counts.
      - name: current_project_count
        description: The number of projects that are presently associated with the namespace.
      - name: has_code_suggestions_enabled
        description: '{{ doc("namespace_has_code_suggestions_enabled") }}'
      - name: is_deleted
        description: '{{ doc("is_deleted") }}'
      - name: is_deleted_updated_at
        description: '{{ doc("is_deleted_updated_at") }}'

  - name: dim_order_hist
    description: '{{ doc("dim_order_hist") }}'
    columns:
      - name: dim_order_id
        data_tests:
          - not_null
      - name: customer_id
        data_tests:
          - not_null
      - name: product_rate_plan_id
      - name: dim_subscription_id
      - name: dim_namespace_id
      - name: dim_billing_account_id
      - name: order_start_date
      - name: order_end_date
      - name: order_created_at
        data_tests:
          - not_null
      - name: last_extra_ci_minutes_sync_at
      - name: increased_billing_rate_notified_at
      - name: order_is_trial
      - name: amendment_type
      - name: valid_from
        data_tests:
          - not_null
      - name: valid_to

  - name: dim_quote
    description: '{{ doc("dim_quote") }}'
    columns:
      - name: dim_quote_id
        description: The unique identifier for each of the quotes.
        data_tests:
          - not_null
          - unique
      - name: quote_number
      - name: quote_name
      - name: quote_status
      - name: is_primary_quote
      - name: quote_start_date
      - name: created_date
      - name: subscription_action_type
        description: '{{ doc("subscription_action_type") }}'
      - name: is_education_exemption_comment
        description: Boolean field indicating whether or not the quote is exempt from the EDU perspective.
      - name: is_education_approval_required
        description: Boolean field indicating whether or not the quote needs approvals from the EDU perspective.

  - name: dim_license
    description: '{{ doc("dim_license") }}'
    columns:
      - name: dim_license_id
        description: The unique ID of a generated license.
        data_tests:
          - not_null
          - unique
        tags: ["tdf", "gainsight"]
      - name: license_md5
        description: The md5 hash of the license file. Use this field to join to fct_ping_instance.
        data_tests:
          - not_null
          - unique
        tags: ["tdf", "gainsight"]
      - name: license_sha256
        description: The sha256 hash of the license file. Use this field to join to fct_ping_instance.
        data_tests:
          - not_null
          - unique
        tags: ["tdf", "gainsight"]
      - name: dim_subscription_id
        description: The unique identifier of a version of a subscription.
      - name: subscription_name
        description: The unique identifier of a subscription.
      - name: dim_subscription_id_original
      - name: dim_subscription_id_previous
      - name: license_user_count
        description: The user count of the license.
      - name: license_plan
        description: The plan code for the product tier of the license.
      - name: dim_product_tier_id
        description: The unique ID of a product tier deterimined in dim_product_tier.
      - name: is_trial
        description: Boolean flag noting if the license was generated as part of a trial.
      - name: is_internal
        description: Derived boolean flag noting if the email recipient and company associated with the license is part of GitLab.
      - name: company
        description: The company the license was generated for.
      - name: license_start_date
        description: The start date of the license.
      - name: license_expire_date
        description: The expiration date of the license.
      - name: created_at
        description: The timestamp of when the license was generated.
      - name: updated_at
        description: The timestamp of when the license was updated.

  - name: dim_key_xmau_metric
    description: '{{ doc("dim_key_xmau_metric") }}'
    columns:
      - name: section_name
        description: Section that the xmau metric belongs to
      - name: stage_name
        description: Stage that the xmau metric belongs to
      - name: group_name
        description: Group that the xmau metric belongs to
      - name: metrics_path
        description: path name of metric (counts.ci_builds instead of ci_builds given there are three ci_builds metrics)
      - name: sql_friendly_path
        description: raw_usage_data_payload appended with path name of metric to easily query prep_usage_ping with
      - name: clean_metrics_name
        description: Name of metric without the path
      - name: periscope_metrics_name
        description: Name change by PMs
      - name: sql_friendly_name
        description: Name change by PMs with '.' instead of '_'
      - name: is_umau
        description: Boolean field representing if the xmau metric represents Unique Monthly Active User (UMAU) metric
      - name: is_smau
        description: Boolean field representing if the xmau metric represents a Stage Monthly Active User (SMAU) metric
      - name: is_gmau
        description: Boolean field representing if the xmau metric represents a Group Monthly Active user (GMAU) metric
      - name: is_paid_gmau
        description: Boolean field representing if the xmau metric represents a Paid Group Monthly Active user (GMAU) metric
      - name: time_period
        description: Metrics can be all-time counters, 28 day counters, or weekly counters. This signifies which it is

  - name: dim_ci_build
    description: '{{ doc("dim_ci_build") }}'
    columns:
      - name: dim_ci_build_id
        description: Unique key of CI Build
        data_tests:
          - not_null
      - name: dim_project_id
        description: Foreign key to `dim_project` that shows the ID of the project in which the build has been triggered.
      - name: dim_namespace_id
        description: Foreign key to `dim_namespace` that shows the ID of the namespace in which the build has been triggered.
      - name: ultimate_parent_namespace_id
      - name: dim_user_id
        description: Foreign key to `dim_user` that shows the ID of the user who triggered the CI Build
      - name: dim_plan_id
        description: ID of the Plan
      - name: dim_ci_runner_id
        description: ID of the runner with which the CI build has been run.
      - name: dim_ci_stage_id
      - name: scheduling_type
        description: '{{ doc("scheduling_type") }}'
      - name: executor_type
        description: '{{ doc("executor_type") }}'

  - name: dim_issue
    description: '{{ doc("dim_issue") }}'
    columns:
      - name: dim_issue_sk
        description: The unique identifier for each of the issues.
        data_tests:
          - not_null
          - unique
      - name: dim_project_id
      - name: dim_plan_sk_at_creation
        data_tests:
          - not_null
      - name: masked_label_title
        description: '{{ doc("label_title") }}'
      - name: is_deleted
        description: '{{ doc("is_deleted") }}'
      - name: is_deleted_updated_at
        description: '{{ doc("is_deleted_updated_at") }}'

  - name: dim_ci_pipeline
    description: '{{ doc("dim_ci_pipeline") }}'
    columns:
      - name: dim_ci_pipeline_id
        description: The unique identifier for each of the CI Pipelines.
      - name: dim_project_id
        data_tests:
          - not_null
      - name: dim_plan_id
        data_tests:
          - not_null
      - name: ci_pipeline_internal_id
        description: Internal ID for the CI Pipeline. This is project specific
      - name: is_deleted
        description: '{{ doc("is_deleted") }}'
      - name: is_deleted_updated_at
        description: '{{ doc("is_deleted_updated_at") }}'
      - name: pipeline_name_internal_only
        description: '{{ doc("pipeline_name_internal_only") }}'

  - name: dim_user
    description: '{{ doc("dim_user") }}'
    columns:
      - name: dim_user_sk
        description: Surrogate key for the dimension user.
        data_tests:
          - not_null
          - unique
      - name: dim_user_id
        description: Legacy natural key to be deprecated. Use the user_id column as the new natural key.
        data_tests:
          - not_null
          - unique
      - name: user_id
        description: Natural key representing the unique identifier for the user.
      - name: it_job_title_hierarchy
        description: > 
          Maps job titles to the IT hierarchy by string matching, categorizing them as decision-makers, 
          managers, or individual contributors within IT, information systems, or engineering. Titles 
          outside these areas are assigned NULL.
      - name: email
        description: User's email address
        meta:
           masking_policy: sensitive_pii_data_viewer
      - name: is_blocked_user
        description: TRUE if user_state is one of 'blocked' or 'banned', otherwise FALSE
      - name: role
        description: User role in company selected during registration
      - name: last_activity_date
        description: Date of the user's last recorded activity on the platform.
      - name: last_sign_in_date
        description: Date of the user's most recent sign-in.
      - name: setup_for_company
        description: Is the Product setup for Company use selected during registration
      - name: jobs_to_be_done
        description:  What the product is used for
      - name: for_business_use
        description: Product is used for Business selected during registration
      - name: employee_count
        description: Number of employees selected during registration
      - name: country
        description: User Country selected during registration
      - name: state
        description: A state that is part of the given country selected during registration
      - name: user_type_id
        description: '{{ doc("user_type_id") }}'
      - name: user_type
        description: '{{ doc("user_type") }}'
      - name: is_bot
        description: '{{ doc("is_bot") }}'
      - name: user_name
        description: Publicly available username, accessible even in private profiles.
      - name: users_name
        description: Publicly available name field, accessible even in private profiles.
      - name: public_email
        description: Represents the email address a user has chosen to display publicly on their profile.
      - name: remember_created_at
        description: Timestamp indicating when the 'remember me' login option was enabled.
      - name: sign_in_count
        description: Count of the total number of sign-ins by the user.
      - name: current_sign_in_at
        description: Timestamp of the user's current sign-in session.
      - name: last_sign_in_at
        description: Timestamp of the user's previous sign-in session.
      - name: created_at
        description: Timestamp of when the user account was created.
      - name: updated_at
        description: Timestamp of the last update made to the user account.
      - name: notification_email_domain
        description: Domain part of the email designated for receiving GitLab notifications.
      - name: notification_email_domain_classification
        description: Classification of the notification email domain, if applicable.
      - name: email_domain
        description: Domain part of the user's primary email.
      - name: email_domain_classification
        description: Classification of the user's primary email domain, if applicable.
      - name: is_valuable_signup
        description: Boolean indicating whether a signup is classified as valuable based on the email domain.
      - name: public_email_domain
        description: Domain part of the user's public email, if provided.
      - name: public_email_domain_classification
        description: Classification of the public email domain, if applicable.
      - name: commit_email_domain
        description: Domain part of the email designated for commits.
      - name: commit_email_domain_classification
        description: Classification of the commit email domain, if applicable.
      - name: identity_provider
        description: The identity provider associated with the user, if available.
      - name: timezone
        description: The user's selected timezone.
      - name: early_access_program_participant
        description: Boolean indicating if the user is participating in the Early Access Program.
      - name: preferred_language
        description: The language preference set by the user.
      - name: user_locked
        description: Boolean field that indicates whether a user is locked.
      - name: job_title
        description: The job title associated with the user.
      - name: registration_objective
        description: Objective specified by the user during registration.
      - name: locked_at
        description: Timestamp when the user account was locked.
      - name: created_by_id
        description: Identifier of the user who created this account.
      - name: account_age
        description: The age of the user account in days.
      - name: account_age_cohort
        description: Categorical age cohort of the account based on account age.
      - name: days_from_account_creation_to_last_activity
        description: The number of days between user creation and the most recent activity
      - name: user_state
        description: Status state of the user account, such as active or blocked.
      - name: text_editor_type
        description: User's selected text editor type from the `user_preferences` table.
      - name: highest_paid_subscription_plan_id
        description: Identifier for the highest paid subscription plan associated with the user.
      - name: is_admin
        description: Boolean indicating if the user has admin privileges.
      - name: is_auditor
        description: Boolean indicating if the user has auditor privileges.
      - name: is_external_user
        description: Boolean indicating if the user is considered external to the organization.
      - name: is_notified_of_own_activity
        description: Boolean indicating if the user receives notifications about their own activity.
      - name: is_private_profile
        description: Boolean determining the visibility of a user's profile information.
      - name: has_create_group_permissions
        description: Boolean indicating if the user can create new groups.
      - name: has_create_team_permissions
        description: Boolean indicating if the user can create new teams.
      - name: has_hide_no_password_enabled
        description: Boolean indicating if the option to hide users without passwords is enabled.
      - name: has_hide_no_ssh_key_enabled
        description: Boolean indicating if the option to hide users without SSH keys is enabled.
      - name: has_hide_project_limit_enabled
        description: Boolean indicating if the option to hide project limits is enabled.
      - name: include_private_contributions
        description: Boolean indicating if the user includes private project contributions in their public stats.
      - name: color_mode
        description: User's preferred color mode setting
      - name: group_view
        description: User's preferred view when visiting groups 
      - name: project_view
        description: User's preferred initial view when visiting projects
      - name: dashboard
        description: User's preferred dashboard layout
      - name: layout
        description: User's preferred page layout setting 
      - name: theme
        description: User's preferred navigation theme 
      - name: color_scheme
        description: User's preferred syntax highlighting theme 


  - name: dim_ci_runner
    description: '{{ doc("dim_ci_runner") }}'
    columns:
      - name: dim_ci_runner_sk
        description: The unique ID of the runner with which the CI build has been run
        data_tests:
          - unique
      - name: created_date_id
      - name: created_at
      - name: updated_at
      - name: ci_runner_description
      - name: ci_runner_manager
      - name: ci_runner_machine_type
      - name: contacted_at
      - name: is_active
      - name: ci_runner_version
      - name: revision
      - name: platform
      - name: architecture
      - name: is_untagged
      - name: is_locked
      - name: access_level
      - name: maximum_timeout
      - name: ci_runner_type
      - name: ci_runner_type_summary
      - name: public_projects_minutes_cost_factor
      - name: private_projects_minutes_cost_factor
      - name: cost_factor
        description: '{{ doc("cost_factor") }}'

  - name: dim_ci_stage
    description: '{{ doc("dim_ci_stage") }}'
    columns:
      - name: dim_ci_stage_id
        data_tests:
          - not_null
          - unique
      - name: dim_project_id
        description: Foreign key to `dim_project` that shows the ID of the project in which the stage was run. Defaults to `-1` if a project ID from the CI builds source table is not found in `dim_project`.
        data_tests:
          - not_null
      - name: dim_ci_pipeline_id
        description: Foreign key to `dim_ci_pipeline` that shows the ID of the pipeline in which the stage was run. Defaults to `-1` if a CI pipeline ID from the CI builds source table is not found in `dim_ci_pipeline`.
        data_tests:
          - not_null
      - name: created_date_id
        description: Foreign key to `dim_date` that shows the ID of the date on which the stage was created. Defaults to `-1` if a date ID from the CI builds source table is not found in `dim_date`.
        data_tests:
          - not_null
      - name: created_at
        data_tests:
          - not_null
      - name: updated_at
      - name: ci_stage_name
      - name: ci_stage_status
      - name: lock_version
      - name: position

  - name: fct_ci_runner_activity
    description: '{{ doc("fct_ci_runner_activity") }}'
    columns:
      - name: dim_ci_build_id
        description: Unique key of CI Build
        data_tests:
          - not_null
          - unique:
              config:
                where: "ci_build_started_at >= DATEADD('day',-3,CURRENT_DATE())"
      - name: dim_ci_runner_id
        description: ID of the runner with which the CI build has been run.
      - name: dim_ci_pipeline_id
      - name: dim_ci_stage_id
      - name: dim_project_id
        description: Foreign key that shows the ID of the project in which the build has been triggered.
      - name: dim_namespace_id
        description: Foreign key that shows the ID of the namespace in which the build has been triggered.
      - name: ultimate_parent_namespace_id
      - name: dim_plan_id
        description: ID of the Plan
        data_tests:
          - not_null
      - name: dim_user_id
        description: Foreign key that shows the ID of the user who triggered the CI Build
      - name: ci_build_created_date_id
        description: Foreign key to `dim_date` that shows the ID of the date on which the stage was created.
      - name: ci_build_started_at
      - name: ci_build_finished_at
      - name: ci_build_duration_in_s
      - name: is_paid_by_gitlab
      - name: public_projects_minutes_cost_factor
      - name: private_projects_minutes_cost_factor

  - name: dim_merge_request
    description: '{{ doc("dim_merge_request") }}'
    columns:
      - name: dim_merge_request_sk
        description: The unique identifier for each of the merge requets.
        data_tests:
          - not_null
          - unique
      - name: dim_project_sk
      - name: dim_plan_sk_at_creation
        data_tests:
          - not_null
      - name: is_deleted
        description: '{{ doc("is_deleted") }}'
      - name: is_deleted_updated_at
        description: '{{ doc("is_deleted_updated_at") }}'
      - name: target_branch
        description: '{{ doc("target_branch") }}'

  - name: dim_epic
    description: '{{ doc("dim_epic") }}'
    columns:
      - name: dim_epic_sk
        description: The unique identifier for each of the events.
        data_tests:
          - not_null
          - unique
      - name: dim_project_id
      - name: dim_plan_sk_at_creation
        description: '{{ doc("dim_plan_id_at_creation") }}'
        data_tests:
          - not_null
      - name: is_internal_epic
        description: '{{ doc("is_internal_epic") }}'
      - name: first_commit_at
        description: '{{ doc("first_commit_at") }}'

  - name: dim_note
    description: '{{ doc("dim_note") }}'
    columns:
      - name: dim_note_id
        description: '{{ doc("dim_note_id") }}'
        data_tests:
          - not_null
          - unique
      - name: author_id
        description: '{{ doc("author_id") }}'
      - name: dim_project_id
        description: '{{ doc("dim_project_id") }}'
      - name: ultimate_parent_namespace_id
        description: '{{ doc("dim_ultimate_parent_namespace_id") }}'
      - name: noteable_id
        description: '{{ doc("noteable_id") }}'
      - name: created_date_id
        description: '{{ doc("created_date_id") }}'
      - name: dim_plan_id
        description: '{{ doc("dim_plan_id") }}'
        data_tests:
          - not_null
      - name: noteable_type
        description: '{{ doc("noteable_type") }}'
      - name: created_at
        description: '{{ doc("created_at") }}'
      - name: updated_at
        description: '{{ doc("updated_at") }}'
      - name: attachment
        description: '{{ doc("attachment") }}'
      - name: line_code
        description: '{{ doc("line_code") }}'
      - name: commit_id
        description: '{{ doc("commit_id") }}'
      - name: is_system
        description: boolean flag allowing us to identify if a note is automatically created by the system or if it is a user's action
      - name: is_system_note
        description: '{{ doc("is_system_note") }}'
      - name: note_updated_by_id
        description: '{{ doc("note_updated_by_id") }}'
      - name: position_number
        description: '{{ doc("position_number") }}'
      - name: original_position
        description: '{{ doc("original_position") }}'
      - name: resolved_at
        description: '{{ doc("resolved_at") }}'
      - name: resolved_by_id
        description: '{{ doc("resolved_by_id") }}'
      - name: discussion_id
        description: '{{ doc("discussion_id") }}'
      - name: cached_markdown_version
        description: '{{ doc("cached_markdown_version") }}'
      - name: resolved_by_push
        description: '{{ doc("resolved_by_push") }}'
      - name: action_type
        description: '{{ doc("action_type") }}'
      - name: is_deleted
        description: '{{ doc("is_deleted") }}'
      - name: is_deleted_updated_at
        description: '{{ doc("is_deleted_updated_at") }}'

  - name: dim_issue_links
    description: '{{ doc("dim_issue_links") }}'
    columns:
      - name: dim_issue_link_id
        description: The identifier for an issue relationship
        data_tests:
          - not_null
      - name: dim_issue_sk_source
        description: The identifier for source issue of an issue link
        data_tests:
          - not_null
      - name: dim_issue_sk_target
        description: The identifier for target issue of an issue link
        data_tests:
          - not_null

  - name: dim_locality
    description: '{{ doc("dim_locality") }}'
    data_tests:
    - dbt_utils.unique_combination_of_columns:
        combination_of_columns:
          - locality
          - valid_from
    columns:
      - name: dim_locality_id
        description: The id derived from the locality that will be used to join with other tables.
        data_tests:
          - not_null
      - name: locality
        description: The unique location lables used in compensation calculations.
        data_tests:
          - not_null
      - name: location_factor
        description: A cost of market evaluation compared to San Francisco. https://about.gitlab.com/handbook/total-rewards/compensation/compensation-calculator/#location-factor
      - name: locality_country
        description: The parent country of the locality
      - name: valid_from
        description: The date the location factor for a locality begins being applied
        data_tests:
          - not_null
      - name: valid_to
        description: The date the location factor for a locality stops being applied
      - name: is_current
        description: A flag to indicate if the location factor for the locality is from the most recent source data.


  - name: dim_ping_instance
    description: ' {{ doc("dim_ping_instance") }} '
    columns:
      - name: dim_ping_instance_id
        data_tests:
          - not_null
          - unique
        description: '{{ doc("dim_ping_instance_id") }}'
      - name: dim_ping_date_id
        description: '{{ doc("dim_ping_date_id") }}'
      - name: dim_host_id
        description: '{{ doc("dim_host_id") }}'
      - name: dim_instance_id
        description: '{{ doc("dim_instance_id") }}'
      - name: dim_installation_id
        description: '{{ doc("dim_installation_id") }}'
      - name: ping_created_at
        description: '{{ doc("ping_created_at") }}'
      - name: ping_created_date_28_days_earlier
        description: '{{ doc("ping_created_date_28_days_earlier") }}'
      - name: ping_created_date_year
        description: '{{ doc("ping_created_date_year") }}'
      - name: ping_created_date_month
        description: '{{ doc("ping_created_date_month") }}'
      - name: ping_created_date_week
        description: '{{ doc("ping_created_date_week") }}'
      - name: ping_created_date
        description: '{{ doc("ping_created_date") }}'
      - name: ip_address_hash
        description: '{{ doc("ip_address_hash_ping_model") }}'
      - name: version
        description: '{{ doc("version_ping_model") }}'
      - name: instance_user_count
        description: '{{ doc("instance_user_count") }}'
      - name: license_md5
        description: '{{ doc("license_md5") }}'
      - name: license_sha256
        description: '{{ doc("license_sha256") }}'
      - name: historical_max_users
        description: '{{ doc("historical_max_users") }}'
      - name: license_user_count
        description: '{{ doc("license_user_count") }}'
      - name: license_starts_at
        description: '{{ doc("license_starts_at") }}'
      - name: license_expires_at
        description:  '{{ doc("license_expires_at") }}'
      - name: license_add_ons
        description: '{{ doc("license_add_ons") }}'
      - name: recorded_at
        description: '{{ doc("recorded_at_ping_model") }}'
      - name: updated_at
        description: '{{ doc("updated_at_ping_model") }}'
      - name: mattermost_enabled
        description: '{{ doc("mattermost_enabled") }}'
      - name: ping_edition
        description: '{{ doc("ping_edition") }}'
      - name: host_name
        description: '{{ doc("host_name") }}'
      - name: product_tier
        description: '{{ doc("ping_product_tier") }}'
      - name: license_trial
        description: '{{ doc("license_trial_ping_model") }}'
      - name: is_trial
        description: '{{ doc("is_trial_ping_model") }}'
      - name: source_license_id
        description: '{{ doc("source_license_id") }}'
      - name: installation_type
        description: '{{ doc("installation_type") }}'
      - name: license_plan
        description: '{{ doc("license_plan") }}'
      - name: database_adapter
        description: '{{ doc("database_adapter") }}'
      - name: database_version
        description: '{{ doc("database_version") }}'
      - name: git_version
        description: '{{ doc("git_version") }}'
      - name: gitlab_pages_enabled
        description: '{{ doc("gitlab_pages_enabled") }}'
      - name: gitlab_pages_version
        description: '{{ doc("gitlab_pages_version") }}'
      - name: container_registry_enabled
        description: '{{ doc("container_registry_enabled") }}'
      - name: elasticsearch_enabled
        description: '{{ doc("elasticsearch_enabled") }}'
      - name: geo_enabled
        description: '{{ doc("geo_enabled") }}'
      - name: gitlab_shared_runners_enabled
        description: '{{ doc("gitlab_shared_runners_enabled") }}'
      - name: gravatar_enabled
        description: '{{ doc("gravatar_enabled") }}'
      - name: ldap_enabled
        description: '{{ doc("ldap_enabled") }}'
      - name: omniauth_enabled
        description: '{{ doc("omniauth_enabled") }}'
      - name: reply_by_email_enabled
        description: '{{ doc("reply_by_email_enabled") }}'
      - name: signup_enabled
        description: '{{ doc("signup_enabled") }}'
      - name: prometheus_metrics_enabled
        description: '{{ doc("prometheus_metrics_enabled") }}'
      - name: usage_activity_by_stage
        description: '{{ doc("usage_activity_by_stage") }}'
      - name: usage_activity_by_stage_monthly
        description: '{{ doc("usage_activity_by_stage_monthly") }}'
      - name: gitaly_clusters
        description: '{{ doc("gitaly_clusters") }}'
      - name: gitaly_version
        description: '{{ doc("gitaly_version") }}'
      - name: gitaly_servers
        description: '{{ doc("gitaly_servers") }}'
      - name: gitaly_filesystems
        description: '{{ doc("gitaly_filesystems") }}'
      - name: gitpod_enabled
        description: '{{ doc("gitpod_enabled") }}'
      - name: object_store
        description: '{{ doc("object_store") }}'
      - name: is_dependency_proxy_enabled
        description: '{{ doc("is_dependency_proxy_enabled") }}'
      - name: recording_ce_finished_at
        description: '{{ doc("recording_ce_finished_at") }}'
      - name: recording_ee_finished_at
        description: '{{ doc("recording_ee_finished_at") }}'
      - name: is_ingress_modsecurity_enabled
        description: '{{ doc("is_ingress_modsecurity_enabled") }}'
      - name: topology
        description: '{{ doc("topology") }}'
      - name: is_grafana_link_enabled
        description: '{{ doc("is_grafana_link_enabled") }}'
      - name: analytics_unique_visits
        description: '{{ doc("analytics_unique_visits") }}'
      - name: raw_usage_data_id
        description: '{{ doc("raw_usage_data_id") }}'
      - name: container_registry_vendor
        description: '{{ doc("container_registry_vendor") }}'
      - name: container_registry_version
        description: '{{ doc("container_registry_version") }}'
      - name: cleaned_edition
        description: '{{ doc("cleaned_edition") }}'
      - name: cleaned_version
        description: '{{ doc("cleaned_version") }}'
      - name: version_is_prerelease
        description: '{{ doc("version_is_prerelease") }}'
      - name: major_version
        description: '{{ doc("major_version") }}'
      - name: minor_version
        description: '{{ doc("minor_version") }}'
      - name: major_minor_version
        description: '{{ doc("major_minor_version") }}'
      - name: major_minor_version_num
        description: '{{ doc("major_minor_version_num") }}'
      - name: major_minor_version_num
        description: '{{ doc("major_minor_version_id") }}'
      - name: ping_delivery_type
        description: '{{ doc("ping_delivery_type") }}'
      - name: is_saas_dedicated
        description: '{{ doc("is_saas_dedicated") }}'
      - name: is_internal
        description: '{{ doc("is_internal_installation") }}'
      - name: is_staging
        description: '{{ doc("is_staging_installation") }}'
      - name: is_last_ping_of_month
        description: '{{ doc("is_last_ping_of_month") }}'
      - name: is_last_ping_of_week
        description: '{{ doc("is_last_ping_of_week") }}'
      - name: collected_data_categories
        description: '{{ doc("collected_data_categories") }}'
      - name: raw_usage_data_payload
        description: '{{ doc("raw_usage_data_payload") }}'
      - name: created_by
        description: '{{ doc("created_by") }}'
      - name: updated_by
        description: '{{ doc("updated_by") }}'
      - name: model_created_date
        description: '{{ doc("model_created_date") }}'
      - name: model_updated_date
        description: '{{ doc("model_updated_date") }}'
      - name: is_saas_dedicated
        description: '{{ doc("is_saas_dedicated") }}'
      - name: ping_delivery_type
        description: '{{ doc("ping_delivery_type") }}'
      - name: ping_deployment_type
        description: '{{ doc("ping_deployment_type") }}'
      - name: next_ping_uploaded_at
        description: '{{ doc("next_ping_uploaded_at") }}'

  - name: dim_ping_metric
    description: ' {{ doc("dim_ping_metric") }} '
    columns:
      - name: ping_metric_id
        data_tests:
          - not_null
          - unique
        description: ' {{ doc("ping_metric_id") }} '
      - name: metrics_path
        description: '{{ doc("metrics_path") }}'
      - name: sql_friendly_path
        description: '{{ doc("sql_friendly_path") }}'
      - name: data_source
        description: '{{ doc("data_source_ping_metric") }}'
      - name: data_category
        description: '{{ doc("data_category_ping_metric") }}'
      - name: description
        description: '{{ doc("description_ping_metric") }}'
      - name: instrumentation_class
        description: '{{ doc("instrumentation_class_ping_metric") }}'
      - name: performance_indicator_type
        description: '{{ doc("performance_indicator_type_ping_metric") }}'
      - name: group_name
        description: '{{ doc("group_name") }}'
      - name: section_name
        description: '{{ doc("section_name") }}'
      - name: stage_name
        description: '{{ doc("stage_name") }}'
      - name: milestone
        description: '{{ doc("milestone_ping_metric") }}'
      - name: skip_validation
        description: '{{ doc("skip_validation_ping_metric") }}'
      - name: metrics_status
        description: '{{ doc("metrics_status_ping_metric") }}'
      - name: tier
        description: '{{ doc("tier_ping_metric") }}'
      - name: time_frame
        description: '{{ doc("time_frame") }}'
      - name: value_type
        description: '{{ doc("value_type_ping_metric") }}'
      - name: is_gmau
        description: '{{ doc("is_gmau") }}'
      - name: is_paid_gmau
        description: '{{ doc("is_paid_gmau") }}'
      - name: is_smau
        description: '{{ doc("is_smau") }}'
      - name: is_umau
        description: '{{ doc("is_umau") }}'
      - name: is_health_score_metric
        description: '{{ doc("is_health_score_metric") }}'
      - name: is_lighthouse_metric
        description: '{{ doc("is_lighthouse_metric") }}'
      - name: is_leading_indicator_metric
        description: '{{ doc("is_leading_indicator_metric") }}'
      - name: snapshot_date
        description: '{{ doc("snapshot_date_ping_metric") }}'
      - name: uploaded_at
        description: '{{ doc("uploaded_at_ping_metric") }}'
      - name: data_by_row
        description: '{{ doc("data_by_row_ping_metric") }}'
      - name: created_by
        description: '{{ doc("created_by") }}'
      - name: updated_by
        description: '{{ doc("updated_by") }}'
      - name: model_created_date
        description: '{{ doc("model_created_date") }}'
      - name: model_updated_date
        description: '{{ doc("model_updated_date") }}'

  - name: dim_ping_metric_daily_snapshot
    description: ' {{ doc("dim_ping_metric_daily_snapshot") }} '
    columns:
      - name: ping_metric_hist_id
        data_tests:
          - not_null
          - unique
        description: '{{ doc("ping_metric_hist_id") }}'
      - name: metrics_path
        description: '{{ doc("metrics_path") }}'
      - name: sql_friendly_path
        description: '{{ doc("sql_friendly_path") }}'
      - name: data_source
        description: '{{ doc("data_source_ping_metric") }}'
      - name: data_category
        description: '{{ doc("data_category_ping_metric") }}'
      - name: description
        description: '{{ doc("description_ping_metric") }}'
      - name: instrumentation_class
        description: '{{ doc("instrumentation_class_ping_metric") }}'
      - name: performance_indicator_type
        description: '{{ doc("performance_indicator_type_ping_metric") }}'
      - name: group_name
        description: '{{ doc("group_name") }}'
      - name: section_name
        description: '{{ doc("section_name") }}'
      - name: stage_name
        description: '{{ doc("stage_name") }}'
      - name: milestone
        description: '{{ doc("milestone_ping_metric") }}'
      - name: skip_validation
        description: '{{ doc("skip_validation_ping_metric") }}'
      - name: metrics_status
        description: '{{ doc("metrics_status_ping_metric") }}'
      - name: tier
        description: '{{ doc("tier_ping_metric") }}'
      - name: time_frame
        description: '{{ doc("time_frame") }}'
      - name: value_type
        description: '{{ doc("value_type_ping_metric") }}'
      - name: is_gmau
        description: '{{ doc("is_gmau") }}'
      - name: is_paid_gmau
        description: '{{ doc("is_paid_gmau") }}'
      - name: is_smau
        description: '{{ doc("is_smau") }}'
      - name: is_umau
        description: '{{ doc("is_umau") }}'
      - name: uploaded_at
        description: '{{ doc("uploaded_at_ping_metric") }}'
      - name: created_by
        description: '{{ doc("created_by") }}'
      - name: updated_by
        description: '{{ doc("updated_by") }}'
      - name: model_created_date
        description: '{{ doc("model_created_date") }}'
      - name: model_updated_date
        description: '{{ doc("model_updated_date") }}'
      - name: valid_from
        description: '{{ doc("valid_from") }}'
      - name: valid_to
        description: '{{ doc("valid_to") }}'


  - name: fct_ping_instance_metric
    description: ' {{ doc("fct_ping_instance_metric") }} '
    columns:
      - name: ping_instance_metric_id
        data_tests:
          - not_null
        description: The unique composite ID for the service_ping_instance_metric model consisting of dim_ping_instance_id and metrics_path
      - name: dim_ping_instance_id
        description: '{{ doc("dim_ping_instance_id") }}'
      - name: metrics_path
        description: '{{ doc("metrics_path") }}'
      - name: metric_value
        description: '{{ doc("metric_value") }}'
      - name: has_timed_out
        description: '{{ doc("has_timed_out") }}'
      - name: dim_product_tier_id
        description: '{{ doc("dim_product_tier_id_ping_model") }}'
      - name: dim_subscription_id
        description: '{{ doc("dim_subscription_id_ping_model") }}'
      - name: dim_location_country_id
        description: '{{ doc("dim_location_country_id_ping_model") }}'
      - name: dim_ping_date_id
        description: '{{ doc("dim_ping_date_id") }}'
      - name: dim_instance_id
        description: '{{ doc("dim_instance_id") }}'
      - name: dim_host_id
        description: '{{ doc("dim_host_id") }}'
      - name: dim_installation_id
        description: '{{ doc("dim_installation_id") }}'
      - name: dim_license_id
        description:  '{{ doc("dim_license_id") }}'
      - name: license_md5
        description: '{{ doc("license_md5") }}'
      - name: license_sha256
        description: '{{ doc("license_sha256") }}'
      - name: ping_created_at
        description: '{{ doc("ping_created_at") }}'
      - name: uploaded_at
        description: '{{ doc("uploaded_at") }}'
        data_tests:
          - not_null
      - name: ping_created_date
        description: '{{ doc("ping_created_date") }}'
      - name: umau_value
        description: '{{ doc("umau_value") }}'
      - name: duo_pro_purchased_seats
        description: '{{ doc("duo_pro_purchased_seats") }}'
      - name: duo_pro_assigned_seats
        description: '{{ doc("duo_pro_assigned_seats") }}'
      - name: duo_enterprise_purchased_seats
        description: '{{ doc("duo_enterprise_purchased_seats") }}'
      - name: duo_enterprise_assigned_seats
        description: '{{ doc("duo_enterprise_assigned_seats") }}'
      - name: duo_amazon_q_purchased_seats
        description: '{{ doc("duo_amazon_q_purchased_seats") }}'
      - name: duo_amazon_q_assigned_seats
        description: '{{ doc("duo_amazon_q_assigned_seats") }}'
      - name: dim_subscription_license_id
        description: '{{ doc("dim_subscription_license_id") }}'
      - name: is_license_mapped_to_subscription
        description: '{{ doc("is_license_mapped_to_subscription") }}'
      - name: is_license_subscription_id_valid
        description: '{{ doc("is_license_subscription_id_valid") }}'
      - name: is_service_ping_license_in_customerDot
        description: '{{ doc("is_service_ping_license_in_customerDot") }}'
      - name: data_source
        description: '{{ doc("data_source") }}'
      - name: created_by
        description: '{{ doc("created_by") }}'
      - name: updated_by
        description: '{{ doc("updated_by") }}'
      - name: model_created_date
        description: '{{ doc("model_created_date") }}'
      - name: model_updated_date
        description: '{{ doc("model_updated_date") }}'
      - name: dim_app_release_major_minor_sk
        description: '{{ doc("dim_app_release_major_minor_sk") }}'
      - name: dim_latest_available_app_release_major_minor_sk
        description: '{{ doc("dim_latest_available_app_release_major_minor_sk") }}'

  - name: fct_ping_instance_metric_rolling_6_months
    description: '{{ doc("fct_ping_instance_metric_rolling_6_months") }}'
    columns:
      - name: ping_instance_metric_id
        data_tests:
          - not_null
        description: The unique composite ID for the fct_ping_instance_metric model consisting of dim_ping_instance_id and metrics_path
      - name: dim_ping_instance_id
        description: '{{ doc("dim_ping_instance_id") }}'
      - name: metrics_path
        description: '{{ doc("metrics_path") }}'
      - name: metric_value
        description: '{{ doc("metric_value") }}'
      - name: has_timed_out
        description: '{{ doc("has_timed_out") }}'
      - name: dim_product_tier_id
        description: '{{ doc("dim_product_tier_id_ping_model") }}'
      - name: dim_subscription_id
        description: '{{ doc("dim_subscription_id_ping_model") }}'
      - name: dim_location_country_id
        description: '{{ doc("dim_location_country_id_ping_model") }}'
      - name: dim_ping_date_id
        description: '{{ doc("dim_ping_date_id") }}'
      - name: dim_instance_id
        description: '{{ doc("dim_instance_id") }}'
      - name: dim_host_id
        description: '{{ doc("dim_host_id") }}'
      - name: dim_installation_id
        description: '{{ doc("dim_installation_id") }}'
      - name: dim_license_id
        description:  '{{ doc("dim_license_id") }}'
      - name: license_md5
        description: '{{ doc("license_md5") }}'
      - name: license_sha256
        description: '{{ doc("license_sha256") }}'
      - name: ping_created_at
        description: '{{ doc("ping_created_at") }}'
      - name: ping_created_date
        description: '{{ doc("ping_created_date") }}'
      - name: umau_value
        description: '{{ doc("umau_value") }}'
      - name: dim_subscription_license_id
        description: '{{ doc("dim_subscription_license_id") }}'
      - name: is_license_mapped_to_subscription
        description: '{{ doc("is_license_mapped_to_subscription") }}'
      - name: is_license_subscription_id_valid
        description: '{{ doc("is_license_subscription_id_valid") }}'
      - name: is_service_ping_license_in_customerDot
        description: '{{ doc("is_service_ping_license_in_customerDot") }}'
      - name: data_source
        description: '{{ doc("data_source") }}'
      - name: created_by
        description: '{{ doc("created_by") }}'
      - name: updated_by
        description: '{{ doc("updated_by") }}'
      - name: model_created_date
        description: '{{ doc("model_created_date") }}'
      - name: model_updated_date
        description: '{{ doc("model_updated_date") }}'
      - name: duo_amazon_q_purchased_seats
        description: '{{ doc("duo_amazon_q_purchased_seats") }}'
      - name: duo_amazon_q_assigned_seats
        description: '{{ doc("duo_amazon_q_assigned_seats") }}'

  - name: fct_ping_instance_metric_rolling_13_months
    description: ' {{ doc("fct_ping_instance_metric_rolling_13_months") }} '
    columns:
      - name: ping_instance_metric_id
        data_tests:
          - not_null
        description: The unique composite ID for the fct_ping_instance_metric model consisting of dim_ping_instance_id and metrics_path
      - name: dim_ping_instance_id
        description: '{{ doc("dim_ping_instance_id") }}'
      - name: metrics_path
        description: '{{ doc("metrics_path") }}'
      - name: metric_value
        description: '{{ doc("metric_value") }}'
      - name: has_timed_out
        description: '{{ doc("has_timed_out") }}'
      - name: dim_product_tier_id
        description: '{{ doc("dim_product_tier_id_ping_model") }}'
      - name: dim_subscription_id
        description: '{{ doc("dim_subscription_id_ping_model") }}'
      - name: dim_location_country_id
        description: '{{ doc("dim_location_country_id_ping_model") }}'
      - name: dim_ping_date_id
        description: '{{ doc("dim_ping_date_id") }}'
      - name: dim_instance_id
        description: '{{ doc("dim_instance_id") }}'
      - name: dim_host_id
        description: '{{ doc("dim_host_id") }}'
      - name: dim_installation_id
        description: '{{ doc("dim_installation_id") }}'
      - name: dim_license_id
        description:  '{{ doc("dim_license_id") }}'
      - name: license_md5
        description: '{{ doc("license_md5") }}'
      - name: license_sha256
        description: '{{ doc("license_sha256") }}'
      - name: ping_created_at
        description: '{{ doc("ping_created_at") }}'
      - name: uploaded_at
        description: '{{ doc("uploaded_at") }}'
        data_tests:
          - not_null
      - name: ping_created_date
        description: '{{ doc("ping_created_date") }}'
      - name: umau_value
        description: '{{ doc("umau_value") }}'
      - name: dim_subscription_license_id
        description: '{{ doc("dim_subscription_license_id") }}'
      - name: is_license_mapped_to_subscription
        description: '{{ doc("is_license_mapped_to_subscription") }}'
      - name: is_license_subscription_id_valid
        description: '{{ doc("is_license_subscription_id_valid") }}'
      - name: is_service_ping_license_in_customerDot
        description: '{{ doc("is_service_ping_license_in_customerDot") }}'
      - name: data_source
        description: '{{ doc("data_source") }}'
      - name: created_by
        description: '{{ doc("created_by") }}'
      - name: updated_by
        description: '{{ doc("updated_by") }}'
      - name: model_created_date
        description: '{{ doc("model_created_date") }}'
      - name: model_updated_date
        description: '{{ doc("model_updated_date") }}'
      - name: duo_amazon_q_purchased_seats
        description: '{{ doc("duo_amazon_q_purchased_seats") }}'
      - name: duo_amazon_q_assigned_seats
        description: '{{ doc("duo_amazon_q_assigned_seats") }}'

  - name: fct_ping_instance_metric_wave
    description: ' {{ doc("fct_ping_instance_metric") }} '
    columns:
      - name: dim_ping_instance_id
        data_tests:
          - not_null
        description: The unique id of a service ping instance in the dim_ping_instance model.
      - name: dim_instance_id
        description: The unique uuid of an instance from the dim_instances model.
      - name: ping_created_at
        description: The time when the ping was created
      - name: ping_created_date_month
        description: The month when the ping was created
      - name: ping_delivery_type
        description: '{{ doc("ping_delivery_type") }}'
      - name: ping_deployment_type
        description: '{{ doc("ping_deployment_type") }}'
      - name: dim_host_id
        description: The unique id of a host from the dim_host model (brought in from source data).
      - name: dim_subscripton_id
        description: The unique id of a subscription from the dim_subscription model
      - name: dim_license_id
        description:  The unique id of a license from the dim_license model.
      - name: license_md5
        description: The md5 hash of the license file.
      - name: license_sha256
        description: The sha256 hash of the license file.
      - name: dim_crm_account_id
        description: Unique identifier of the CRM account associated with the instance
      - name: dim_parent_crm_account_id
        description: The identifier of the parent CRM account associates with the instance,
      - name: dim_location_country_id
        description: The unique identifier of the location country.
      - name: dim_product_tier_id
        description: The unique id of a Product Tier in the dim_product_tier model.
      - name: dim_ping_date_id
        description: The unique id of a country from the dim_location_country model
      - name: dim_installation_id
        description: The unique identifier of the installation, easily joined to dim_installation. This id is the combination of dim_host_id and dim_instance_id and is considered the unique identifier of the instance for reporting and analysis
      - name: dim_subscripton_license_id
        description: The unique id of a license subscription
      - name: license_billable_users
        description: The count of active users who can be billed for. Guest users and bots are not included.
      - name: instance_user_count
        description:  The total count of users on the instance
      - name: historical_max_users
        description: Maximum active user count ever reported over the lifetime of the customer's subcription.
      - name: license_user_count
        description: Count of licensed users purchased with the customer's subcription.
      - name: hostname
        description: The name (URL) of the host
      - name: cleaned_version
        description: Version of GitLab running on the instance
      - name: is_license_mapped_to_subscription
        description: Data quality flag to check if the license table has a value in both license_id and subscription_id
      - name: is_license_subscription_id_valid
        description: Data quality flag to check if the subscription_id in the license table is valid (does it exist in the subscription table?)
      - name: is_service_ping_license_in_customerDot
        description: Data quality flag to check if the license from service ping exist in CustomerDot.
      - name: included_in_health_measures_str
        description: '{{ doc("included_in_health_measures_str") }}'
      - name: action_monthly_active_users_project_repo_28_days_user
      - name: merge_requests_28_days_user
      - name: projects_with_repositories_enabled_28_days_user
      - name: commit_comment_all_time_event
      - name: source_code_pushes_all_time_event
      - name: ci_pipelines_28_days_user
      - name: ci_internal_pipelines_28_days_user
      - name: ci_builds_28_days_user
      - name: ci_builds_all_time_user
      - name: ci_builds_all_time_event
      - name: ci_runners_all_time_event
      - name: auto_devops_enabled_all_time_event
      - name: gitlab_shared_runners_enabled_instance_setting
      - name: container_registry_enabled_instance_setting
      - name: template_repositories_all_time_event
      - name: ci_pipeline_config_repository_28_days_user
      - name: user_unique_users_all_secure_scanners_28_days_user
      - name: user_container_scanning_job_28_days_user
      - name: user_sast_jobs_28_days_user
      - name: user_dast_jobs_28_days_user
      - name: user_dependency_scanning_jobs_28_days_user
      - name: user_license_management_jobs_28_days_user
      - name: user_secret_detection_jobs_28_days_user
      - name: object_store_packages_enabled_instance_setting
      - name: projects_with_packages_all_time_event
      - name: projects_with_packages_28_days_event
        description: '{{ doc("projects_with_packages_28_days_event_desc") }}'
        data_tests:
          - dbt_utils.at_least_one
      - name: deployments_28_days_user
      - name: releases_28_days_user
      - name: epics_28_days_user
      - name: issues_28_days_user
      - name: ci_internal_pipelines_all_time_event
        description: Total pipelines in GitLab repositories
      - name: ci_external_pipelines_all_time_event
        description: Total pipelines in external repositories
      - name: merge_requests_all_time_event
        description: Total number of Merge Requests
      - name: todos_all_time_event
        description: Count of ToDos
      - name: epics_all_time_event
        description: Count of Epics created
      - name: issues_all_time_event
        description: Count of Issues created
      - name: projects_all_time_event
        description: Count of Projects
      - name: deployments_28_days_event
        description: Monthly count of deployments
      - name: packages_28_days_event
        description: Monthly count of Packages
      - name: sast_jobs_all_time_event
        description: Count of SAST CI jobs. Job names ending in '-sast'
      - name: dast_jobs_all_time_event
        description: Count of DAST jobs
      - name: dependency_scanning_jobs_all_time_event
        description: Count of Dependency Scanning jobs run
      - name: user_license_management_jobs_all_time_event
        description: no idea, Count of License Scanning jobs run, it implies user and monthly, but AFAIK we don't track per user
      - name: secret_detection_jobs_all_time_event
        description: Count of ‘secret-detection’ CI jobs.
      - name: container_scanning_jobs_all_time_event
        description: Count of Container Scanning jobs run
      - name: projects_jenkins_active_all_time_event
        description: Count of projects with active integrations for Jenkins
      - name: projects_bamboo_active_all_time_event
        description: Count of projects with active integrations for Bamboo CI
      - name: projects_jira_active_all_time_event
        description: Count of projects with active integrations for Jira
      - name: projects_drone_ci_active_all_time_event
        description: Count of projects with active integrations for Drone CI
      - name: jira_imports_28_days_event
        description: Count of Issues imported from Jira per month. This metric has been deprecated but we are keeping the field around for history.
      - name: projects_github_active_all_time_event
        description: Count of projects with active integrations for GitHub
      - name: projects_jira_server_active_all_time_event
        description: Count of active integrations with Jira Software (server)
      - name: projects_jira_dvcs_cloud_active_all_time_event
        description: Count of active integrations with Jira Cloud (DVCS Connector)
      - name: projects_with_repositories_enabled_all_time_event
        description: Counts of projects with repositories enabled
      - name: protected_branches_all_time_event
        description: Counts of protected branches
      - name: remote_mirrors_all_time_event
        description: Counts of remote mirrors
      - name: projects_enforcing_code_owner_approval_28_days_user
      - name: project_clusters_enabled_28_days_user
        description: Total GitLab Managed enabled clusters attached to projects
      - name: analytics_total_unique_counts_monthly
        description: SMAU Metric
      - name: issues_edit_total_unique_counts_monthly
        description: SMAU Metric
      - name: user_packages_total_unique_counts_monthly
        description: SMAU Metric
      - name: terraform_state_api_unique_users_monthly
        description: SMAU Metric
      - name: incident_management_total_unique_counts_monthly
        description: SMAU Metric
      - name: installation_creation_date
        description: '{{ doc("installation_creation_date") }}'

  - name: fct_ping_instance_metric_wave_monthly
    description: '{{ doc("fct_ping_instance_metric_wave_monthly") }}'
    columns:
      - name: dim_subscription_id
        data_tests:
          - not_null
        tags: ["tdf", "gainsight"]
      - name: dim_subscription_id_original
        data_tests:
          - not_null
        tags: ["tdf", "gainsight"]
      - name: dim_billing_account_id
        data_tests:
          - not_null
        tags: ["tdf", "gainsight"]
      - name: snapshot_month
        description: First day of the month in which data is being reported.
        data_tests:
          - not_null
        tags: ["tdf", "gainsight"]
      - name: snapshot_date_id
        data_tests:
          - not_null
        tags: ["tdf", "gainsight"]
      - name: seat_link_report_date
        description: Day on which Seat Link usage data is reported. Should always be last day of month for historical months.
      - name: seat_link_report_date_id
      - name: dim_ping_instance_id
        description: JOIN key to dim_ping_instance and prep_ping_instance. Represents a single ping.
      - name: ping_created_at
        description: The timestamp at which the usage ping was created.
      - name: ping_created_date_id
      - name: uuid
      - name: hostname
      - name: instance_type
        description: Type of the instance
      - name: dim_license_id
      - name: license_sha256
        description: '{{ doc("license_sha256") }}'
      - name: license_md5
        description: '{{ doc("license_md5") }}'
      - name: cleaned_version
      - name: ping_delivery_type
        description: ' {{ doc("ping_delivery_type") }}'
      - name: ping_deployment_type
        description: ' {{ doc("ping_deployment_type") }}'
      - name: license_utilization
        description: Number of activated seats (`active_user_count`) divided by the number of purchased seats (`license_user_count`) on the subscription.
      - name: active_user_count
        description: Count of active users currently on the customer's subcription. It is possible for a customer to opt out of sending this information to GitLab.
      - name: max_historical_user_count
        description: Maximum active user count ever reported over the lifetime of the customer's subcription.
      - name: license_user_count
        description: Count of licensed users purchased with the customer's subcription.
      - name: umau_28_days_user
        description: '{{ doc("umau_28_days_user_desc") }}'
      - name: action_monthly_active_users_project_repo_28_days_user
        description: Monthly count of unique users that made an Action on a valid [Target](https://docs.gitlab.com/ee/api/events.html#target-types) ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#usage_activity_by_stage_monthlycreateaction_monthly_active_users_project_repo))
      - name: merge_requests_28_days_user
        description: Monthly count of unique users making merge requests ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#usage_activity_by_stage_monthlycreatemerge_requests))
      - name: projects_with_repositories_enabled_28_days_user
        description: Monthly count of unique users that created projects with repositories enabled ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#usage_activity_by_stage_monthlycreateprojects_with_repositories_enabled))
      - name: commit_comment_all_time_event
        description: All-time count commit comments ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#countscommit_comment))
      - name: source_code_pushes_all_time_event
        description: All-time count of source code pushes ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#countssource_code_pushes))
      - name: ci_pipelines_28_days_user
        description: Monthly count of unique users triggering pipelines ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#usage_activity_by_stage_monthlyverifyci_pipelines))
      - name: ci_internal_pipelines_28_days_user
        description: Monthly count of unique users triggering pipelines in GitLab repositories ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#usage_activity_by_stage_monthlyverifyci_internal_pipelines))
      - name: ci_builds_28_days_user
        description: Monthly count of unique users running CI builds ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#usage_activity_by_stage_monthlyverifyci_builds))
      - name: ci_builds_all_time_user
        description: All-time count of unique users running CI builds ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#usage_activity_by_stageverifyci_builds))
      - name: ci_builds_all_time_event
        description: All-time count of CI builds ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#countsci_builds))
      - name: ci_runners_all_time_event
        description: All-time count of CI Runners ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#countsci_runners))
      - name: auto_devops_enabled_all_time_event
        description: All-time count of Projects with auto DevOps template enabled on an instance ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#countsauto_devops_enabled))
      - name: gitlab_shared_runners_enabled
        description: Flags whether shared runners are enabled on an instance ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#gitlab_shared_runners_enabled))
      - name: container_registry_enabled
        description: Flags whether container registry is enabled ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#container_registry_enabled))
      - name: template_repositories_all_time_event
        description: All-time total of custom project templates and projects without namespaces ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#countstemplate_repositories))
      - name: ci_pipeline_config_repository_28_days_user
        description: Monthly count of unique users triggering pipelines from templates in repository ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#usage_activity_by_stage_monthlyverifyci_pipeline_config_repository))
      - name: user_unique_users_all_secure_scanners_28_days_user
        description: Monthly count of unique users running secure CI builds ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#usage_activity_by_stage_monthlysecureuser_unique_users_all_secure_scanners))
      - name: user_sast_jobs_28_days_user
        description: Monthly count of unique users running SAST CI builds ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#usage_activity_by_stage_monthlysecureuser_sast_jobs))
      - name: user_dast_jobs_28_days_user
        description: Monthly count of unique users running DAST CI builds ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#usage_activity_by_stage_monthlysecureuser_dast_jobs))
      - name: user_dependency_scanning_jobs_28_days_user
        description: Monthly count of unique users running dependency scanning CI builds ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#usage_activity_by_stage_monthlysecureuser_dependency_scanning_jobs))
      - name: user_license_management_jobs_28_days_user
        description: Monthly count of unique users running license management CI builds ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#usage_activity_by_stage_monthlysecureuser_license_management_jobs))
      - name: user_secret_detection_jobs_28_days_user
        description: Monthly count of unique users running secret detection CI builds ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#usage_activity_by_stage_monthlysecureuser_secret_detection_jobs))
      - name: user_container_scanning_jobs_28_days_user
        description: Monthly count of unique users running container scanning CI builds ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#usage_activity_by_stage_monthlysecureuser_container_scanning_jobs))
      - name: object_store_packages_enabled
        description: Flags whether Object Storage is enabled for Uploads on an instance ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#object_storepackagesenabled))
      - name: projects_with_packages_all_time_event
        description: All-time count of projects with package registry configured ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#countsprojects_with_packages))
      - name: projects_with_packages_28_days_event
        description: '{{ doc("projects_with_packages_28_days_event_desc") }}'
        data_tests:
          - dbt_utils.at_least_one
      - name: deployments_28_days_user
        description: Monthly count of unique users triggering deployments ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#usage_activity_by_stage_monthlyreleasedeployments))
      - name: releases_28_days_user
        description: Monthly count of unique users authoring releases ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#usage_activity_by_stage_monthlyreleasereleases))
      - name: epics_28_days_user
        description: Monthly count of unique users authoring epics ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#usage_activity_by_stage_monthlyplanepics))
      - name: issues_28_days_user
        description: Monthly count of unique users authoring issues ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#usage_activity_by_stage_monthlyplanissues))
      - name: ci_internal_pipelines_all_time_event
        description: All-time count of pipelines in GitLab repositories ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#countsci_internal_pipelines))
      - name: ci_external_pipelines_all_time_event
        description: All-time count of pipelines in external repositories ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#countsci_external_pipelines))
      - name: merge_requests_all_time_event
        description: All-time count of Merge Requests ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#countsmerge_requests))
      - name: todos_all_time_event
        description: All-time count of ToDos created ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#countstodos))
      - name: epics_all_time_event
        description: All-time count of Epics created ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#countsepics))
      - name: issues_all_time_event
        description: All-time count of Issues created ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#countsissues))
      - name: projects_all_time_event
        description: All-time count of Projects created ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#countsprojects))
      - name: deployments_28_days_event
        description: Monthly count of deployments ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#counts_monthlydeployments))
      - name: packages_28_days_event
        description: Monthly count of Packages ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#counts_monthlypackages))
      - name: dast_jobs_all_time_event
        description: All-time count of DAST CI builds ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#countsdast_jobs))
      - name: license_management_jobs_all_time_event
        description: All-time count of License Management CI builds ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#countslicense_management_jobs))
      - name: secret_detection_jobs_all_time_event
        description: All-time count of Secret Detection’ CI builds ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#countssecret_detection_jobs))
      - name: projects_jenkins_active_all_time_event
        description: All-time count of projects with active integrations for Jenkins ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#countsprojects_jenkins_active))
      - name: projects_bamboo_active_all_time_event
        description: All-time count of projects with active integrations for Bamboo CI ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#countsprojects_bamboo_active))
      - name: projects_jira_active_all_time_event
        description: All-time count of projects with active integrations for Jira ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#countsprojects_jira_active))
      - name: projects_drone_ci_active_all_time_event
        description: All-time count of projects with active integrations for Drone CI ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#countsprojects_drone_ci_active))
      - name: jira_imports_28_days_event
        description: Monthly count of Issues imported from Jira ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#usage_activity_by_stage_monthlymanageissue_importsjira)). This metric has been deprecated but we are keeping the field around for history.
      - name: projects_github_active_all_time_event
        description: All-time count of projects with active integrations for GitHub ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#countsprojects_github_active))
      - name: projects_jira_dvcs_cloud_active_all_time_event
        description: All-time count of active integrations with Jira Cloud (DVCS Connector) ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#countsprojects_jira_dvcs_cloud_active))
      - name: projects_with_repositories_enabled_all_time_event
        description: All-time count of projects with repositories enabled ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#countsprojects_with_repositories_enabled))
      - name: protected_branches_all_time_event
        description: All-time count of protected branches ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#countsprotected_branches))
      - name: remote_mirrors_all_time_event
        description: All-time count of remote mirrors ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#countsremote_mirrors))
      - name: projects_enforcing_code_owner_approval_28_days_user
        description: Monthly count of unique users creating projects that require code owner approval ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#usage_activity_by_stage_monthlycreateprojects_enforcing_code_owner_approval))
      - name: project_clusters_enabled_28_days_user
        description: Monthly count of unique users using GitLab Managed enabled clusters attached to projects ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#usage_activity_by_stage_monthlyconfigureproject_clusters_enabled))
      - name: analytics_28_days_user
        description: The number of unique users viewing any [Analytics page](https://docs.gitlab.com/ee/user/analytics/) ([source](https://about.gitlab.com/handbook/product/stage-and-group-performance-indicators/#manage-manageoptimize---smau-gmau---mau-viewing-analytics-features))
      - name: issues_edit_28_days_user
        description: Number of unique users interacting with an issue (open, close, reopen, adjust label, adjust milestone, adjust weight, comment) ([source](https://about.gitlab.com/handbook/product/stage-and-group-performance-indicators/#plan-planproject-management---smau-paid-gmau---mau-interacting-with-issues))
      - name: user_packages_28_days_user
        description: The maximum distinct count of users who published a package to the Package Registry. In the future, this value will the distinct count of users across all Package AMAUs ([source](https://about.gitlab.com/handbook/product/stage-and-group-performance-indicators/#packagepackage---smau-gmau---count-of-users-publishing-packages))
      - name: terraform_state_api_28_days_user
        description: Monthly active users of GitLab Managed Terraform State ([source](https://about.gitlab.com/handbook/product/stage-and-group-performance-indicators/#configureconfigure---smau-gmau---mau-of-gitlab-managed-terraform-state))
      - name: incident_management_28_days_user
        description: Unique users that interact with alerts or incidents ([source](https://about.gitlab.com/handbook/product/stage-and-group-performance-indicators/#monitormonitor---smau-gmau---unique-users-that-interact-with-alerts-and-incidents))
      - name: auto_devops_enabled
        description: Flags whether auto DevOps is enabled on an instance ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#instance_auto_devops_enabled))
      - name: gitaly_clusters_instance
        description: Number of GitLab Managed clusters both enabled and disabled on an instance ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#gitalyclusters))
      - name: epics_deepest_relationship_level_instance
        description: Numeric level of the deepest relationship of all epics on an instance ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#countsepics_deepest_relationship_level))
      - name: network_policy_forwards_all_time_event
        description: Cumulative count of packets forwarded by Cilium (Container Network Security) ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#countsnetwork_policy_forwards))
      - name: network_policy_drops_all_time_event
        description: Cumulative count of packets dropped by Cilium (Container Network Security) ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#countsnetwork_policy_drops))
      - name: requirements_with_test_report_all_time_event
        description: All-time count of requirements having a test report ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#countsrequirements_with_test_report))
      - name: requirement_test_reports_ci_all_time_event
        description: All-time count of requirement test reports created from CI ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#countsrequirement_test_reports_ci))
      - name: projects_imported_from_github_all_time_event
        description: All-time count of project imported from GitHub ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#countsprojects_imported_from_github))
      - name: projects_jira_dvcs_server_active_all_time_event
        description: All-time count of active integrations with Jira Software (DVCS connector) ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#countsprojects_jira_dvcs_server_active))
      - name: service_desk_issues_all_time_event
        description: All-time count of service desk issues ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#countsservice_desk_issues))
      - name: ci_pipelines_all_time_user
        description: All-time count of distinct Users triggering Total pipelines ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#usage_activity_by_stageverifyci_pipelines))
      - name: service_desk_issues_28_days_user
        description: Monthly count of users opening service desk issues ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#usage_activity_by_stage_monthlyplanservice_desk_issues))
      - name: projects_jira_active_28_days_user
        description: Monthly count of users interacting with active integrations of Jira Software ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#usage_activity_by_stage_monthlyplanprojects_jira_active))
      - name: projects_jira_dvcs_server_active_28_days_user
        description: Monthly count of users interacting with active integrations of Jira Software (DVCS connector) ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#usage_activity_by_stage_monthlyplanprojects_jira_dvcs_server_active))
      - name: merge_requests_with_required_code_owners_28_days_user
        description: Monthly count of users creating merge requests with required code owners ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#usage_activity_by_stage_monthlycreatemerge_requests_with_required_codeowners))
      - name: analytics_value_stream_28_days_event
        description: Monthly count of visits to [Value Stream Analytics](https://about.gitlab.com/stages-devops-lifecycle/value-stream-analytics/) ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#redis_hll_countersanalyticsg_analytics_valuestream_monthly))
      - name: code_review_user_approve_mr_28_days_user
        description: Monthly count of users approving merge requests ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#redis_hll_counterscode_reviewi_code_review_user_approve_mr_monthly))
      - name: epics_usage_28_days_user
        description: Monthly users count for epics_usage ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#redis_hll_countersepics_usageepics_usage_total_unique_counts_monthly))
      - name: project_management_issue_milestone_changed_28_days_user
        description: Monthly count of MAU changing an issue’s milestone ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#redis_hll_countersissues_editg_project_management_issue_milestone_changed_monthly))
      - name: project_management_issue_iteration_changed_28_days_user
        description: Monthly count of MAU changing an issue’s iteration ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#redis_hll_countersissues_editg_project_management_issue_iteration_changed_monthly))
      - name: protected_branches_28_days_user
        description: '{{ doc("protected_branches_28_days_user_desc") }}'
        data_tests:
          - dbt_utils.at_least_one
      - name: ci_cd_lead_time_usage_28_days_event
        description: '{{ doc("ci_cd_lead_time_usage_28_days_event_desc") }}'
        data_tests:
          - dbt_utils.at_least_one
      - name: ci_cd_deployment_frequency_usage_28_days_event
        description: '{{ doc("ci_cd_deployment_frequency_usage_28_days_event_desc") }}'
        data_tests:
          - dbt_utils.at_least_one
      - name: projects_with_repositories_enabled_all_time_user
        description: '{{ doc("projects_with_repositories_enabled_all_time_user_desc") }}'
        data_tests:
          - dbt_utils.at_least_one
      - name: environments_all_time_event
        description: '{{ doc("environments_all_time_event_desc") }}'
        data_tests:
          - dbt_utils.at_least_one
      - name: feature_flags_all_time_event
        description: '{{ doc("feature_flags_all_time_event_desc") }}'
        data_tests:
          - dbt_utils.at_least_one
      - name: successful_deployments_28_days_event
        description: '{{ doc("successful_deployments_28_days_event_desc") }}'
        data_tests:
          - dbt_utils.at_least_one
      - name: failed_deployments_28_days_event
        description: '{{ doc("failed_deployments_28_days_event_desc") }}'
        data_tests:
          - dbt_utils.at_least_one
      - name: projects_compliance_framework_all_time_event
        description: '{{ doc("projects_compliance_framework_all_time_event_desc") }}'
        data_tests:
          - dbt_utils.at_least_one
      - name: commit_ci_config_file_28_days_user
        description: '{{ doc("commit_ci_config_file_28_days_user_desc") }}'
        data_tests:
          - dbt_utils.at_least_one
      - name: view_audit_all_time_user
        description: '{{ doc("view_audit_all_time_user_desc") }}'
        data_tests:
          - dbt_utils.at_least_one
      - name: dependency_scanning_jobs_all_time_user
        description: '{{ doc("dependency_scanning_jobs_all_time_user_desc") }}'
        data_tests:
          - dbt_utils.at_least_one
      - name: analytics_devops_adoption_all_time_user
        description: '{{ doc("analytics_devops_adoption_all_time_user_desc") }}'
        data_tests:
          - dbt_utils.at_least_one
      - name: projects_imported_all_time_event
        description: '{{ doc("projects_imported_all_time_event_desc") }}'
        data_tests:
          - dbt_utils.at_least_one
      - name: preferences_security_dashboard_28_days_user
        description: '{{ doc("preferences_security_dashboard_28_days_user_desc") }}'
        data_tests:
          - dbt_utils.at_least_one
      - name: web_ide_edit_28_days_user
        description: '{{ doc("web_ide_edit_28_days_user_desc") }}'
        data_tests:
          - dbt_utils.at_least_one
      - name: auto_devops_pipelines_all_time_event
        description: '{{ doc("auto_devops_pipelines_all_time_event_desc") }}'
        data_tests:
          - dbt_utils.at_least_one
      - name: projects_prometheus_active_all_time_event
        description: '{{ doc("projects_prometheus_active_all_time_event_desc") }}'
        data_tests:
          - dbt_utils.at_least_one
      - name: prometheus_enabled
        description: '{{ doc("prometheus_enabled_desc") }}'
        data_tests:
          - dbt_utils.at_least_one
      - name: prometheus_metrics_enabled
        description: '{{ doc("prometheus_metrics_enabled_desc") }}'
        data_tests:
          - dbt_utils.at_least_one
      - name: group_saml_enabled
        description: '{{ doc("group_saml_enabled_desc") }}'
        data_tests:
          - dbt_utils.at_least_one
      - name: jira_issue_imports_all_time_event
        description: '{{ doc("jira_issue_imports_all_time_event_desc") }}'
        data_tests:
          - dbt_utils.at_least_one
      - name: author_epic_all_time_user
        description: '{{ doc("author_epic_all_time_user_desc") }}'
        data_tests:
          - dbt_utils.at_least_one
      - name: author_issue_all_time_user
        description: '{{ doc("author_issue_all_time_user_desc") }}'
        data_tests:
          - dbt_utils.at_least_one
      - name: failed_deployments_28_days_user
        description: '{{ doc("failed_deployments_28_days_user_desc") }}'
        data_tests:
          - dbt_utils.at_least_one
      - name: successful_deployments_28_days_user
        description: '{{ doc("successful_deployments_28_days_user_desc") }}'
        data_tests:
          - dbt_utils.at_least_one
      - name: geo_enabled
        description: '{{ doc("geo_enabled_desc") }}'
        data_tests:
          - dbt_utils.at_least_one
      - name: auto_devops_pipelines_28_days_user
        description: '{{ doc("auto_devops_pipelines_28_days_user_desc") }}'
        data_tests:
          - dbt_utils.at_least_one
      - name: active_instance_runners_all_time_event
        description: '{{ doc("active_instance_runners_all_time_event_desc") }}'
        data_tests:
          - dbt_utils.at_least_one
      - name: active_group_runners_all_time_event
        description: '{{ doc("active_group_runners_all_time_event_desc") }}'
        data_tests:
          - dbt_utils.at_least_one
      - name: active_project_runners_all_time_event
        description: '{{ doc("active_project_runners_all_time_event_desc") }}'
        data_tests:
          - dbt_utils.at_least_one
      - name: gitaly_version
        description: '{{ doc("gitaly_version_desc") }}'
        data_tests:
          - dbt_utils.at_least_one
      - name: gitaly_servers_all_time_event
        description: '{{ doc("gitaly_servers_all_time_event_desc") }}'
        data_tests:
          - dbt_utils.at_least_one
      - name: api_fuzzing_scans_all_time_event
        description: '{{ doc("api_fuzzing_scans_all_time_event_desc") }}'
        data_tests:
          - dbt_utils.at_least_one
      - name: api_fuzzing_scans_28_days_event
        description: '{{ doc("api_fuzzing_scans_28_days_event_desc") }}'
        data_tests:
          - dbt_utils.at_least_one
      - name: coverage_fuzzing_scans_all_time_event
        description: '{{ doc("coverage_fuzzing_scans_all_time_event_desc") }}'
        data_tests:
          - dbt_utils.at_least_one
      - name: coverage_fuzzing_scans_28_days_event
        description: '{{ doc("coverage_fuzzing_scans_28_days_event_desc") }}'
        data_tests:
          - dbt_utils.at_least_one
      - name: secret_detection_scans_all_time_event
        description: '{{ doc("secret_detection_scans_all_time_event_desc") }}'
        data_tests:
          - dbt_utils.at_least_one
      - name: secret_detection_scans_28_days_event
        description: '{{ doc("secret_detection_scans_28_days_event_desc") }}'
        data_tests:
          - dbt_utils.at_least_one
      - name: dependency_scanning_scans_all_time_event
        description: '{{ doc("dependency_scanning_scans_all_time_event_desc") }}'
        data_tests:
          - dbt_utils.at_least_one
      - name: dependency_scanning_scans_28_days_event
        description: '{{ doc("dependency_scanning_scans_28_days_event_desc") }}'
        data_tests:
          - dbt_utils.at_least_one
      - name: container_scanning_scans_all_time_event
        description: '{{ doc("container_scanning_scans_all_time_event_desc") }}'
        data_tests:
          - dbt_utils.at_least_one
      - name: container_scanning_scans_28_days_event
        description: '{{ doc("container_scanning_scans_28_days_event_desc") }}'
        data_tests:
          - dbt_utils.at_least_one
      - name: dast_scans_all_time_event
        description: '{{ doc("dast_scans_all_time_event_desc") }}'
        data_tests:
          - dbt_utils.at_least_one
      - name: dast_scans_28_days_event
        description: '{{ doc("dast_scans_28_days_event_desc") }}'
        data_tests:
          - dbt_utils.at_least_one
      - name: sast_scans_all_time_event
        description: '{{ doc("sast_scans_all_time_event_desc") }}'
        data_tests:
          - dbt_utils.at_least_one
      - name: sast_scans_28_days_event
        description: '{{ doc("sast_scans_28_days_event_desc") }}'
        data_tests:
          - dbt_utils.at_least_one
      - name: snippets_28_days_event
        description: '{{ doc("snippets_28_days_event_desc") }}'
        data_tests:
          - dbt_utils.at_least_one
      - name: single_file_editor_28_days_user
        description: '{{ doc("single_file_editor_28_days_user_desc") }}'
        data_tests:
          - dbt_utils.at_least_one
      - name: merge_requests_created_28_days_event
        description: '{{ doc("merge_requests_created_28_days_event_desc") }}'
        data_tests:
          - dbt_utils.at_least_one
      - name: merge_requests_created_28_days_user
        description: '{{ doc("merge_requests_created_28_days_user_desc") }}'
        data_tests:
          - dbt_utils.at_least_one
      - name: merge_requests_approval_rules_28_days_event
        description: '{{ doc("merge_requests_approval_rules_28_days_event_desc") }}'
        data_tests:
          - dbt_utils.at_least_one
      - name: custom_compliance_frameworks_28_days_event
        description: '{{ doc("custom_compliance_frameworks_28_days_event_desc") }}'
        data_tests:
          - dbt_utils.at_least_one
      - name: projects_security_policy_28_days_event
        description: '{{ doc("projects_security_policy_28_days_event_desc") }}'
        data_tests:
          - dbt_utils.at_least_one
      - name: merge_requests_security_policy_28_days_user
        description: '{{ doc("merge_requests_security_policy_28_days_user_desc") }}'
        data_tests:
          - dbt_utils.at_least_one
      - name: pipelines_implicit_auto_devops_28_days_event
        description: '{{ doc("pipelines_implicit_auto_devops_28_days_event_desc") }}'
        data_tests:
          - dbt_utils.at_least_one
      - name: pipeline_schedules_28_days_user
        description: '{{ doc("pipeline_schedules_28_days_user_desc") }}'
        data_tests:
          - dbt_utils.at_least_one
      - name: ci_internal_pipelines_28_days_event
        description: '{{ doc("ci_internal_pipelines_28_days_event_desc") }}'
        data_tests:
          - dbt_utils.at_least_one
      - name: ci_builds_28_days_event
        description: '{{ doc("ci_builds_28_days_event_desc") }}'
        data_tests:
          - dbt_utils.at_least_one
      - name: groups_all_time_event
        description: '{{ doc("groups_all_time_event_desc") }}'
        data_tests:
          - dbt_utils.at_least_one
      - name: commit_ci_config_file_7_days_user
        description: '{{ doc("commit_ci_config_file_7_days_user_desc") }}'
        data_tests:
          - dbt_utils.at_least_one
      - name: ci_pipeline_config_repository_all_time_user
        description: '{{ doc("ci_pipeline_config_repository_all_time_user_desc") }}'
        data_tests:
          - dbt_utils.at_least_one
      - name: ci_pipeline_config_repository_all_time_event
        description: '{{ doc("ci_pipeline_config_repository_all_time_event_desc") }}'
        data_tests:
          - dbt_utils.at_least_one
      - name: pipeline_schedules_all_time_event
        description: '{{ doc("pipeline_schedules_all_time_event_desc") }}'
        data_tests:
          - dbt_utils.at_least_one
      - name: pipeline_schedules_all_time_user
        description: '{{ doc("pipeline_schedules_all_time_user_desc") }}'
        data_tests:
          - dbt_utils.at_least_one
      - name: ci_builds_28_days_event_post_16_9
        description: '{{ doc("ci_builds_28_days_event_post_16_9_desc") }}'
      - name: instance_user_count_not_aligned
        description: Checks if the instance user count sent with the Usage Ping aligns with `active_user_count` from Seat Link source. Returns NULL if counts are aligned, if not the instance user count from the Usage Ping is displayed.
      - name: historical_max_users_not_aligned
        description: Checks if the historical max user count sent with the Usage Ping aligns with `max_historical_user_count` from Seat Link source. Returns NULL if counts are aligned, if not the historical max user count from the Usage Ping is displayed.
      - name: is_seat_link_subscription_in_zuora
        description: Flags rows where the 'zuora_subscription_id' from 'customers_db_orders_source' is not found in 'dim_subscription'
      - name: is_seat_link_rate_plan_in_zuora
        description: Flags rows where the 'product_rate_plan_id' from 'customers_db_orders_source' is not found in 'dim_product_tier'
      - name: is_seat_link_active_user_count_available
        description: Flags rows where 'active_user_count' is NULL in source.
      - name: is_usage_ping_license_mapped_to_subscription
      - name: is_usage_ping_license_subscription_id_valid
      - name: is_data_in_subscription_month
        description: Flags rows where there is Usage Ping data and/or Seat Link data present
      - name: is_latest_data
        description: Flags the row with the most recently received data from Usage Ping and/or Seat Link
      - name: installation_creation_date
        description: '{{ doc("installation_creation_date") }}'
      - name: dim_installation_id
        description: '{{ doc("dim_installation_id") }}'

  - name: fct_ping_instance
    description: ' {{ doc("fct_ping_instance") }} '
    columns:
      - name: ping_instance_id
        data_tests:
          - not_null
          - unique
        description: The unique composite ID for the fct_ping_instance model consisting of dim_ping_instance_id
      - name: dim_ping_instance_id
        description: '{{ doc("dim_ping_instance_id") }}'
      - name: ping_created_at
        description: '{{ doc("ping_created_at") }}'
      - name: uploaded_at
        description: '{{ doc("uploaded_at") }}'
        data_tests:
          - not_null
      - name: dim_product_tier_id
        description: '{{ doc("dim_product_tier_id_ping_model") }}'
      - name: dim_subscription_id
        description: '{{ doc("dim_subscription_id_ping_model") }}'
      - name: dim_crm_account_id
        description: '{{ doc("dim_crm_account_id") }}'
      - name: dim_parent_crm_account_id
        description: '{{ doc("dim_parent_crm_account_id") }}'
      - name: dim_location_country_id
        description: '{{ doc("dim_location_country_id_ping_model") }}'
      - name: dim_ping_date_id
        description: '{{ doc("dim_ping_date_id") }}'
      - name: dim_instance_id
        description: '{{ doc("dim_instance_id") }}'
      - name: dim_host_id
        description: '{{ doc("dim_host_id") }}'
      - name: dim_installation_id
        description: '{{ doc("dim_installation_id") }}'
      - name: dim_license_id
        description:  '{{ doc("dim_license_id") }}'
      - name: dim_app_release_major_minor_sk
        description:  '{{ doc("dim_app_release_major_minor_sk") }}'
      - name: dim_latest_available_app_release_major_minor_sk
        description: '{{ doc("dim_latest_available_app_release_major_minor_sk") }}'
      - name: license_md5
        description: '{{ doc("license_md5") }}'
      - name: license_sha256
        description: '{{ doc("license_sha256") }}'
      - name: license_billable_users
        description: '{{ doc("license_billable_users") }}'
      - name: instance_user_count
        description: '{{ doc("instance_user_count") }}'
      - name: historical_max_user_count
        description: '{{ doc("historical_max_users") }}'
      - name: license_user_count
        description: '{{ doc("license_user_count") }}'
      - name: hostname
        description: '{{ doc("host_name") }}'
      - name: umau_value
        description: '{{ doc("umau_value") }}'
      - name: duo_pro_purchased_seats
        description: '{{ doc("duo_pro_purchased_seats") }}'
      - name: duo_pro_assigned_seats
        description: '{{ doc("duo_pro_assigned_seats") }}'
      - name: duo_enterprise_purchased_seats
        description: '{{ doc("duo_enterprise_purchased_seats") }}'
      - name: duo_enterprise_assigned_seats
        description: '{{ doc("duo_enterprise_assigned_seats") }}'
      - name: duo_amazon_q_purchased_seats
        description: '{{ doc("duo_amazon_q_purchased_seats") }}'
      - name: duo_amazon_q_assigned_seats
        description: '{{ doc("duo_amazon_q_assigned_seats") }}'
      - name: dim_subscription_license_id
        description: '{{ doc("dim_subscription_license_id") }}'
      - name: is_trial
        description: '{{ doc("is_trial_ping_model") }}'
      - name: product_tier
        description: '{{ doc("ping_product_tier") }}'
      - name: main_edition_product_tier
        description: '{{ doc("ping_edition") }}'
      - name: data_source
        description: '{{ doc("data_source") }}'
      - name: created_by
        description: '{{ doc("created_by") }}'
      - name: updated_by
        description: '{{ doc("updated_by") }}'
      - name: model_created_date
        description: '{{ doc("model_created_date") }}'
      - name: model_updated_date
        description: '{{ doc("model_updated_date") }}'
      - name: installation_creation_date
        description: '{{ doc("installation_creation_date") }}'


  - name: fct_ping_instance_metric_28_day
    description: ' {{ doc("fct_ping_instance_metric_28_day") }} '
    columns:
      - name: ping_instance_metric_id
        data_tests:
          - not_null
        description: The unique composite ID for the fct_ping_instance_metric model consisting of dim_ping_instance_id and metrics_path
      - name: dim_ping_instance_id
        description: '{{ doc("dim_ping_instance_id") }}'
      - name: metrics_path
        description: '{{ doc("metrics_path") }}'
      - name: metric_value
        description: '{{ doc("metric_value") }}'
      - name: has_timed_out
        description: '{{ doc("has_timed_out") }}'
      - name: dim_product_tier_id
        description: '{{ doc("dim_product_tier_id_ping_model") }}'
      - name: dim_subscription_id
        description: '{{ doc("dim_subscription_id_ping_model") }}'
      - name: dim_location_country_id
        description: '{{ doc("dim_location_country_id_ping_model") }}'
      - name: dim_ping_date_id
        description: '{{ doc("dim_ping_date_id") }}'
      - name: dim_instance_id
        description: '{{ doc("dim_instance_id") }}'
      - name: dim_host_id
        description: '{{ doc("dim_host_id") }}'
      - name: dim_installation_id
        description: '{{ doc("dim_installation_id") }}'
      - name: dim_license_id
        description:  '{{ doc("dim_license_id") }}'
      - name: license_md5
        description: '{{ doc("license_md5") }}'
      - name: license_sha256
        description: '{{ doc("license_sha256") }}'
      - name: ping_created_at
        description: '{{ doc("ping_created_at") }}'
      - name: ping_created_date
        description: '{{ doc("ping_created_date") }}'
      - name: umau_value
        description: '{{ doc("umau_value") }}'
      - name: dim_subscription_license_id
        description: '{{ doc("dim_subscription_license_id") }}'
      - name: is_license_mapped_to_subscription
        description: '{{ doc("is_license_mapped_to_subscription") }}'
      - name: is_license_subscription_id_valid
        description: '{{ doc("is_license_subscription_id_valid") }}'
      - name: is_service_ping_license_in_customerDot
        description: '{{ doc("is_service_ping_license_in_customerDot") }}'
      - name: data_source
        description: '{{ doc("data_source") }}'
      - name: time_frame
        description: '{{ doc("time_frame") }}'
      - name: created_by
        description: '{{ doc("created_by") }}'
      - name: updated_by
        description: '{{ doc("updated_by") }}'
      - name: model_created_date
        description: '{{ doc("model_created_date") }}'
      - name: model_updated_date
        description: '{{ doc("model_updated_date") }}'

  - name: fct_ping_instance_metric_7_day
    description: ' {{ doc("fct_ping_instance_metric_7_day") }} '
    columns:
      - name: ping_instance_metric_id
        data_tests:
          - not_null
        description: The unique composite ID for the fct_ping_instance_metric model consisting of dim_ping_instance_id and metrics_path
      - name: dim_ping_instance_id
        description: '{{ doc("dim_ping_instance_id") }}'
      - name: metrics_path
        description: '{{ doc("metrics_path") }}'
      - name: metric_value
        description: '{{ doc("metric_value") }}'
      - name: has_timed_out
        description: '{{ doc("has_timed_out") }}'
      - name: dim_product_tier_id
        description: '{{ doc("dim_product_tier_id_ping_model") }}'
      - name: dim_subscription_id
        description: '{{ doc("dim_subscription_id_ping_model") }}'
      - name: dim_location_country_id
        description: '{{ doc("dim_location_country_id_ping_model") }}'
      - name: dim_ping_date_id
        description: '{{ doc("dim_ping_date_id") }}'
      - name: dim_instance_id
        description: '{{ doc("dim_instance_id") }}'
      - name: dim_host_id
        description: '{{ doc("dim_host_id") }}'
      - name: dim_installation_id
        description: '{{ doc("dim_installation_id") }}'
      - name: dim_license_id
        description:  '{{ doc("dim_license_id") }}'
      - name: license_md5
        description: '{{ doc("license_md5") }}'
      - name: license_sha256
        description: '{{ doc("license_sha256") }}'
      - name: ping_created_at
        description: '{{ doc("ping_created_at") }}'
      - name: ping_created_date
        description: '{{ doc("ping_created_date") }}'
      - name: umau_value
        description: '{{ doc("umau_value") }}'
      - name: dim_subscription_license_id
        description: '{{ doc("dim_subscription_license_id") }}'
      - name: is_license_mapped_to_subscription
        description: '{{ doc("is_license_mapped_to_subscription") }}'
      - name: is_license_subscription_id_valid
        description: '{{ doc("is_license_subscription_id_valid") }}'
      - name: is_service_ping_license_in_customerDot
        description: '{{ doc("is_service_ping_license_in_customerDot") }}'
      - name: data_source
        description: '{{ doc("data_source") }}'
      - name: time_frame
        description: '{{ doc("time_frame") }}'
      - name: created_by
        description: '{{ doc("created_by") }}'
      - name: updated_by
        description: '{{ doc("updated_by") }}'
      - name: model_created_date
        description: '{{ doc("model_created_date") }}'
      - name: model_updated_date
        description: '{{ doc("model_updated_date") }}'

  - name: fct_ping_instance_metric_none_null
    description: ' {{ doc("fct_ping_instance_metric_none_null") }} '
    columns:
      - name: ping_instance_metric_id
        data_tests:
          - not_null
        description: The unique composite ID for the fct_ping_instance_metric model consisting of dim_ping_instance_id and metrics_path
      - name: dim_ping_instance_id
        description: '{{ doc("dim_ping_instance_id") }}'
      - name: metrics_path
        description: '{{ doc("metrics_path") }}'
      - name: metric_value
        description: '{{ doc("metric_value") }}'
      - name: has_timed_out
        description: '{{ doc("has_timed_out") }}'
      - name: dim_product_tier_id
        description: '{{ doc("dim_product_tier_id_ping_model") }}'
      - name: dim_subscription_id
        description: '{{ doc("dim_subscription_id_ping_model") }}'
      - name: dim_location_country_id
        description: '{{ doc("dim_location_country_id_ping_model") }}'
      - name: dim_ping_date_id
        description: '{{ doc("dim_ping_date_id") }}'
      - name: dim_instance_id
        description: '{{ doc("dim_instance_id") }}'
      - name: dim_host_id
        description: '{{ doc("dim_host_id") }}'
      - name: dim_installation_id
        description: '{{ doc("dim_installation_id") }}'
      - name: dim_license_id
        description:  '{{ doc("dim_license_id") }}'
      - name: license_md5
        description: '{{ doc("license_md5") }}'
      - name: license_sha256
        description: '{{ doc("license_sha256") }}'
      - name: ping_created_at
        description: '{{ doc("ping_created_at") }}'
      - name: ping_created_date
        description: '{{ doc("ping_created_date") }}'
      - name: umau_value
        description: '{{ doc("umau_value") }}'
      - name: dim_subscription_license_id
        description: '{{ doc("dim_subscription_license_id") }}'
      - name: is_license_mapped_to_subscription
        description: '{{ doc("is_license_mapped_to_subscription") }}'
      - name: is_license_subscription_id_valid
        description: '{{ doc("is_license_subscription_id_valid") }}'
      - name: is_service_ping_license_in_customerDot
        description: '{{ doc("is_service_ping_license_in_customerDot") }}'
      - name: data_source
        description: '{{ doc("data_source") }}'
      - name: time_frame
        description: '{{ doc("time_frame") }}'
      - name: created_by
        description: '{{ doc("created_by") }}'
      - name: updated_by
        description: '{{ doc("updated_by") }}'
      - name: model_created_date
        description: '{{ doc("model_created_date") }}'
      - name: model_updated_date
        description: '{{ doc("model_updated_date") }}'

  - name: fct_ping_instance_metric_monthly
    description: ' {{ doc("fct_ping_instance_metric_monthly") }} '
    columns:
      - name: ping_instance_metric_monthly_pk
        description: '{{ doc("ping_instance_metric_monthly_pk") }}'
        data_tests:
          - unique:
              config:
                where: "ping_created_at >= DATEADD('day',-3,CURRENT_DATE())"
          - not_null
      - name: ping_instance_metric_id
        data_tests:
          - not_null
        description: The unique composite ID for the fct_ping_instance_metric model consisting of dim_ping_instance_id and metrics_path
      - name: dim_ping_instance_id
        description: '{{ doc("dim_ping_instance_id") }}'
      - name: dim_product_tier_id
        description: '{{ doc("dim_product_tier_id_ping_model") }}'
      - name: dim_subscription_id
        description: '{{ doc("dim_subscription_id_ping_model") }}'
      - name: dim_location_country_id
        description: '{{ doc("dim_location_country_id_ping_model") }}'
      - name: dim_ping_date_id
        description: '{{ doc("dim_ping_date_id") }}'
      - name: dim_instance_id
        description: '{{ doc("dim_instance_id") }}'
      - name: dim_host_id
        description: '{{ doc("dim_host_id") }}'
      - name: dim_installation_id
        description: '{{ doc("dim_installation_id") }}'
      - name: dim_license_id
        description:  '{{ doc("dim_license_id") }}'
      - name: dim_subscription_license_id
        description: '{{ doc("dim_subscription_license_id") }}'
      - name: metrics_path
        description: '{{ doc("metrics_path") }}'
      - name: metric_value
        description: '{{ doc("metric_value") }}'
      - name: monthly_metric_value
        description: '{{ doc("monthly_metric_value") }}'
      - name: time_frame
        description: '{{ doc("time_frame") }}'
      - name: has_timed_out
        description: '{{ doc("has_timed_out") }}'
      - name: ping_created_at
        description: '{{ doc("ping_created_at") }}'
      - name: umau_value
        description: '{{ doc("umau_value") }}'
      - name: data_source
        description: '{{ doc("data_source") }}'
      - name: dim_app_release_major_minor_sk
        description: '{{ doc("dim_app_release_major_minor_sk") }}'
      - name: dim_latest_available_app_release_major_minor_sk
        description: '{{ doc("dim_latest_available_app_release_major_minor_sk") }}'
      - name: created_by
        description: '{{ doc("created_by") }}'
      - name: updated_by
        description: '{{ doc("updated_by") }}'
      - name: model_created_date
        description: '{{ doc("model_created_date") }}'
      - name: model_updated_date
        description: '{{ doc("model_updated_date") }}'
      - name: uploaded_at
        description: '{{ doc("uploaded_at") }}'
      - name: is_current_ping
        description: An administrative column used for filtering the table.

  - name: fct_ping_instance_metric_weekly
    description: ' {{ doc("fct_ping_instance_metric_weekly") }} '
    columns:
      - name: ping_instance_metric_id
        data_tests:
          - not_null
        description: The unique composite ID for the fct_ping_instance_metric model consisting of dim_ping_instance_id and metrics_path
      - name: dim_ping_instance_id
        description: '{{ doc("dim_ping_instance_id") }}'
      - name: metrics_path
        description: '{{ doc("metrics_path") }}'
      - name: has_timed_out
        description: '{{ doc("has_timed_out") }}'
      - name: dim_product_tier_id
        description: '{{ doc("dim_product_tier_id_ping_model") }}'
      - name: dim_subscription_id
        description: '{{ doc("dim_subscription_id_ping_model") }}'
      - name: dim_location_country_id
        description: '{{ doc("dim_location_country_id_ping_model") }}'
      - name: dim_ping_date_id
        description: '{{ doc("dim_ping_date_id") }}'
      - name: dim_instance_id
        description: '{{ doc("dim_instance_id") }}'
      - name: dim_host_id
        description: '{{ doc("dim_host_id") }}'
      - name: dim_installation_id
        description: '{{ doc("dim_installation_id") }}'
      - name: dim_license_id
        description:  '{{ doc("dim_license_id") }}'
      - name: license_md5
        description: '{{ doc("license_md5") }}'
      - name: license_sha256
        description: '{{ doc("license_sha256") }}'
      - name: ping_created_at
        description: '{{ doc("ping_created_at") }}'
      - name: ping_created_date
        description: '{{ doc("ping_created_date") }}'
      - name: umau_value
        description: '{{ doc("umau_value") }}'
      - name: dim_subscription_license_id
        description: '{{ doc("dim_subscription_license_id") }}'
      - name: is_license_mapped_to_subscription
        description: '{{ doc("is_license_mapped_to_subscription") }}'
      - name: is_license_subscription_id_valid
        description: '{{ doc("is_license_subscription_id_valid") }}'
      - name: is_service_ping_license_in_customerDot
        description: '{{ doc("is_service_ping_license_in_customerDot") }}'
      - name: data_source
        description: '{{ doc("data_source") }}'
      - name: metric_value
        description: '{{ doc("metric_value") }}'
      - name: time_frame
        description: '{{ doc("time_frame") }}'
      - name: created_by
        description: '{{ doc("created_by") }}'
      - name: updated_by
        description: '{{ doc("updated_by") }}'
      - name: model_created_date
        description: '{{ doc("model_created_date") }}'
      - name: model_updated_date
        description: '{{ doc("model_updated_date") }}'
      - name: is_current_ping
        description: An administrative column used for filtering the table.

  - name: fct_ping_instance_metric_all_time
    description: ' {{ doc("fct_ping_instance_metric_all_time") }} '
    columns:
      - name: ping_instance_metric_id
        data_tests:
          - not_null
        description: The unique composite ID for the fct_ping_instance_metric model consisting of dim_ping_instance_id and metrics_path
      - name: dim_ping_instance_id
        description: '{{ doc("dim_ping_instance_id") }}'
      - name: metrics_path
        description: '{{ doc("metrics_path") }}'
      - name: metric_value
        description: '{{ doc("metric_value") }}'
      - name: has_timed_out
        description: '{{ doc("has_timed_out") }}'
      - name: dim_product_tier_id
        description: '{{ doc("dim_product_tier_id_ping_model") }}'
      - name: dim_subscription_id
        description: '{{ doc("dim_subscription_id_ping_model") }}'
      - name: dim_location_country_id
        description: '{{ doc("dim_location_country_id_ping_model") }}'
      - name: dim_ping_date_id
        description: '{{ doc("dim_ping_date_id") }}'
      - name: dim_instance_id
        description: '{{ doc("dim_instance_id") }}'
      - name: dim_host_id
        description: '{{ doc("dim_host_id") }}'
      - name: dim_installation_id
        description: '{{ doc("dim_installation_id") }}'
      - name: dim_license_id
        description:  '{{ doc("dim_license_id") }}'
      - name: license_md5
        description: '{{ doc("license_md5") }}'
      - name: license_sha256
        description: '{{ doc("license_sha256") }}'
      - name: ping_created_at
        description: '{{ doc("ping_created_at") }}'
      - name: ping_created_date
        description: '{{ doc("ping_created_date") }}'
      - name: umau_value
        description: '{{ doc("umau_value") }}'
      - name: dim_subscription_license_id
        description: '{{ doc("dim_subscription_license_id") }}'
      - name: is_license_mapped_to_subscription
        description: '{{ doc("is_license_mapped_to_subscription") }}'
      - name: is_license_subscription_id_valid
        description: '{{ doc("is_license_subscription_id_valid") }}'
      - name: is_service_ping_license_in_customerDot
        description: '{{ doc("is_service_ping_license_in_customerDot") }}'
      - name: data_source
        description: '{{ doc("data_source") }}'
      - name: time_frame
        description: '{{ doc("time_frame") }}'
      - name: created_by
        description: '{{ doc("created_by") }}'
      - name: updated_by
        description: '{{ doc("updated_by") }}'
      - name: model_created_date
        description: '{{ doc("model_created_date") }}'
      - name: model_updated_date
        description: '{{ doc("model_updated_date") }}'

  - name: fct_performance_indicator_targets
    description: '{{ doc("fct_performance_indicator_targets") }}'
    columns:
      - name: performance_indicator_targets_pk
        description: The unique composite ID for the fct_performance_indicator_targets consisting of reporting_month and pi_metric_name
        data_tests:
          - not_null
          - unique
      - name: reporting_month
        description: First day of calendar month when the target is valid for the metric (YYYY-MM-01)
      - name: pi_metric_name
        description: Metric associated with target. This value comes directly from the PI yaml file
      - name: target_value
        description: Target value for given metric on given month. This value appears in `pi_monthly_estimated_targets` in the PI yml files
      - name: created_by
        description: '{{ doc("created_by") }}'
      - name: updated_by
        description: '{{ doc("updated_by") }}'
      - name: model_created_date
        description: '{{ doc("model_created_date") }}'
      - name: model_updated_date
        description: '{{ doc("model_updated_date") }}'

  - name: dim_charge
    description: Dimension table for unique transactions in Zuora Billing. The table only includes recurring charges at this time. Non-recurring charges will be added in a future iteration.
    columns:
      - name: dim_charge_id
        description: Unique identifier for a rate plan charge in Zuora. These are transactions in Zuora Billing.
        data_tests:
          - not_null
          - unique
        tags: ["tdf"]
      - name: rate_plan_charge_description
        description: Description for a rate plan charge in Zuora. This can be used to identify orders that received transition pricing in FY24. Note, the description field will not show a transition pricing tag for sales-assisted orders. 
        tags: ["tdf"]

  - name: dim_crm_account
    description: '{{ doc("dim_crm_account") }}'
    columns:
      - name: dim_crm_account_id
        description: Account ID from SFDC identifing the customer
        data_tests:
          - unique
        tags: ["tdf"]
      - name: dim_parent_crm_account_id
        description: Ultimate parent account 18 character Salesforce ID 
      - name: dim_crm_user_id
      - name: merged_to_account_id
        description: For deleted accounts, this is the SFDC account they were merged into
      - name: crm_account_name
        description: Account name from SFDC
      - name: crm_account_employee_count_band
        description: Employee count band the account belongs to based on the account_max_family_employee. Bands include "> 2K", "> 1.5K", "> 1K".
      - name: is_reseller
        description: Identify whether a crm_account is a reseller.
        data_tests:
          - not_null
        tags: ["tdf"]
      - name: crm_account_created_date
        description: The date on which the CRM account was created in SFDC
      - name: is_deleted
        description: Flag indicating if account has been deleted
      - name: pte_score
        description: Propensity to expand scores from pte_scores_source
      - name: pte_decile
      - name: pte_score_group
      - name: ptc_score
        description: Propensity to contract and churn scores from ptc_scores_source
      - name: gs_health_user_engagement
        description: ' {{ doc("gs_health_user_engagement") }} '
      - name: gs_health_cd
        description: ' {{ doc("gs_health_cd") }} '
      - name: gs_health_devsecops
        description: ' {{ doc("gs_health_devsecops") }} '
      - name: gs_health_ci
        description: ' {{ doc("gs_health_ci") }} '
      - name: gs_health_scm
        description: ' {{ doc("gs_health_scm") }} '
      - name: eoa_sentiment
        description: ' {{ doc("eoa_sentiment") }} '
      - name: gs_first_value_date
        description: ' {{ doc("gs_first_value_date") }} '
      - name: gs_last_csm_activity_date
        description: ' {{ doc("gs_last_csm_activity_date") }} '
      - name: last_at_risk_update_comments
        description: ' {{ doc("last_at_risk_update_comments") }} '
      - name: abm_tier
      - name: abm_tier_1_date
      - name: abm_tier_2_date
      - name: abm_tier_3_date
      - name: account_manager
      - name: account_owner
      - name: account_phone
      - name: account_tier
      - name: account_tier_notes
      - name: admin_manual_source_account_address
      - name: admin_manual_source_number_of_employees
      - name: billing_postal_code
      - name: business_development_rep
      - name: carr_account_family
      - name: carr_this_account
      - name: created_by
      - name: created_by_name
      - name: crm_account_billing_country
      - name: crm_account_billing_country_code
      - name: crm_account_employee_count
      - name: crm_account_focus_account
      - name: crm_account_gtm_strategy
      - name: crm_account_industry
      - name: crm_account_owner
      - name: crm_account_owner_user_segment
      - name: crm_account_sub_industry
      - name: crm_account_type
      - name: crm_account_zi_technologies
      - name: crm_account_zoom_info_company_other_domains
      - name: crm_account_zoom_info_dozisf_zi_id
      - name: crm_account_zoom_info_parent_company_name
      - name: crm_account_zoom_info_parent_company_zi_id
      - name: crm_account_zoom_info_ultimate_parent_company_name
      - name: crm_account_zoom_info_ultimate_parent_company_zi_id
      - name: crm_account_zoom_info_website
      - name: customer_since_date
      - name: dbt_created_at
      - name: dbt_updated_at
      - name: dedicated_service_engineer
      - name: demandbase_account_list
      - name: demandbase_intent
      - name: demandbase_page_views
      - name: demandbase_score
      - name: demandbase_sessions
      - name: demandbase_trending_offsite_intent
      - name: demandbase_trending_onsite_engagement
      - name: dim_crm_person_primary_contact_id
      - name: forbes_2000_rank
      - name: gitlab_com_user
      - name: gitlab_customer_success_project
      - name: gitlab_partner_program
      - name: gtm_acceleration_date
      - name: gtm_account_based_date
      - name: gtm_account_centric_date
      - name: health_number
      - name: health_score_color
      - name: is_excluded_from_zoom_info_enrich
      - name: is_first_order_available
      - name: is_jihu_account
      - name: is_key_account
      - name: is_locally_managed_account
      - name: is_sdr_target_account
      - name: is_strategic_account
      - name: is_zi_apache_subversion_present
      - name: is_zi_apache_subversion_svn_present
      - name: is_zi_atlassian_present
      - name: is_zi_aws_cloud_trail_present
      - name: is_zi_aws_present
      - name: is_zi_bit_bucket_present
      - name: is_zi_circle_ci_present
      - name: is_zi_gcp_present
      - name: is_zi_github_enterprise_present
      - name: is_zi_github_present
      - name: is_zi_hashicorp_present
      - name: is_zi_jenkins_present
      - name: is_zi_kubernetes_present
      - name: is_zi_svn_present
      - name: is_zi_tortoise_svn_present
      - name: last_activity_date
      - name: last_modified_by_name
      - name: last_modified_date
      - name: last_timeline_at_risk_update
      - name: license_utilization
      - name: master_record_id
      - name: model_created_date
      - name: model_updated_date
      - name: named_account
      - name: next_renewal_date
      - name: owner_role
      - name: parent_crm_account_area
      - name: parent_crm_account_business_unit
      - name: parent_crm_account_geo
      - name: parent_crm_account_industry
      - name: parent_crm_account_lam
      - name: parent_crm_account_lam_dev_count
      - name: parent_crm_account_max_family_employee
      - name: parent_crm_account_name
      - name: parent_crm_account_region
      - name: parent_crm_account_role_type
      - name: parent_crm_account_sales_segment
      - name: parent_crm_account_sales_segment_grouped
      - name: parent_crm_account_segment_region_stamped_grouped
      - name: parent_crm_account_territory
      - name: parent_crm_account_upa_city
      - name: parent_crm_account_upa_country
      - name: parent_crm_account_upa_postal_code
      - name: parent_crm_account_upa_state
      - name: parent_crm_account_upa_street
      - name: partner_account_iban_number
      - name: partner_status
      - name: partner_track
      - name: partner_type
      - name: partner_vat_tax_id
      - name: partners_partner_type
      - name: partners_signed_contract_date
      - name: proposed_crm_account_owner
      - name: ptc_decile
      - name: ptc_score_group
      - name: record_type_id
      - name: risk_impact
      - name: risk_reason
      - name: crm_sales_dev_rep_id
      - name: support_level
      - name: technical_account_manager
      - name: technical_account_manager_date
      - name: updated_by
      - name: user_role_type
      - name: zoom_info_company_city
      - name: zoom_info_company_country
      - name: zoom_info_company_employee_count
      - name: zoom_info_company_industry
      - name: zoom_info_company_name
      - name: zoom_info_company_revenue
      - name: zoom_info_company_state_province
      - name: zoominfo_account_phone
      - name: activity_level
        description: Categorizes instance usage as Minimal, Light, Moderate, Active, or Power Users based on Total Activity Score percentile ranking.
      - name: match_confidence
        description: Indicates the reliability of matching this instance to this account (High/Medium/Low).
      - name: gitlab_edition
        description: Specifies which free GitLab edition is installed (e.g., Community Edition or Enterprise Edition). Helps identify the feature set available to the customer.
      - name: product_usage_summary
      - name: notable_product_usage_detail
      - name: host_name
        description: The domain name of the self-managed GitLab instance. This is the URL where the GitLab instance is hosted.
      - name: ptp_insight
        description: Detailed explanation of the ML model's scoring factors, highlighting key usage patterns and behaviors that suggest likelihood to convert to paid tier. Helps understand the PTP score rationale
      - name: is_focus_partner
        description: A partner account on the focus partner list
      - name: crm_account_arr_cohort_month
        description: First month the CRM account has had ARR (Annual Recurrent Revenue).
      - name: crm_account_arr_cohort_quarter
        description: First fiscal quarter the CRM account has had ARR (Annual Recurrent Revenue).
      - name: parent_account_arr_cohort_month
        description: First month the ultimate parent CRM account has had ARR (Annual Recurrent Revenue).
      - name: parent_account_arr_cohort_quarter
        description: First fiscal quarter the ultimate parent CRM account has had ARR (Annual Recurrent Revenue).
      - name: has_six_sense_6_qa
        description: The 6QA status of the account for the product.
      - name: risk_rate_guid
        description: The globally unique ID (GUID) for the third party record in NavEx RiskRate.
      - name: six_sense_account_profile_fit
        description: A measure of how similar a company is to the ideal customer profile.
      - name: six_sense_account_reach_score
        description: A measure of current outreach activities against optimal quality.
      - name: six_sense_account_profile_score
        description: A measure of how similar a company is to the ideal customer profile.
      - name: six_sense_account_buying_stage
        description: The 6QA buying stage of the account
      - name: six_sense_account_numerical_reach_score
        description:  measure of current outreach activities against optimal quality.
      - name: six_sense_account_update_date
        description: The latest update date and time when 6sense Scores were updated.
      - name: six_sense_account_6_qa_end_date
        description: The date the account was disqualified from 6QA status 
      - name: six_sense_account_6_qa_age_days
        description: The age of the Account's 6QA data, in days. 
      - name: six_sense_account_6_qa_start_date
        description: The date the account qualified for 6QA status 
      - name: six_sense_account_intent_score
        description: A measure, between 0 and 100, of how much an account is behaving like accounts with which there is a history of previously opened opportunities.
      - name: six_sense_segments
        description: The Account's 6QA segment. 
      - name: gs_health_csm_sentiment
        description: This is what the TAM thinks the health of this account should be - Formerly was just Health Score - Gainsight is the SSOT for this field and its value can only be updated in Gainsight.
      - name: tam_manager
        description: The name of the manager for the tehchnical account manager who manages the account.
      - name: executive_sponsor
        description: executive sponsor of this account
      - name: bdr_next_steps
        description: Outlines the next steps that connect to the prospecting strategy for this account.
      - name: bdr_account_research
        description: Displays the research that was made on account to justify the account's addition to a prospecting list.
      - name: bdr_account_strategy
        description: Aggregates the path for approaching the account into some more general buckets
      - name: account_bdr_assigned_user_role
        description: The region and segment specific role of the BDR assigned to an account.
      - name: bdr_recycle_date
        description: Automatically populates two months out from the actively working start date to indicate when an outbound account should be considered for removal from the outbound pipeline.
      - name: actively_working_start_date
        description: Automatically datestamps the date and time that an account was moved to a BDRs outbound prospecting list.
      - name: qualified_days_since_last_activity
        description: Qualified's calculation, in days, of time elapsed since last activity on the account. 
      - name: qualified_signals_active_session_time
        description: Qualified's calculation of active session time. 
      - name: qualified_signals_bot_conversation_count
        description: Qualified's count of bot conversations. 
      - name: qualified_condition
        description: Qualified's Account condition
      - name: qualified_score
        description: Qualified's Account score
      - name: qualified_trend
        description: Qualified's Account trend
      - name: qualified_meetings_booked
        description: Qualified's count of booked meetings on the account
      - name: qualified_signals_rep_conversation_count
        description: Qualified's count of rep conversations
      - name: qualified_signals_research_state
        description: Qualified's Account research state.
      - name: qualified_signals_research_score
        description: Qualified's Account research score
      - name: qualified_signals_session_count
        description: Qualified's count of sessions on the account
      - name: qualified_visitors_count
        description: Qualified's count of visitors on the account
      - name: account_domains
        description: All domain names associated with this account, separated by a comma.
      - name: dnb_match_confidence_score
        description: This is a 1-10 number that describes the level of confidence in match quality between our Salesforce record and D&B's Company record. 10 means D&B is confident that this is a high quality match.
      - name: dnb_match_grade
        description: This is a series of letters (A, B, F, Z) that describe the match grade between our Salesforce record and D&B's Company record within particular fields. A means values match exactly, B means values are similar, F means values are different, and Z means values are missing. Fields are graded in this order - Account Name, Street number, Street Name, City, State/Region, Mailing Address, Telephone, Postal Code, Density, Uniqueness, Industry.
      - name: dnb_connect_company_profile_id
        description: This is the id of the D&B Connect Company Profile record that has been matched to this Salesforce Account record.
      - name: dnb_duns
        description: The Data Universal Numbering System (DUNS) is a 9-digit id number created by D&B to identify a business entity at a particular location.
      - name: dnb_global_ultimate_duns
        description: This is the DUNS of the highest global corporate linkage in this company hierarchy.
      - name: dnb_domestic_ultimate_duns
        description: This is the DUNS of the highest domestic corporate linkage (within each country) in this company hierarchy.
      - name: dnb_exclude_company
        description: This checkbox indicates that this Account record has been excluded from D&B enrichment.
      - name: ptp_insights
        description: Provides detailed insights about factors influencing an account's Propensity to Purchase
      - name: ptp_score_value
        description: A numerical representation of the PTP score, ranging from 1 to 5, indicating the likelihood of purchase
      - name: ptp_score
        description: A visual representation of the Propensity to Purchase score
      - name: pubsec_type
        description: Identifies the account type as US-PubSec (public sector in the US), ROW-PubSec (public sector in the rest of the world), or non-PubSec.
      - name: is_base_prospect_account
        description: Boolean field to indicate if the account is a base prospect account in SFDC.
      - name: it_spend
        description: The size of the IT budget for the account. This is populated by a 3rd party data enrichment service (HG Insights). The specific numbers repeat sometimes if we have numerous duplicate accounts in Salesforce, and they sometimes repeat on multiple accounts within a hierarchy.

  - name: dim_crm_account_daily_snapshot
    description: '{{ doc("dim_crm_account_daily_snapshot") }}'
    columns:
      - name: crm_account_snapshot_id
        description: Unique identifier of a crm account in the daily snapshot models
        data_tests:
          - unique
          - not_null
      - name: dim_crm_account_id
        description: Account ID from SFDC identifing the customer
        tags: ["tdf"]
      - name: dim_parent_crm_account_id
        description: Ultimate parent account 18 character Salesforce ID 
      - name: dim_crm_user_id
      - name: merged_to_account_id
        description: For deleted accounts, this is the SFDC account they were merged into
      - name: crm_account_name
        description: Account name from SFDC
      - name: crm_account_employee_count_band
        description: Employee count band the account belongs to based on the account_max_family_employee. Bands include "> 2K", "> 1.5K", "> 1K".
      - name: is_reseller
        description: Identify whether a crm_account is a reseller.
        tags: ["tdf"]
      - name: crm_account_created_date
        description: The date on which the CRM account was created in SFDC
      - name: is_deleted
        description: Flag indicating if account has been deleted
      - name: pte_score
        description: Propensity to expand scores from pte_scores_source
      - name: pte_decile
      - name: pte_score_group
      - name: ptc_score
        description: Propensity to contract and churn scores from ptc_scores_source
      - name: gs_health_user_engagement
        description: ' {{ doc("gs_health_user_engagement") }} '
      - name: gs_health_cd
        description: ' {{ doc("gs_health_cd") }} '
      - name: gs_health_devsecops
        description: ' {{ doc("gs_health_devsecops") }} '
      - name: gs_health_ci
        description: ' {{ doc("gs_health_ci") }} '
      - name: gs_health_scm
        description: ' {{ doc("gs_health_scm") }} '
      - name: eoa_sentiment
        description: ' {{ doc("eoa_sentiment") }} '
      - name: gs_first_value_date
        description: ' {{ doc("gs_first_value_date") }} '
      - name: gs_last_csm_activity_date
        description: ' {{ doc("gs_last_csm_activity_date") }} '
      - name: last_at_risk_update_comments
        description: ' {{ doc("last_at_risk_update_comments") }} '
      - name: abm_tier
      - name: abm_tier_1_date
      - name: abm_tier_1_date_id
      - name: abm_tier_2_date
      - name: abm_tier_2_date_id
      - name: abm_tier_3_date
      - name: abm_tier_3_date_id
      - name: account_manager
      - name: account_owner
      - name: account_phone
      - name: account_tier
      - name: account_tier_notes
      - name: admin_manual_source_account_address
      - name: admin_manual_source_number_of_employees
      - name: billing_postal_code
      - name: business_development_rep
      - name: carr_account_family
      - name: carr_this_account
      - name: count_active_ce_users
      - name: count_active_subscription_charges
      - name: count_active_subscriptions
      - name: count_billing_accounts
      - name: count_ce_instances
      - name: count_concurrent_ee_subscriptions
      - name: count_licensed_users
      - name: count_of_new_business_won_opportunities
      - name: count_open_opportunities
      - name: count_open_renewal_opportunities
      - name: count_opportunities
      - name: count_products_purchased
      - name: count_using_ce
      - name: count_won_opportunities
      - name: created_by
      - name: created_by_id
      - name: created_by_name
      - name: crm_account_billing_country
      - name: crm_account_billing_country_code
      - name: crm_account_created_date_id
      - name: crm_account_employee_count
      - name: crm_account_focus_account
      - name: crm_account_gtm_strategy
      - name: crm_account_industry
      - name: crm_account_owner
      - name: crm_account_owner_area
      - name: crm_account_owner_geo
      - name: crm_account_owner_id
      - name: crm_account_owner_region
      - name: crm_account_owner_role
      - name: crm_account_owner_sales_segment
      - name: crm_account_owner_sales_segment_geo_region_area
      - name: crm_account_owner_title
      - name: crm_account_owner_user_segment
      - name: crm_account_sub_industry
      - name: crm_account_type
      - name: crm_account_zi_technologies
      - name: crm_account_zoom_info_company_other_domains
      - name: crm_account_zoom_info_dozisf_zi_id
      - name: crm_account_zoom_info_number_of_developers
      - name: crm_account_zoom_info_parent_company_name
      - name: crm_account_zoom_info_parent_company_zi_id
      - name: crm_account_zoom_info_total_funding
      - name: crm_account_zoom_info_ultimate_parent_company_name
      - name: crm_account_zoom_info_ultimate_parent_company_zi_id
      - name: crm_account_zoom_info_website
      - name: customer_since_date
      - name: customer_since_date_id
      - name: dbt_created_at
      - name: dbt_updated_at
      - name: decision_maker_count_linkedin
      - name: dedicated_service_engineer
      - name: demandbase_account_list
      - name: demandbase_intent
      - name: demandbase_page_views
      - name: demandbase_score
      - name: demandbase_sessions
      - name: demandbase_trending_offsite_intent
      - name: demandbase_trending_onsite_engagement
      - name: dim_crm_person_primary_contact_id
      - name: forbes_2000_rank
      - name: gitlab_com_user
      - name: gitlab_customer_success_project
      - name: gitlab_partner_program
      - name: gs_first_value_date_id
      - name: gs_last_csm_activity_date_id
      - name: gtm_acceleration_date
      - name: gtm_acceleration_date_id
      - name: gtm_account_based_date
      - name: gtm_account_based_date_id
      - name: gtm_account_centric_date
      - name: gtm_account_centric_date_id
      - name: health_number
      - name: health_score_color
      - name: is_excluded_from_zoom_info_enrich
      - name: is_first_order_available
      - name: is_jihu_account
      - name: is_key_account
      - name: is_locally_managed_account
      - name: is_sdr_target_account
      - name: is_strategic_account
      - name: is_zi_apache_subversion_present
      - name: is_zi_apache_subversion_svn_present
      - name: is_zi_atlassian_present
      - name: is_zi_aws_cloud_trail_present
      - name: is_zi_aws_present
      - name: is_zi_bit_bucket_present
      - name: is_zi_circle_ci_present
      - name: is_zi_gcp_present
      - name: is_zi_github_enterprise_present
      - name: is_zi_github_present
      - name: is_zi_hashicorp_present
      - name: is_zi_jenkins_present
      - name: is_zi_kubernetes_present
      - name: is_zi_svn_present
      - name: is_zi_tortoise_svn_present
      - name: last_activity_date
      - name: last_activity_date_id
      - name: last_modified_by_id
      - name: last_modified_by_name
      - name: last_modified_date
      - name: last_modified_date_id
      - name: last_timeline_at_risk_update
      - name: license_utilization
      - name: master_record_id
      - name: model_created_date
      - name: model_updated_date
      - name: named_account
      - name: next_renewal_date
      - name: next_renewal_date_id
      - name: number_of_employees
      - name: number_of_licenses_this_account
      - name: owner_role
      - name: parent_account_industry_hierarchy
      - name: parent_crm_account_area
      - name: parent_crm_account_business_unit
      - name: parent_crm_account_geo
      - name: parent_crm_account_industry
      - name: parent_crm_account_lam
      - name: parent_crm_account_lam_dev_count
      - name: parent_crm_account_max_family_employee
      - name: parent_crm_account_name
      - name: parent_crm_account_region
      - name: parent_crm_account_role_type
      - name: parent_crm_account_sales_segment
      - name: parent_crm_account_sales_segment_grouped
      - name: parent_crm_account_segment_region_stamped_grouped
      - name: parent_crm_account_territory
      - name: parent_crm_account_upa_city
      - name: parent_crm_account_upa_country
      - name: parent_crm_account_upa_postal_code
      - name: parent_crm_account_upa_state
      - name: parent_crm_account_upa_street
      - name: partner_account_iban_number
      - name: partner_status
      - name: partner_track
      - name: partner_type
      - name: partner_vat_tax_id
      - name: partners_partner_type
      - name: partners_signed_contract_date
      - name: partners_signed_contract_date_id
      - name: potential_users
      - name: proposed_crm_account_owner
      - name: proposed_crm_account_owner_id
      - name: ptc_decile
      - name: ptc_score_group
      - name: record_type_id
      - name: risk_impact
      - name: risk_reason
      - name: crm_sales_dev_rep_id
      - name: snapshot_date
      - name: snapshot_id
      - name: support_level
      - name: technical_account_manager
      - name: technical_account_manager_date
      - name: technical_account_manager_date_id
      - name: technical_account_manager_id
      - name: updated_by
      - name: user_role_type
      - name: zoom_info_company_city
      - name: zoom_info_company_country
      - name: zoom_info_company_employee_count
      - name: zoom_info_company_industry
      - name: zoom_info_company_name
      - name: zoom_info_company_revenue
      - name: zoom_info_company_state_province
      - name: zoominfo_account_phone
      - name: gs_csm_compensation_pool
        description: CSM compensation pool for the account
      - name: groove_notes
        description: contains notes that are surfaced in Groove's sidebar by default
      - name: groove_engagement_status
        description: Indicates the status of CUSTOMER engagement such as email opens, phone conversations or meetings. The threshold between "recent" and "past" can be customized
      - name: groove_inferred_status
        description: Indicates the account status in the typical customer life cycle of an account. The status is automatically inferred by looking at activities, engagement signals and opportunities
      - name: compensation_target_account
        description: This field is used for compensation purposes only to identify pre-approved new logo target accounts
      
  - name: dim_crm_opportunity
    description: '{{ doc("dim_crm_opportunity") }}'
    versions:
      - v: 1
        columns:
          - name: dim_crm_opportunity_id
            description: primary key for Salesforce Opportunities
            data_tests:
              - unique
              - not_null
            tags: ["tdf"]
          - name: dim_crm_account_id
            description: Key for joining on dim_crm_account, which is the primary key for Salesforce Accounts
          - name: opportunity_name
          - name: dim_crm_user_id
            description: Sourced from the opportunity owner_id this key is for joining to dim_crm_user
            data_tests:
              - relationships:
                  to: ref('dim_crm_user')
                  field: dim_crm_user_id
            tags: ["tdf"]
          - name: lead_source
          - name: merged_crm_opportunity_id
            description: If the closed lost reason is that the Opp was merged into another opportunity than this field will be the id for that opportunity record.
          - name: net_new_source_categories
          - name: primary_campaign_source_id
          - name: sales_accepted_date
          - name: sales_path
          - name: subscription_type
          - name: source_buckets
          - name: stage_name
          - name: technical_evaluation_date
          - name: deal_path
          - name: competitors
          - name: critical_deal_flag
          - name: forecast_category_name
          - name: invoice_number
          - name: is_refund
          - name: is_downgrade
          - name: is_risky
            description: risk assessment based on a case statement (See SQL)
          - name: is_swing_deal
          - name: is_edu_oss
          - name: is_won
            description: Salesforce standard field which will be true if an opportunity is in any 'won' stage_is_active
          - name: probability
          - name: reason_for_loss
          - name: reason_for_loss_details
          - name: sales_qualified_source
            description: sourced from salesforce with 'BDR' being replaced by 'SDR' for this table
          - name: solutions_to_be_replaced
          - name: is_web_portal_purchase
          - name: partner_initiated_opportunity
          - name: user_segment
          - name: order_type
            description: from order_type_stamped
          - name: opportunity_health
          - name: risk_type
          - name: risk_reasons
          - name: tam_notes
          - name: calculated_deal_size
            description: Banded groupings of net ARR.
          - name: competitors_amazon_code_commit_flag
            description: One of the listed competitors is Amazon Code Commit.
          - name: competitors_atlassian_flag
            description: One of the listed competitors is Atlassian.
          - name: competitors_aws_flag
            description: one of the listed competitors is AWS.
          - name: competitors_azure_devops_flag
            description: One of the listed competitors is Azure DevOps.
          - name: competitors_azure_flag
            description: One of the listed competitors is Azure.
          - name: competitors_bamboo_flag
            description: One of the listed competitors is Bamboo.
          - name: competitors_bitbucket_flag
            description: One of the listed competitors is Bitbucket.org.
          - name: competitors_bitbucket_server_flag
            description: One of the listed competitors is Bitbucket Server.
          - name: competitors_circleci_flag
            description: One of the listed competitors is GircleCI.
          - name: competitors_github_enterprise_flag
            description: One of the listed competitors is Github Gnterprise.
          - name: competitors_github_flag
            description: One of the listed competitors is Github.com.
          - name: competitors_gitlab_core_flag
            description: One of the listed competitors is Gitlab Core.
          - name: competitors_gitlab_flag
            description: One of the listed competitors is Gitlab.com.
          - name: competitors_jenkins_flag
            description: One of the listed competitors is Jenkins.
          - name: competitors_none_flag
            description: One of the listed competitors is none.
          - name: competitors_other_flag
            description: One of the listed competitors is Other.
          - name: competitors_perforce_flag
            description: One of the listed competitors is Perforce.
          - name: competitors_svn_flag
            description: One of the listed competitors is SVN.
          - name: competitors_unknown_flag
            description: One of the listed competitors is Unknown.
          - name: competitors_visual_studio_flag
            description: One of the listed competitors is Visual Studio Team Services.
          - name: reason_for_loss_calc
            description: Grouping of reason for loss and reason for downgrade to broader categories.
          - name: reason_for_loss_staged
            description: Combination of reason for loss and reason for downgrade.
          - name: report_segment
            description: Stamped user segment.
          - name: report_geo
            description: Stamped user geo.
          - name: report_region
            description: Stamped user region.
          - name: report_area
            description: Stamped user area.
          - name: report_role_name
            description: User role name.
          - name: report_role_level_1
            description: User role level 1.
          - name: report_role_level_2
            description: User role level 2.
          - name: report_role_level_3
            description: User role level 3.
          - name: report_role_level_4
            description: User role level 4.
          - name: report_role_level_5
            description: User role level 5.
          - name: stage_name_3plus
            description: Grouping of stage names where all stages with numbers <=2 are in Pipeline and all above are +3 Pipeline.
          - name: stage_name_4plus
            description: Grouping of stage names where all stages with numbers <=3 are in Pipeline and all above are +4 Pipeline.
          - name: order_type
            description: '{{ doc("order_type") }}'
          - name: order_type_current
            description: '{{ doc("order_type_current") }}'
          - name: vsa_readout
            description: '{{ doc("vsa_readout") }}'
          - name: vsa_start_date
            description: '{{ doc("vsa_start_date") }}'
          - name: vsa_url
            description: '{{ doc("vsa_url") }}'
          - name: vsa_status
            description: '{{ doc("vsa_status") }}'
          - name: vsa_end_date
            description: '{{ doc("vsa_end_date") }}'
          - name: downgrade_details
            description: '{{ doc("downgrade_details") }}'
          - name: intended_product_tier
            description: '{{ doc("intended_product_tier") }}'
          - name: dim_parent_crm_opportunity_id
            description: '{{ doc("dim_parent_crm_opportunity_id") }}'
          - name: next_steps
            description: Free text field that provides insight into the next step to continue progressing the Opportunity through the Sales Pipeline.
          - name: auto_renewal_status
            description: Flag with on/off. Indicates whether a current subscription will automatically renew for the same term as their current subscription after the expiration of the current term
          - name: qsr_notes
            description: '{{ doc("qsr_notes") }}'
          - name: qsr_status  
            description: Quarterly Subscription Reconciliation status (Pending, failed, processed)
          - name: manager_confidence
          - name: renewal_risk_category
            description: Renewal forecasting field indicating whether the customer will renew, churn or contract (actionable or not)
          - name: renewal_swing_arr
            description: The revenue the Account team believes can be saved on an at-risk Renewal if action is taken
          - name: renewal_manager
            description:  Renewals Manager supporting this Opportunity
          - name: renewal_forecast_health
            description: Red, Yellow, Green health rating based on the Net ARR field
          - name: ptc_predicted_arr
            description: This field contains the predicted amount of ARR after renewal, generated by a machine learning model when the subscription is within 6 months of renewal date.
          - name: ptc_predicted_renewal_risk_category
            description: This field contains the predicted renewal risk category, generated by a machine learning model when the subscription is within 6 months of renewal date.
          - name: edu_services_value
            description: Amount on an opportunity that is from Educational Services only
          - name: investment_services_value
            description: Amount on an opportunity that is from Investment Services only
          - name: startup_type
            description: Indicates what type of startup opportunity (Seed vs. Early Stage)
      - v: 2
        columns:
        - name: dim_crm_opportunity_id
          description: Unique identifier per fact table row for opportunities, combining their snapshot date and dim_crm_opportunity_id.
          data_tests:
            - unique
            - not_null
          tags: ["tdf"]
        - name: opportunity_name
          description: The name of the opportunity in Salesforce
        - name: forecast_category_name
          description: The forecast category name assigned to the opportunity
        - name: user_segment
          description: The user segment associated with the opportunity
        - name: order_type
          description: '{{ doc("order_type") }}'
        - name: order_type_current
          description: '{{ doc("order_type_current") }}'
        - name: opportunity_category
          description: The category of the opportunity
        - name: tam_notes
          description: Notes from the Technical Account Manager
        - name: payment_schedule
          description: The payment schedule for the opportunity
        - name: opportunity_term
          description: The term length of the opportunity
        - name: growth_type
          description: The growth type associated with the opportunity
        - name: deployment_preference
          description: The customer's deployment preference
        - name: sqs_bucket_engagement
          description: The sales qualified source bucket engagement
        - name: record_type_name
          description: The record type name in Salesforce
        - name: qsr_notes
          description: '{{ doc("qsr_notes") }}'
        - name: qsr_status
          description: Quarterly Subscription Reconciliation status (Pending, failed, processed)
        - name: startup_type
          description: Indicates what type of startup opportunity (Seed vs. Early Stage)
        - name: next_steps
          description: Free text field that provides insight into the next step to continue progressing the Opportunity through the Sales Pipeline
        - name: competitors
          description: List of competitors identified for the opportunity
        - name: solutions_to_be_replaced
          description: Solutions that will be replaced by implementing GitLab
        - name: edu_services_value
          description: Amount on an opportunity that is from Educational Services only
        - name: investment_services_value
          description: Amount on an opportunity that is from Investment Services only
        - name: primary_solution_architect
          description: The primary solution architect assigned to the opportunity
        - name: product_category
          description: The product category associated with the opportunity
        - name: product_details
          description: Detailed information about the products included in the opportunity
        - name: products_purchased
          description: List of products purchased in the opportunity
        - name: intended_product_tier
          description: '{{ doc("intended_product_tier") }}'
        - name: opportunity_health
          description: Health assessment of the opportunity
        - name: risk_type
          description: Type of risk associated with the opportunity
        - name: risk_reasons
          description: Reasons for risk assessment
        - name: manager_confidence
          description: Manager's confidence level in the opportunity
        - name: reason_for_loss
          description: Primary reason for opportunity loss
        - name: reason_for_loss_details
          description: Detailed explanation of the loss reason
        - name: reason_for_loss_staged
          description: Combination of reason for loss and reason for downgrade
        - name: reason_for_loss_calc
          description: Grouping of reason for loss and reason for downgrade to broader categories
        - name: downgrade_reason
          description: Reason for downgrading the opportunity
        - name: downgrade_details
          description: '{{ doc("downgrade_details") }}'
        - name: churn_contraction_type
          description: The type of churn or contraction
        - name: churn_contraction_net_arr_bucket
          description: Bucket categorization for churn/contraction net ARR amount
        - name: auto_renewal_status
          description: Flag with on/off. Indicates whether a current subscription will automatically renew for the same term as their current subscription after the expiration of the current term
        - name: renewal_risk_category
          description: Renewal forecasting field indicating whether the customer will renew, churn or contract (actionable or not)
        - name: renewal_swing_arr
          description: The revenue the Account team believes can be saved on an at-risk Renewal if action is taken
        - name: renewal_manager
          description: Renewals Manager supporting this Opportunity
        - name: renewal_forecast_health
          description: Red, Yellow, Green health rating based on the Net ARR field
        - name: parent_crm_account_geo
          description: Geographic region of the parent account
        - name: crm_account_owner_sales_segment
          description: Sales segment of the account owner
        - name: crm_account_owner_geo
          description: Geographic region of the account owner
        - name: crm_account_owner_region
          description: Region of the account owner
        - name: crm_account_owner_area
          description: Area of the account owner
        - name: crm_account_owner_sales_segment_geo_region_area
          description: Combined field of sales segment, geo, region, and area for the account owner
        - name: crm_account_owner_role
          description: Role of the account owner
        - name: crm_account_owner_role_level_1
          description: Role level 1 of the account owner
        - name: crm_account_owner_role_level_2
          description: Role level 2 of the account owner
        - name: crm_account_owner_role_level_3
          description: Role level 3 of the account owner
        - name: crm_account_owner_role_level_4
          description: Role level 4 of the account owner
        - name: crm_account_owner_role_level_5
          description: Role level 5 of the account owner
        - name: crm_account_owner_title
          description: Title of the account owner
        - name: opportunity_owner_user_segment
          description: User segment of the opportunity owner
        - name: opportunity_owner_role
          description: Role of the opportunity owner
        - name: opportunity_owner_manager
          description: Manager of the opportunity owner
        - name: opportunity_owner_department
          description: Department of the opportunity owner
        - name: opportunity_owner_title
          description: Title of the opportunity owner
        - name: opportunity_account_owner_role
          description: Role of the opportunity account owner
        - name: crm_opp_owner_role_level_1
          description: Role level 1 of the opportunity owner
        - name: crm_opp_owner_role_level_2
          description: Role level 2 of the opportunity owner
        - name: crm_opp_owner_role_level_3
          description: Role level 3 of the opportunity owner
        - name: crm_opp_owner_role_level_4
          description: Role level 4 of the opportunity owner
        - name: crm_opp_owner_role_level_5
          description: Role level 5 of the opportunity owner
        - name: crm_opp_owner_stamped_name
          description: Stamped name of the opportunity owner
        - name: crm_account_owner_stamped_name
          description: Stamped name of the account owner
        - name: sao_crm_opp_owner_sales_segment_stamped
          description: Sales segment of the opportunity owner stamped at SAO date
        - name: sao_crm_opp_owner_sales_segment_stamped_grouped
          description: Grouped sales segment of the opportunity owner stamped at SAO date
        - name: sao_crm_opp_owner_geo_stamped
          description: Geographic region of the opportunity owner stamped at SAO date
        - name: sao_crm_opp_owner_region_stamped
          description: Region of the opportunity owner stamped at SAO date
        - name: sao_crm_opp_owner_area_stamped
          description: Area of the opportunity owner stamped at SAO date
        - name: sao_crm_opp_owner_segment_region_stamped_grouped
          description: Grouped segment and region of the opportunity owner stamped at SAO date
        - name: sao_crm_opp_owner_sales_segment_geo_region_area_stamped
          description: Combined sales segment, geo, region, and area of the opportunity owner stamped at SAO date
        - name: crm_opp_owner_user_role_type_stamped
          description: User role type of the opportunity owner stamped
        - name: crm_opp_owner_sales_segment_geo_region_area_stamped
          description: Combined sales segment, geo, region, and area of the opportunity owner stamped
        - name: vsa_readout
          description: '{{ doc("vsa_readout") }}'
        - name: vsa_start_date
          description: '{{ doc("vsa_start_date") }}'
        - name: vsa_url
          description: '{{ doc("vsa_url") }}'
        - name: vsa_status
          description: '{{ doc("vsa_status") }}'
        - name: vsa_end_date
          description: '{{ doc("vsa_end_date") }}'
    latest_version: 2


  - name: dim_crm_opportunity_daily_snapshot
    description: '{{ doc("dim_crm_opportunity_daily_snapshot") }}'
    columns:
      - name: crm_opportunity_snapshot_id
        description: The unique identifier for each row, consisting of dim_crm_opportunity_id and the date in prep_crm_opportunity.
        data_tests:
        - not_null
        - unique  
          
  - name: dim_crm_command_plan
    description: '{{ doc("dim_crm_command_plan") }}'
    columns:
      - name: dim_crm_command_plan_sk
        description: The unique identifier for a command plan
        data_tests:
        - not_null
        - unique
      - name: cp_why_do_anything_at_all
        description: Rationale for taking action in the command plan.
      - name: cp_why_now
        description: Timing justification in the command plan.
      - name: cp_identify_pain
        description: Identified pain points in the command plan.
      - name: cp_metrics
        description: Metrics for success in the command plan.
      - name: cp_value_driver
        description: Value drivers identified in the command plan.
      - name: cp_why_gitlab
        description: Justification for selecting GitLab in the command plan.
      - name: cp_champion
        description: Champion identified in the command plan.
      - name: cp_economic_buyer
        description: Economic buyer identified in the command plan.
      - name: cp_partner
        description: Partner identified in the command plan.
      - name: cp_decision_process
        description: Decision-making process in the command plan.
      - name: cp_decision_criteria
        description: Decision criteria in the command plan.
      - name: cp_paper_process
        description: Paper process in the command plan.
      - name: cp_use_cases
        description: Use cases identified in the command plan.
      - name: cp_help
        description: Help needed identified in the command plan.
      - name: cp_close_plan
        description: Plan for closing the deal in the command plan.
      - name: cp_review_notes
        description: Review notes in the command plan.
      - name: cp_risks
        description: Risks identified in the command plan.
      - name: cp_score
        description: Overall score for the command plan.

  - name: dim_crm_opportunity_deal
    description: '{{ doc("dim_crm_opportunity_deal") }}'
    columns:
    - name: dim_crm_opportunity_deal_sk
      tests:
        - unique
        - not_null
    - name: deal_path
      description: The path or channel through which the deal was initiated.
    - name: opportunity_deal_size
      description: Classification of the deal size.
    - name: deal_category
      description: Categorization of the deal.
    - name: deal_group
      description: Grouping of the deal for analysis purposes.
    - name: deal_size
      description: Size classification of the deal.
    - name: calculated_deal_size
      description: Computed size classification based on deal metrics.
    - name: deal_path_engagement
      description: Type of engagement associated with the deal path.

  - name: dim_crm_opportunity_flags
    description: '{{ doc("dim_crm_opportunity_flags") }}'
    columns:
    - name: dim_crm_opportunity_flags_sk
      tests:
        - unique
        - not_null
    - name: is_won
      description: Flag indicating if the opportunity has been won.
    - name: is_closed
      description: Flag indicating if the opportunity has been closed (won or lost).
    - name: is_lost
      description: Flag indicating if the opportunity has been lost.
    - name: is_open
      description: Flag indicating if the opportunity is currently open.
    - name: is_active
      description: Flag indicating if the opportunity is currently active.
    - name: is_stage_1_plus
      description: Flag indicating if the opportunity is in stage 1 or beyond.
    - name: is_stage_3_plus
      description: Flag indicating if the opportunity is in stage 3 or beyond.
    - name: is_stage_4_plus
      description: Flag indicating if the opportunity is in stage 4 or beyond.
    - name: is_closed_won
      description: Flag indicating if the opportunity has been closed as won.
    - name: is_edu_oss
      description: Flag indicating if the opportunity is for an education or open source software deal.
    - name: is_ps_opp
      description: Flag indicating if the opportunity is for professional services.
    - name: is_public_sector_opp
      description: Flag indicating if the opportunity is for the public sector.
    - name: is_sao
      description: Flag indicating if the opportunity is a Sales Accepted Opportunity.
    - name: is_new_logo_first_order
      description: Flag indicating if the opportunity represents a new logo's first order.
    - name: is_renewal
      description: Flag indicating if the opportunity is a renewal.
    - name: is_refund
      description: Flag indicating if the opportunity is a refund.
    - name: is_web_portal_purchase
      description: Flag indicating if the opportunity originated from the web portal.
    - name: is_registration_from_portal
      description: Flag indicating if the opportunity registration came from the portal.
    - name: is_credit
      description: Flag indicating if the opportunity is a credit.
    - name: is_downgrade
      description: Flag indicating if the opportunity is a downgrade.
    - name: is_contract_reset
      description: Flag indicating if the opportunity is a contract reset.
    - name: fpa_master_bookings_flag
      description: Flag used by Finance, Planning & Analysis to track master bookings.
    - name: is_net_arr_pipeline_created
      description: Flag indicating if the opportunity counts toward net ARR pipeline creation.
    - name: is_net_arr_closed_deal
      description: Flag indicating if the opportunity is counted as net ARR closed deal.
    - name: is_booked_net_arr
      description: Flag indicating if the opportunity has booked net ARR.
    - name: is_win_rate_calc
      description: Flag indicating if the opportunity is eligible for win rate calculations.
    - name: is_risky
      description: Flag indicating if the opportunity is considered risky.
    - name: critical_deal_flag
      description: Flag indicating if the opportunity is a critical deal.
    - name: valid_deal_count
      description: Flag used to count valid deals in reporting.
    - name: is_abm_tier_sao
      description: Flag indicating if the opportunity is an ABM tier Sales Accepted Opportunity.
    - name: is_abm_tier_closed_won
      description: Flag indicating if the opportunity is an ABM tier closed won opportunity.
    - name: is_deleted
      description: Flag indicating if the opportunity has been deleted.
    - name: is_duplicate
      description: Flag indicating if the opportunity is a duplicate.
    - name: is_excluded_from_pipeline_created
      description: Flag indicating if the opportunity is excluded from pipeline creation metrics.
    - name: is_comp_new_logo_override
      description: Flag indicating if there's a compensation override for the new logo status.
    - name: is_eligible_open_pipeline
      description: Flag indicating if the opportunity is eligible for open pipeline reporting.
    - name: is_eligible_asp_analysis
      description: Flag indicating if the opportunity is eligible for ASP (Average Selling Price) analysis.
    - name: is_eligible_age_analysis
      description: Flag indicating if the opportunity is eligible for age analysis.
    - name: is_eligible_churn_contraction
      description: Flag indicating if the opportunity is eligible for churn/contraction analysis.
    - name: competitors_other_flag
      description: Flag indicating if "Other" competitors are present.
    - name: competitors_gitlab_core_flag
      description: Flag indicating if GitLab Core is listed as a competitor.
    - name: competitors_none_flag
      description: Flag indicating if no competitors are listed.
    - name: competitors_github_enterprise_flag
      description: Flag indicating if GitHub Enterprise is listed as a competitor.
    - name: competitors_bitbucket_server_flag
      description: Flag indicating if Bitbucket Server is listed as a competitor.
    - name: competitors_unknown_flag
      description: Flag indicating if competitors are unknown.
    - name: competitors_github_flag
      description: Flag indicating if GitHub is listed as a competitor.
    - name: competitors_gitlab_flag
      description: Flag indicating if GitLab is listed as a competitor.
    - name: competitors_jenkins_flag
      description: Flag indicating if Jenkins is listed as a competitor.
    - name: competitors_azure_devops_flag
      description: Flag indicating if Azure DevOps is listed as a competitor.
    - name: competitors_svn_flag
      description: Flag indicating if SVN is listed as a competitor.
    - name: competitors_bitbucket_flag
      description: Flag indicating if Bitbucket is listed as a competitor.
    - name: competitors_atlassian_flag
      description: Flag indicating if Atlassian is listed as a competitor.
    - name: competitors_perforce_flag
      description: Flag indicating if Perforce is listed as a competitor.
    - name: competitors_visual_studio_flag
      description: Flag indicating if Visual Studio is listed as a competitor.
    - name: competitors_azure_flag
      description: Flag indicating if Azure is listed as a competitor.
    - name: competitors_amazon_code_commit_flag
      description: Flag indicating if Amazon CodeCommit is listed as a competitor.
    - name: competitors_circleci_flag
      description: Flag indicating if CircleCI is listed as a competitor.
    - name: competitors_bamboo_flag
      description: Flag indicating if Bamboo is listed as a competitor.
    - name: competitors_aws_flag
      description: Flag indicating if AWS is listed as a competitor.

  - name: dim_crm_opportunity_partner
    description: '{{ doc("dim_crm_opportunity_partner") }}'
    columns:
    - name: dim_crm_opportunity_partner_sk
      tests:
        - unique
        - not_null
    - name: dr_partner_deal_type
      description: Type of partner deal as recorded in the deal registration system.
    - name: dr_partner_engagement
      description: Level of partner engagement in the deal registration.
    - name: dr_status
      description: Status of the deal registration.
    - name: dr_primary_registration
      description: Flag indicating if this is the primary registration for the deal.
    - name: dr_deal_id
      description: Deal registration ID.
    - name: aggregate_partner
      description: Aggregated partner field for reporting.
    - name: partner_initiated_opportunity
      description: Flag indicating if the opportunity was initiated by a partner.
    - name: calculated_partner_track
      description: Calculated field for partner track.
    - name: partner_account
      description: Account ID of the partner.
    - name: partner_discount
      description: Discount percentage provided to the partner.
    - name: partner_discount_calc
      description: Calculated partner discount.
    - name: partner_margin_percentage
      description: Margin percentage for the partner.
    - name: partner_track
      description: Track or program the partner belongs to.
    - name: platform_partner
      description: Partner associated with the platform.
    - name: resale_partner_track
      description: Track for resale partners.
    - name: resale_partner_name
      description: Name of the resale partner.
    - name: fulfillment_partner
      description: Partner responsible for fulfillment.
    - name: fulfillment_partner_account_name
      description: Account name of the fulfillment partner.
    - name: fulfillment_partner_partner_track
      description: Track of the fulfillment partner.
    - name: partner_account_account_name
      description: Account name of the partner account.
    - name: partner_account_partner_track
      description: Track of the partner account.
    - name: influence_partner
      description: Partner with influence on the opportunity.
    - name: comp_channel_neutral
      description: Flag indicating if compensation is channel neutral.
    - name: distributor
      description: Distributor associated with the opportunity.

  - name: dim_crm_opportunity_source_and_path
    description: '{{ doc("dim_crm_opportunity_source_and_path") }}'
    columns:
    - name: dim_crm_opportunity_source_and_path_sk
      tests:
        - unique
        - not_null
    - name: primary_campaign_source_id
      description: ID of the primary campaign associated with the opportunity.
    - name: generated_source
      description: Source from which the opportunity was generated.
    - name: lead_source
      description: Original source of the lead.
    - name: net_new_source_categories
      description: Categories for net new sources.
    - name: sales_qualified_source
      description: Source that qualified the lead for sales.
    - name: sales_qualified_source_grouped
      description: Grouped version of sales qualified source for simplified reporting.
    - name: sales_path
      description: Path through which the sale is being conducted.
    - name: subscription_type
      description: Type of subscription associated with the opportunity.
    - name: source_buckets
      description: Categorized buckets for source attribution.
    - name: opportunity_development_representative
      description: Development representative assigned to the opportunity.
    - name: sdr_or_bdr
      description: Sales or Business Development Representative assigned.
    - name: iqm_submitted_by_role
      description: Role of the person who submitted the IQM (Ideal Qualified Meeting).
    - name: sdr_pipeline_contribution
      description: Pipeline contribution attributed to the SDR.



  - name: fct_charge
    description: '{{ doc("fct_charge") }}'
    columns:
      - name: dim_subscription_id
        description: Unique identifier of a version of a subscription
        data_tests:
          - not_null
      - name: dim_charge_id
        description: The unique identifier of a verion of a rate plan charge
        data_tests:
          - not_null
          - unique
      - name: dim_product_detail_id
        description: The unique ID of a product rate plan charge
      - name: dim_order_id
        description: Unique identifier for each order which groups all order actions within an order
      - name: rate_plan_charge_number
        description: A unique number that identifies the charge
      - name: effective_start_date_id
        description: Id of the date when the segmented charge starts or started. Use this field to join to dim_date on id.
      - name: effective_end_date_id
        description: Id of the date when the segmented charge ends or ended. Use this field to join to dim_date on id.
      - name: quantity
        description: The default quantity of units
      - name: mrr
        description: Monthly recurring revenue (MRR) is the amount of recurring charges in a given month. The MRR calculation doesn't include one-time charges nor usage charges.
      - name: delta_mrc
        description: A delta monthly recurring charge is the change in monthly recurring revenue caused by an amendment or a new subscription. This is the value at the charge segment level.
      - name: rate_plan_charge_segment
        description: The identifying number of the subscription rate plan segment. Segments are numbered sequentially, starting with 1.
      - name: rate_plan_charge_version
        description: The version of the rate plan charge. Each time a charge is amended, Zuora creates a new version of the rate plan charge.
      - name: subscription_created_by_id
        description: The id of the Zuora user who created the subscription.

  - name: fct_crm_account
    description: '{{ doc("fct_crm_account") }}'
    columns:
      - name: dim_crm_account_id
        description: Unique identifier of a crm account from Salesforce. This is the natural key of the table.
        data_tests:
          - not_null
          - unique
        tags: ["tdf"]
      - name: gs_first_value_date_id
        description: ' {{ doc("gs_first_value_date") }} '
      - name: gs_last_csm_activity_date_id
        description: ' {{ doc("gs_last_csm_activity_date") }} '
      - name: number_of_active_namespaces
        description: Total count of namespaces associated with the Account in SFDC. 
      - name: last_updated_date_usage_data
        description: The date the usage data was last updated. 
      - name: first_ping_date
        description: Date of the first telemetry ping received from this GitLab instance, indicating when usage tracking began.
      - name: last_ping_date
        description: Date of the most recent telemetry ping received from this GitLab instance. Helps identify active vs inactive instances.
      - name: gitlab_version
        description: Total count of active stages. 
      - name: monthly_active_users
        description: Total count of active users. 
      - name: devops_score
        description: Total count of active namespaces that are exceeding storage.
      - name: collaboration_score
      - name: security_score
      - name: total_activity_score
      - name: ptp_scores

  - name: fct_crm_opportunity
    description: '{{ doc("fct_crm_opportunity") }}'
    versions:
      - v: 1
        columns:
          - name: dim_crm_opportunity_id
            description: A dbt generated surrogate key combining the sfdc_record_id and the sales_accepted_date.
            data_tests:
              - unique
              - not_null
            tags: [ "tdf"]
          - name: dim_crm_account_id
            description: join key for dim_crm_account from the accountid field in Salesforce
            data_tests:
              - dbt_utils.relationships_where:
                  to: ref('dim_crm_account')
                  field: dim_crm_account_id
                  from_condition: created_date <= DATEADD('day', -3, CURRENT_DATE)::DATE
                  severity: warn
            tags: [ "tdf"]
          - name: dim_alliance_type_id
            description: join key for dim_alliance_type_scd.
            data_tests:
              - relationships:
                  to: ref('dim_alliance_type_scd')
                  field: dim_alliance_type_id
            tags: [ "tdf"]
          - name: dim_alliance_type_current_id
            description: join key for dim_alliance_type_scd. It contains current state id for the alliance type dimension.
            data_tests:
              - relationships:
                  to: ref('dim_alliance_type_scd')
                  field: dim_alliance_type_id
            tags: [ "tdf"]
          - name: dim_dr_partner_engagement_id
            description: join key for dim_dr_partner_engagement
            data_tests:
              - relationships:
                  to: ref('dim_dr_partner_engagement')
                  field: dim_dr_partner_engagement_id
            tags: [ "tdf"]
          - name: dim_channel_type_id
            description: join key for dim_channel_type
            data_tests:
              - relationships:
                  to: ref('dim_channel_type')
                  field: dim_channel_type_id
            tags: [ "tdf"]
          - name: dim_crm_person_id
            description: A surrogate key for use when joining to `dim_crm_person`. Created from the contact_id where there is a contact and a lead_id where there isn't.
          - name: dim_crm_current_account_set_hierarchy_sk
            description: '{{ doc("dim_crm_current_account_set_hierarchy_sk") }}'
          - name: dim_crm_current_account_set_sales_segment_id
            description: '{{ doc("dim_crm_current_account_set_sales_segment_id") }}'
          - name: dim_crm_current_account_set_geo_id
            description: '{{ doc("dim_crm_current_account_set_geo_id") }}'
          - name: dim_crm_current_account_set_region_id
            description: '{{ doc("dim_crm_current_account_set_region_id") }}'
          - name: dim_crm_current_account_set_area_id
            description: '{{ doc("dim_crm_current_account_set_area_id") }}'
          - name: dim_crm_current_account_set_business_unit_id
            description: '{{ doc("dim_crm_current_account_set_business_unit_id") }}'
          - name: dim_sales_qualified_source_id_simplified
            description: In order to join to FY26 targets some grouping was done to sales_qualified_source. This is the original ID to get the granular values from dim_sales_qualified_source.
          - name: sfdc_contact_id
            description: the contact id from the fist contact by opportunity contact role created date for the given opportunity record
          - name: created_date
            description: timestamp for the opportunity record creation in Salesforce
          - name: created_date_id
            description: a foreign key generated from `get_date_id` macro with created_date the for use with dim_date
          - name: sales_accepted_date
            description: The sales_accepted_date from the sfdc_opportunity. Note that there can be opportunities with sales accepted dates that aren't sales accepted opportunities. This is indicated with the is_sao and is_sdr_sao booleans
          - name: sales_accepted_date_id
            description: a foreign key generated from `get_date_id` macro with sales_accepted_date the for use with dim_date
          - name: close_date
            description: a date entered by the sales team that is the expected close date for open opportunities and the actual close date for closed opportunities.
          - name: close_date_id
            description: a foreign key generated from `get_date_id` macro with close_date the for use with dim_date
          - name: stage_0_pending_acceptance_date
            description: a Salesforce [workflow generated](https://gitlab.my.salesforce.com/04Y4M000000g0GE) date
          - name: stage_0_pending_acceptance_date_id
            description: a foreign key generated from `get_date_id` macro with stage_0_pending_acceptance_date the for use with dim_date
          - name: stage_1_discovery_date
            description: a Salesforce [workflow generated](https://gitlab.my.salesforce.com/01Q4M000000kSb5) date
          - name: stage_1_discovery_date_id
            description: a foreign key generated from `get_date_id` macro with D the for use with dim_date
          - name: stage_2_scoping_date
            description: a Salesforce [workflow generated](https://gitlab.my.salesforce.com/01Q4M000000kSb6) date
          - name: stage_2_scoping_date_id
            description: a foreign key generated from `get_date_id` macro with stage_1_discovery_date the for use with dim_date
          - name: stage_3_technical_evaluation_date
            description: a Salesforce [workflow generated](https://gitlab.my.salesforce.com/01Q4M000000kSb7) date
          - name: stage_3_technical_evaluation_date_id
            description: a foreign key generated from `get_date_id` macro with stage_3_technical_evaluation_date the for use with dim_date
          - name: stage_4_proposal_date
            description: a Salesforce [workflow generated](https://gitlab.my.salesforce.com/01Q4M000000kSb8) date
          - name: stage_4_proposal_date_id
            description: a foreign key generated from `get_date_id` macro with stage_4_proposal_date the for use with dim_date
          - name: stage_5_negotiating_date
            description: a Salesforce [workflow generated](https://gitlab.my.salesforce.com/01Q4M000000kSb9) date
          - name: stage_5_negotiating_date_id
            description: a foreign key generated from `get_date_id` macro with stage_5_negotiating_date the for use with dim_date
          - name: stage_6_closed_won_date
            description: a Salesforce [workflow generated](https://gitlab.my.salesforce.com/01Q4M000000kSbE) date
          - name: stage_6_closed_won_date_id
            description: a foreign key generated from `get_date_id` macro with stage_6_closed_won_date the for use with dim_date
          - name: stage_6_closed_lost_date
            description: a Salesforce [workflow generated](https://gitlab.my.salesforce.com/01Q4M000000kSbD) date
          - name: stage_6_closed_lost_date_id
            description: a foreign key generated from `get_date_id` macro with stage_6_closed_lost_date the for use with dim_date
          - name: days_in_0_pending_acceptance
            description: a Salesforce [formula field](https://gitlab.my.salesforce.com/00N6100000HlNEI)
          - name: days_in_1_discovery
            description: a Salesforce [formula field](https://gitlab.my.salesforce.com/00N6100000HlNES)
          - name: days_in_2_scoping
            description: a Salesforce [formula field](https://gitlab.my.salesforce.com/00N6100000HlNEX)
          - name: days_in_3_technical_evaluation
            description: a Salesforce [formula field](https://gitlab.my.salesforce.com/00N6100000HlNEc)
          - name: days_in_4_proposal
            description: a Salesforce [formula field](https://gitlab.my.salesforce.com/00N6100000HlNEh)
          - name: days_in_5_negotiating
            description: a Salesforce [formula field](https://gitlab.my.salesforce.com/00N6100000HlNEm)
          - name: days_in_sao
            description: a Salesforce [formula field](https://gitlab.my.salesforce.com/00N4M00000Ib8xV)
          - name: closed_buckets
            description: a case generated column that uses the days_in_sao column. See SQL for this model.
          - name: subscription_start_date
            description: The Start Date from the Zuora quote that is either Primary or was Sent to Zuora.
          - name: subscription_end_date
            description: The End Date from the Zuora quote that is either Primary or was Sent to Zuora.
          - name: is_closed
            description: a Salesforce boolean field which is true when the Opportunity stage is a closed stage
          - name: is_won
            description: a Salesforce boolean field which is true when the Opportunity stage is a won stage
          - name: is_refund
            description: a Salesforce [formula field](https://gitlab.my.salesforce.com/00N6100000IOu5u)  with the help text "Counts the number of refund opps."
          - name: is_downgrade
            description: a Salesforce [formula field](https://gitlab.my.salesforce.com/00N6100000IOu5y) with the help text "Counts of the number of downgrade opps."
          - name: is_swing_deal
            description: a [checkbox used in salesforce](https://gitlab.my.salesforce.com/00N6100000IJEOZ) with the help text "A swing deal is an opportunity with a Close Date in a future period that has the potential to be pulled into the current period."
          - name: is_edu_oss
            description: a Salesforce [formula field](https://gitlab.my.salesforce.com/00N6100000IOu68). 1 if [Product_Category__c](https://gitlab.my.salesforce.com/00N6100000IJBtv) contains `EDU/OSS` else 0.
          - name: is_web_portal_purchase
            description: a [salesforce boolean field](https://gitlab.my.salesforce.com/00N6100000HJmTK)
          - name: is_sao
            description: a [salesforce boolean field](https://gitlab.my.salesforce.com/00N4M00000Ib8xa) field created in the warehouse to flag Sales Accepted Opportunities. This field should be deprecated once sales accepted is in a more stable and consistent state in salesforce.
          - name: is_net_arr_closed_deal
            description: a boolean field created in the warehouse to flag Closed Deals and will help determine the Net ARR.
          - name: is_new_logo_first_order
            description: a boolean field created in the warehouse to flag New Logos.
          - name: is_net_arr_pipeline_created
            description: a boolean field created in the warehouse to flag Net ARR Pipeline Created.
          - name: is_win_rate_calc
            description: a boolean field created in the warehouse to flag Win Rate. This field determines opportunities that will be included in calculating Win Rate.
          - name: is_sdr_sao
            description: a boolean field created in the warehouse to flag Sales Accepted Opportunities from [Sales Development Reps](https://about.gitlab.com/handbook/marketing/revenue-marketing/sdr/). This field should be deprecated once sales accepted is in a more stable and consistent state in salesforce.
          - name: iacv
            description: a Salesforce [formula field](https://gitlab.my.salesforce.com/00N6100000HJpyB) with the help text "For New Business or Add On, takes all first year recurring revenue + true ups. If Renewal, the recurring revenue + true ups minus the Renewal ACV. If the Renewal ACV is null, then the Incremental ACV is null"
          - name: net_arr
            description: a Salesforce [formula field](https://gitlab.my.salesforce.com/00N4M00000Ib5n8) with the net change to ARR of an opportunity
          - name: amount
            description: from [salesforce ui](https://gitlab.my.salesforce.com/_ui/common/config/field/StandardFieldAttributes/d?id=Amount&type=Opportunity&retURL=%2Fp%2Fsetup%2Flayout%2FLayoutFieldList%3Ftype%3DOpportunity%26setupid%3DOpportunityFields&_CONFIRMATIONTOKEN=VmpFPSxNakF5TVMwd09TMHdOVlF5TVRveE1UbzFNQzQzTmpWYSx5UXdBZFY3d0NtN21rekRFcUttcVVtLFl6UTNNekF5&setupid=OpportunityFields) "This is the same as Total Contract Value. It takes the value of the entire agreement"
          - name: recurring_amount
            description: a [salesforce currency field](https://gitlab.my.salesforce.com/00N4M00000IbIDn) with all Recurring dollars (Gitlab Seats, Storage).
          - name: true_up_amount
            description: a [salesforce currency field](https://gitlab.my.salesforce.com/00N4M00000IbCVy) with One-time True Up dollars for renewals.
          - name: proserv_amount
            description: a [salesforce currency field](https://gitlab.my.salesforce.com/00N4M00000IbIDi) with all professional services dollars in the opportunity.
          - name: other_non_recurring_amount
            description: a [salesforce currency field](https://gitlab.my.salesforce.com/00N4M00000IbIDs) with all other one-time fee products (Additional CI Minutes).
          - name: arr_basis
            description: a [salesforce formula field](https://gitlab.my.salesforce.com/00N4M00000IbIDx) for renewals only current subscription ARR.
          - name: arr
            description: a WIP Salesforce [formula field](https://gitlab.my.salesforce.com/00N4M00000IbIE2) that returns 0
          - name: arr_created_date
            description: A Salesforce [formula field](https://gitlab.my.salesforce.com/00N4M00000ISAEK) that tracks the date that the ARR was added to an opportunity.
          - name: booked_churned_contraction_deal_count
            description: Count of booked churn or contraction deals.
          - name: booked_churned_contraction_net_arr
            description: Total churned or contraction net ARR.
          - name: booked_deal_count
            description: Count of won deals.
          - name: booked_net_arr
            description: Total booked net ARR associated with the opportunity.
          - name: calculated_age_in_days
            description: Age of the opportunity between opportunity created date and opportunity closed date.
          - name: calculated_deal_count
            description: Count of deals that are not credits, subtracting out decommissions.
          - name: calculated_from_ratio_net_arr
            description: Net ARR assigned to an opportunity based on its stage, segment, and net incremental annual contract value.
          - name: churned_contraction_deal_count
            description: Count of churn or contraction deals.
          - name: churned_contraction_net_arr
            description: Net ARR from churned or contraction opportunities.
          - name: created_and_won_same_quarter_net_arr
            description: Net ARR from opportunities which were created and won in the same fiscal quarter.
          - name: is_active
            description: Flag indicating the opportunity is in an active stage.
          - name: is_booked_net_arr
            description: Flag indicating the opportunity has booked net ARR.
          - name: is_contract_reset
            description: Flag indicating the opportunity is categorized as a contract reset.
          - name: is_credit
            description: Flag indicating the opportunity is categorized as a credit.
          - name: is_duplicate
            description: Flag indicating the opportunity is a duplicate of another opportunity.
          - name: is_eligible_age_analysis
            description: Flag indicating an opportunity is eligible for age analysis.
          - name: is_eligible_asp_analysis
            description: Flag indicating an opporutnity is eligible for ASP analysis.
          - name: is_eligible_churn_contraction
            description: Flag indicating the opportunity has either churned or contracted, is not deleted, and is not an EDU/OSS deal.
          - name: is_eligible_open_pipeline
            description: Flag indicating the opportunity is considered open pipeline based on its order type, stage, forecast category, and whether or not it is an EDU/OSS deal.
          - name: is_excluded_from_pipeline_created
            description: Records which are not included in pipeline generated analysis due to data quality errors.
          - name: is_lost
            description: Flag indicating an opportunity is in a closed lost stage.
          - name: is_open
            description: Flag indicating an opportunity is in any open stage (not closed lost, closed won, unqualified, or duplicate).
          - name: is_renewal
            description: Flag indicating the opportunity is categorized as a renewal by its sales type.
          - name: is_stage_1_plus
            description: Flag indicating the opportunity is in in Stage 1 or greater.
          - name: is_stage_3_plus
            description: Flag indicating the opportunity is in in Stage 3 or greater.
          - name: is_stage_4_plus
            description: Flag indicating the opportunity is in in Stage 4 or greater.
          - name: open_1plus_deal_count
            description: Total pipeline deal count in stage 1 or later.
          - name: open_1plus_net_arr
            description: Total net ARR in the pipeline in stage 1 or later.
          - name: open_3plus_deal_count
            description: Total pipeline deal count in stage 3 or later.
          - name: open_3plus_net_arr
            description: Total net ARR in the pipeline in stage 3 or later.
          - name: open_4plus_deal_count
            description: Total pipeline deal count in stage 4 or later.
          - name: open_4plus_net_arr
            description: Total net ARR in the pipeline in stage 4 or later.
          - name: segment_order_type_iacv_to_net_arr_ratio
            description: The ratio of incremental annual contract value to net ARR assigned to this opportunity based on its segment and order type. This field is a helper used to map old IACV values to new net ARR values, which were updated for all opportunities closed prior to 2021-02-01.
          - name: dim_order_type_id
            description: '{{ doc("order_type") }}'
          - name: dim_order_type_current_id
            description: '{{ doc("order_type_current") }}'
          - name: won_arr_basis_for_clari
            description: '{{ doc("won_arr_basis_for_clari") }}'
          - name: arr_basis_for_clari
            description: '{{ doc("arr_basis_for_clari") }}'
          - name: forecasted_churn_for_clari
            description: '{{ doc("forecasted_churn_for_clari") }}'
          - name: override_arr_basis_clari
            description: '{{ doc("override_arr_basis_clari") }}'
          - name: vsa_start_date_net_arr
            description: '{{ doc("vsa_start_date_net_arr") }}'
          - name: cycle_time_in_days
            description: '{{ doc("cycle_time_in_days") }}' 
          - name: ptc_predicted_arr
            descripion: This field contains the predicted amount of ARR after renewal, generated by a machine learning model when the subscription is within 6 months of renewal date.
          - name: ptc_predicted_renewal_risk_category
            description: This field contains the predicted renewal risk category, generated by a machine learning model when the subscription is within 6 months of renewal date.
          - name: enterprise_agile_planning_net_arr
            description: The net arr related to the Enterprise Agile Planning element of the opportunity.
          - name: duo_net_arr
            description: The net arr related to the GitLab Duo element of the opportunity.
          - name: partner_margin_percentage
            description: The percentage of the opportunity net arr to which the partner is entitled.
          - name: net_arr_stage_1
            description: The total Net Arr of the SFDC opportunity, as they move to/past Stage 1.
          - name: number_of_sa_activity_tasks
            description: Count of SFDC Tasks completed by Solutions Architects on a given Opportunity. 
          - name: valid_deal_count
            description: A Salesforce Opportunity field that gives a -1, 0, or 1 value based on whether or not it should be counted as a true closed won for accounting/reporting purposes
          - name: aggregate_partner
            description: The Aggregate Partner field shows the primary partner, using the Resale Partner first, or the Deal Registration partner if the Resale Partner isn't available.
          - name: professional_services_value
            description: Amount on an opportunity that is from Professional Services only
      - v: 2
        columns:
        - name: dim_crm_opportunity_id
          description: Unique identifier per fact table row for opportunities.
          data_tests:
            - unique
            - not_null
          tags: [ "tdf"]
        - name: dim_crm_account_id
          description: join key for dim_crm_account from the accountid field in Salesforce
          data_tests:
            - dbt_utils.relationships_where:
                to: ref('dim_crm_account')
                field: dim_crm_account_id
                from_condition:  TO_DATE(TO_CHAR(created_date_id), 'YYYYMMDD') <= DATEADD('day', -3, CURRENT_DATE)::DATE
                severity: warn
          tags: [ "tdf"]
        - name: dim_alliance_type_id
          description: join key for dim_alliance_type_scd.
          data_tests:
            - relationships:
                to: ref('dim_alliance_type_scd')
                field: dim_alliance_type_id
          tags: [ "tdf"]
        - name: dim_alliance_type_current_id
          description: join key for dim_alliance_type_scd. It contains current state id for the alliance type dimension.
          data_tests:
            - relationships:
                to: ref('dim_alliance_type_scd')
                field: dim_alliance_type_id
          tags: [ "tdf"]
        - name: dim_dr_partner_engagement_id
          description: join key for dim_dr_partner_engagement
          data_tests:
            - relationships:
                to: ref('dim_dr_partner_engagement')
                field: dim_dr_partner_engagement_id
          tags: [ "tdf"]
        - name: dim_channel_type_id
          description: join key for dim_channel_type
          data_tests:
            - relationships:
                to: ref('dim_channel_type')
                field: dim_channel_type_id
          tags: [ "tdf"]
        - name: merged_crm_opportunity_id
          description: ID of a merged opportunity, if applicable.
        - name: dim_parent_crm_opportunity_id
          description: ID of the parent opportunity, if applicable.
        - name: duplicate_opportunity_id
          description: ID of a duplicate opportunity, if applicable.
        - name: dim_parent_crm_account_id
          description: Join key for the parent account from Salesforce.
        - name: dim_crm_user_id
          description: Join key for the CRM user (opportunity owner).
        - name: dim_crm_person_id
          description: A surrogate key for use when joining to `dim_crm_person`. Created from the contact_id where there is a contact and a lead_id where there isn't.
        - name: sfdc_contact_id
          description: The contact ID from the first contact by opportunity contact role created date for the given opportunity record.
        - name: crm_sales_dev_rep_id
          description: ID of the sales development representative.
        - name: crm_business_dev_rep_id
          description: ID of the business development representative.
        - name: record_type_id
          description: Salesforce record type ID for the opportunity.
        - name: ssp_id
          description: ID from the source sales platform.
        - name: ga_client_id
          description: Google Analytics client ID associated with the opportunity.
        - name: dim_crm_current_account_set_hierarchy_sk
          description: '{{ doc("dim_crm_current_account_set_hierarchy_sk") }}'
        - name: contract_reset_opportunity_id
          description: ID of the contract reset opportunity, if applicable.
        - name: invoice_number
          description: Invoice number associated with the opportunity.
        - name: dim_crm_opportunity_flags_sk
          description: Surrogate key for the opportunity flags dimension.
        - name: dim_crm_command_plan_sk
          description: Surrogate key for the command plan dimension.
        - name: dim_crm_opportunity_deal_sk
          description: Surrogate key for the opportunity deal dimension.
        - name: dim_crm_opportunity_source_and_path_sk
          description: Surrogate key for the opportunity source and path dimension.
        - name: dim_crm_opportunity_partner_sk
          description: Surrogate key for the opportunity partner dimension.
        - name: dim_sales_qualified_source_id
          description: ID for the sales qualified source dimension.
        - name: dim_order_type_id
          description: '{{ doc("order_type") }}'
        - name: dim_order_type_current_id
          description: '{{ doc("order_type_current") }}'
        
        # Date Fields and IDs
        - name: created_date_id
          description: A foreign key generated from `get_date_id` macro with created_date for use with dim_date.
        - name: sales_accepted_date_id
          description: A foreign key generated from `get_date_id` macro with sales_accepted_date for use with dim_date.
        - name: sales_qualified_date_id
          description: A foreign key generated from `get_date_id` macro with sales_qualified_date for use with dim_date.
        - name: close_date_id
          description: A foreign key generated from `get_date_id` macro with close_date for use with dim_date.
        - name: arr_created_date_id
          description: A foreign key generated from `get_date_id` macro with arr_created_date for use with dim_date.
        - name: last_activity_date_id
          description: A foreign key generated from the last activity date for use with dim_date.
        - name: sales_last_activity_date_id
          description: A foreign key generated from the sales last activity date for use with dim_date.
        - name: subscription_start_date_id
          description: A foreign key generated from the subscription start date for use with dim_date.
        - name: subscription_end_date_id
          description: A foreign key generated from the subscription end date for use with dim_date.
        - name: subscription_renewal_date_id
          description: A foreign key generated from the subscription renewal date for use with dim_date.
        - name: quote_start_date_id
          description: A foreign key generated from the quote start date for use with dim_date.
        
        # Stage Information
        - name: stage_name
          description: The current stage name of the opportunity.
        - name: stage_name_3plus
          description: The stage name if the opportunity is in stage 3 or above.
        - name: stage_name_4plus
          description: The stage name if the opportunity is in stage 4 or above.
        - name: stage_category
          description: The category of the stage (e.g., early, mid, late).
        
        # Stage Progression Date IDs
        - name: stage_0_pending_acceptance_date_id
          description: A foreign key generated from `get_date_id` macro with stage_0_pending_acceptance_date for use with dim_date. Stage date is a Salesforce [workflow generated](https://gitlab.my.salesforce.com/04Y4M000000g0GE) date.
        - name: stage_1_discovery_date_id
          description: A foreign key generated from `get_date_id` macro with stage_1_discovery_date for use with dim_date. Stage date is a Salesforce [workflow generated](https://gitlab.my.salesforce.com/01Q4M000000kSb5) date.
        - name: stage_2_scoping_date_id
          description: A foreign key generated from `get_date_id` macro with stage_2_scoping_date for use with dim_date. Stage date is a Salesforce [workflow generated](https://gitlab.my.salesforce.com/01Q4M000000kSb6) date.
        - name: stage_3_technical_evaluation_date_id
          description: A foreign key generated from `get_date_id` macro with stage_3_technical_evaluation_date for use with dim_date. Stage date is a Salesforce [workflow generated](https://gitlab.my.salesforce.com/01Q4M000000kSb7) date.
        - name: stage_4_proposal_date_id
          description: A foreign key generated from `get_date_id` macro with stage_4_proposal_date for use with dim_date. Stage date is a Salesforce [workflow generated](https://gitlab.my.salesforce.com/01Q4M000000kSb8) date.
        - name: stage_5_negotiating_date_id
          description: A foreign key generated from `get_date_id` macro with stage_5_negotiating_date for use with dim_date. Stage date is a Salesforce [workflow generated](https://gitlab.my.salesforce.com/01Q4M000000kSb9) date.
        - name: stage_6_awaiting_signature_date_id
          description: A foreign key generated from `get_date_id` macro with stage_6_awaiting_signature_date for use with dim_date.
        - name: stage_6_closed_won_date_id
          description: A foreign key generated from `get_date_id` macro with stage_6_closed_won_date for use with dim_date. Stage date is a Salesforce [workflow generated](https://gitlab.my.salesforce.com/01Q4M000000kSbE) date.
        - name: stage_6_closed_lost_date_id
          description: A foreign key generated from `get_date_id` macro with stage_6_closed_lost_date for use with dim_date. Stage date is a Salesforce [workflow generated](https://gitlab.my.salesforce.com/01Q4M000000kSbD) date.
        
        # Stage Duration Metrics
        - name: days_in_0_pending_acceptance
          description: Number of days the opportunity spent in the Pending Acceptance stage. A Salesforce [formula field](https://gitlab.my.salesforce.com/00N6100000HlNEI).
        - name: days_in_1_discovery
          description: Number of days the opportunity spent in the Discovery stage. A Salesforce [formula field](https://gitlab.my.salesforce.com/00N6100000HlNES).
        - name: days_in_2_scoping
          description: Number of days the opportunity spent in the Scoping stage. A Salesforce [formula field](https://gitlab.my.salesforce.com/00N6100000HlNEX).
        - name: days_in_3_technical_evaluation
          description: Number of days the opportunity spent in the Technical Evaluation stage. A Salesforce [formula field](https://gitlab.my.salesforce.com/00N6100000HlNEc).
        - name: days_in_4_proposal
          description: Number of days the opportunity spent in the Proposal stage. A Salesforce [formula field](https://gitlab.my.salesforce.com/00N6100000HlNEh).
        - name: days_in_5_negotiating
          description: Number of days the opportunity spent in the Negotiating stage. A Salesforce [formula field](https://gitlab.my.salesforce.com/00N6100000HlNEm).
        - name: days_in_stage
          description: Number of days the opportunity has been in the current stage.
        - name: cycle_time_in_days
          description: '{{ doc("cycle_time_in_days") }}'
        - name: calculated_age_in_days
          description: Age of the opportunity between opportunity created date and opportunity closed date.
        - name: days_in_sao
          description: Number of days since the opportunity became a Sales Accepted Opportunity. A Salesforce [formula field](https://gitlab.my.salesforce.com/00N4M00000Ib8xV).
        - name: days_since_last_activity
          description: Number of days since the last activity on the opportunity.
        
        # Technical Evaluation
        - name: sa_tech_evaluation_close_status
          description: The status of the technical evaluation closure.
        - name: sa_tech_evaluation_end_date
          description: The end date of the technical evaluation.
        - name: sa_tech_evaluation_start_date
          description: The start date of the technical evaluation.
        - name: technical_evaluation_date_id
          description: A foreign key generated from the technical evaluation date for use with dim_date.
        
        # PTC Related Fields
        - name: ptc_predicted_arr
          description: This field contains the predicted amount of ARR after renewal, generated by a machine learning model when the subscription is within 6 months of renewal date.
        - name: ptc_predicted_renewal_risk_category
          description: This field contains the predicted renewal risk category, generated by a machine learning model when the subscription is within 6 months of renewal date.
        
        # Financial Amounts
        - name: amount
          description: From [salesforce UI](https://gitlab.my.salesforce.com/_ui/common/config/field/StandardFieldAttributes/d?id=Amount&type=Opportunity&retURL=%2Fp%2Fsetup%2Flayout%2FLayoutFieldList%3Ftype%3DOpportunity%26setupid%3DOpportunityFields&_CONFIRMATIONTOKEN=VmpFPSxNakF5TVMwd09TMHdOVlF5TVRveE1UbzFNQzQzTmpWYSx5UXdBZFY3d0NtN21rekRFcUttcVVtLFl6UTNNekF5&setupid=OpportunityFields) "This is the same as Total Contract Value. It takes the value of the entire agreement."
        - name: recurring_amount
          description: A [salesforce currency field](https://gitlab.my.salesforce.com/00N4M00000IbIDn) with all Recurring dollars (Gitlab Seats, Storage).
        - name: true_up_amount
          description: A [salesforce currency field](https://gitlab.my.salesforce.com/00N4M00000IbCVy) with One-time True Up dollars for renewals.
        - name: proserv_amount
          description: A [salesforce currency field](https://gitlab.my.salesforce.com/00N4M00000IbIDi) with all professional services dollars in the opportunity.
        - name: other_non_recurring_amount
          description: A [salesforce currency field](https://gitlab.my.salesforce.com/00N4M00000IbIDs) with all other one-time fee products (Additional CI Minutes).
        - name: renewal_amount
          description: The renewal amount of the opportunity.
        - name: total_contract_value
          description: The total contract value of the opportunity.
        - name: calculated_discount
          description: The calculated discount applied to the opportunity.
        - name: professional_services_value
          description: Amount on an opportunity that is from Professional Services only
        
        # ARR Metrics
        - name: arr
          description: A WIP Salesforce [formula field](https://gitlab.my.salesforce.com/00N4M00000IbIE2) that returns 0.
        - name: arr_basis
          description: A [salesforce formula field](https://gitlab.my.salesforce.com/00N4M00000IbIDx) for renewals only current subscription ARR.
        - name: created_arr
          description: Created ARR associated with the opportunity. The opportunity needs to be eligible, so is_net_arr_pipeline_created needs to be true.
        - name: raw_net_arr
          description: The raw net ARR of the opportunity before adjustments.
        - name: net_arr
          description: A Salesforce [formula field](https://gitlab.my.salesforce.com/00N4M00000Ib5n8) with the net change to ARR of an opportunity.
        - name: net_arr_stage_1
          description: The total Net ARR of the SFDC opportunity, as they move to/past Stage 1.
        - name: enterprise_agile_planning_net_arr
          description: The net ARR related to the Enterprise Agile Planning element of the opportunity.
        - name: duo_net_arr
          description: The net ARR related to the GitLab Duo element of the opportunity.
        - name: vsa_start_date_net_arr
          description: '{{ doc("vsa_start_date_net_arr") }}'
        - name: open_1plus_net_arr
          description: Total net ARR in the pipeline in stage 1 or later.
        - name: open_3plus_net_arr
          description: Total net ARR in the pipeline in stage 3 or later.
        - name: open_4plus_net_arr
          description: Total net ARR in the pipeline in stage 4 or later.
        - name: booked_net_arr
          description: Total booked net ARR associated with the opportunity.
        - name: positive_open_net_arr
          description: Open net ARR that is positive (greater than zero).
        - name: positive_booked_net_arr
          description: Booked net ARR that is positive (greater than zero).
        - name: closed_net_arr
          description: Total net ARR that has been closed.
        - name: created_and_won_same_quarter_net_arr
          description: Net ARR from opportunities which were created and won in the same fiscal quarter.
        - name: booked_ps_value
          description: '{{ doc("booked_ps_value") }}'
        
        # Deal & Logo Counts
        - name: new_logo_count
          description: Count of new logos associated with the opportunity.
        - name: calculated_deal_count
          description: Count of deals that are not credits, subtracting out decommissions.
        - name: open_1plus_deal_count
          description: Total pipeline deal count in stage 1 or later.
        - name: open_3plus_deal_count
          description: Total pipeline deal count in stage 3 or later.
        - name: open_4plus_deal_count
          description: Total pipeline deal count in stage 4 or later.
        - name: booked_deal_count
          description: Count of won deals.
        - name: positive_booked_deal_count
          description: Count of won deals with positive net ARR.
        - name: positive_open_deal_count
          description: Count of open deals with positive net ARR.
        - name: closed_deals
          description: Count of all closed deals.
        - name: closed_won_opps
          description: The closed_won_opps field counts opportunities marked as closed and won (is_closed_won = TRUE) and eligible for win rate calculations (is_win_rate_calc = TRUE), otherwise set to 0. It quantifies successful deal closures.
        - name: closed_opps
          description: The closed_opps field tallies all opportunities eligible for win rate calculations (is_win_rate_calc = TRUE), encompassing both won and lost deals, or sets to 0 if not eligible.
        - name: created_deals
          description: Count of all created deals.
        
        # Churn and Contraction Metrics
        - name: churned_contraction_deal_count
          description: Count of churn or contraction deals.
        - name: churned_contraction_net_arr
          description: Net ARR from churned or contraction opportunities.
        - name: booked_churned_contraction_deal_count
          description: Count of booked churn or contraction deals.
        - name: booked_churned_contraction_net_arr
          description: Total churned or contraction net ARR.
        - name: forecasted_churn_for_clari
          description: '{{ doc("forecasted_churn_for_clari") }}'
        - name: probability
          description: The probability of closing the opportunity successfully
          
        # Incremental and Ratio Metrics
        - name: iacv
          description: A Salesforce [formula field](https://gitlab.my.salesforce.com/00N6100000HJpyB) with the help text "For New Business or Add On, takes all first year recurring revenue + true ups. If Renewal, the recurring revenue + true ups minus the Renewal ACV. If the Renewal ACV is null, then the Incremental ACV is null."
        - name: net_iacv
          description: Net Incremental Annual Contract Value.
        - name: opportunity_based_iacv_to_net_arr_ratio
          description: The ratio of incremental annual contract value to net ARR for this specific opportunity.
        - name: segment_order_type_iacv_to_net_arr_ratio
          description: The ratio of incremental annual contract value to net ARR assigned to this opportunity based on its segment and order type. This field is a helper used to map old IACV values to new net ARR values, which were updated for all opportunities closed prior to 2021-02-01.
        - name: calculated_from_ratio_net_arr
          description: Net ARR assigned to an opportunity based on its stage, segment, and net incremental annual contract value.
        - name: weighted_linear_iacv
          description: Weighted linear incremental annual contract value.
        - name: closed_buckets
          description: A case-generated column that uses the days_in_sao column. See SQL for this model.
        - name: count_campaigns
          description: Count of campaigns associated with the opportunity.
        - name: count_crm_attribution_touchpoints
          description: Count of CRM attribution touchpoints associated with the opportunity.
        
        # SA Specific Metrics
        - name: number_of_sa_activity_tasks
          description: Count of SFDC Tasks completed by Solutions Architects on a given Opportunity.
        
        # XDR Specific Metrics
        - name: xdr_net_arr_stage_1
          description: Net ARR from opportunities at stage 1 originated by XDRs.
        - name: xdr_net_arr_stage_3
          description: Net ARR from opportunities at stage 3 originated by XDRs.
        
        # Clari Specific Fields
        - name: won_arr_basis_for_clari
          description: '{{ doc("won_arr_basis_for_clari") }}'
        - name: arr_basis_for_clari
          description: '{{ doc("arr_basis_for_clari") }}'
        - name: override_arr_basis_clari
          description: '{{ doc("override_arr_basis_clari") }}'
    latest_version: 2

  - name: fct_crm_opportunity_daily_snapshot
    description: '{{ doc("fct_crm_opportunity_daily_snapshot") }}'
    tags: [ "tdf"]
    versions:
    - v: 1
      defined_in: fct_crm_opportunity_daily_snapshot.sql
      columns:
        - name: crm_opportunity_snapshot_id
          description: Unique identifier of a crm opportunity in the daily snapshot models
          data_tests:
            - not_null
            - unique
        - name: professional_services_value
          description: Amount on an opportunity that is from Professional Services only
        - name: edu_services_value
          description: Amount on an opportunity that is from Educational Services only
        - name: investment_services_value
          description: Amount on an opportunity that is from Investment Services only
        - name: aggregate_partner
          description: The Aggregate Partner field shows the primary partner, using the Resale Partner first, or the Deal Registration partner if the Resale Partner isn't available.
        - name: booked_ps_value
          description: '{{ doc("booked_ps_value") }}'
    - v: 2
      columns:
      - name: crm_opportunity_snapshot_id
        description: Unique identifier of a crm opportunity in the daily snapshot models
        data_tests:
          - not_null
          - unique
    latest_version: 1
  
  - name: fct_targets_actuals_daily_snapshot 
    description: '{{ doc("fct_targets_actuals_daily_snapshot") }}'
    tags: [ "tdf"]
    columns: 
      - name: targets_actuals_daily_snapshot_pk
        data_tests:
          - not_null
          - unique

  - name: fct_credit_balance_adjustment
    description: '{{ doc("fct_credit_balance_adjustment") }}'
    columns:
      - name: credit_balance_adjustment_pk
        description: Zuora credit balance adjustment - grain is one adjustment per invoice or account
        data_tests:
          - not_null
          - unique
        tags: ["tdf"]

  - name: fct_invoice
    description: '{{ doc("fct_invoice") }}'
    columns:
      - name: dim_invoice_id
        description: The unique identifier of an invoice
        data_tests:
          - not_null
          - unique
        tags: ["tdf"]

  - name: fct_invoice_item_adjustment
    description: '{{ doc("fct_invoice_item_adjustment") }}'
    columns:
      - name: invoice_item_adjustment_pk
        description: Zuora invoice item adjustment - grain is one adjustment per invoice item
        data_tests:
          - not_null
          - unique
        tags: ["tdf"]

  - name: fct_invoice_item
    description: '{{ doc("fct_invoice_item") }}'
    columns:
      - name: charge_id
        description: The unique identifier of a verion of a rate plan charge associated with the invoice item
        data_tests:
          - not_null
        tags: ["tdf"]
      - name: invoice_item_id
        description: unique invoice item id that identifies a line item on the invoice
        data_tests:
          - not_null
          - unique
        tags: ["tdf"]
      - name: dim_invoice_id
        description: The ID of the invoice that's associated with the invoice item
        data_tests:
          - not_null
        tags: ["tdf"]
      - name: invoice_number
        description: The unique identification number of the invoice
        data_tests:
          - not_null
        tags: ["tdf"]
      - name: dim_crm_account_id_invoice
        description: The ID of the customer account associated with the invoice
      - name: invoice_date
        description: The date the invoice was generated
      - name: service_start_date
        description: The start date of the service period associated with this invoice item. If the associated charge is a one-time fee, then this date is the date of that charge.
      - name: service_end_date
        description: The end date of the service period associated with this invoice item. Service ends one second before the date in this value.
      - name: invoice_amount_without_tax
        description: The invoice amount excluding tax
      - name: invoice_item_charge_amount
        description: The amount being charged for the invoice item. This amount doesn't include taxes regardless if the charge's tax mode is inclusive or exclusive.
      - name: annual_billing_invoice_price
        description: This is a calculated field which takes the invoice_item_unit_price and calculates the yearly price. For example, if it's a monthly charge it will multiply by 12 and a 2 year price will be divided by 2.
      - name: invoice_item_unit_price
        description: The per-unit price of the invoice item. Calculated from multiple fields in Product Rate Plan Charge and Product Rate Plan Charge Tier objects.

  - name: fct_invoice_items_agg
    description: Aggregate fact table with invoice items summarized on charge level
    columns:
      - name: charge_id
        data_tests:
          - not_null
          - unique

  - name: fct_invoice_payment
    description: '{{ doc("fct_invoice_payment") }}'
    columns:
      - name: invoice_payment_pk
        description: Zuora invoice payment transaction - grain is one payment applied to the invoice
        data_tests:
          - not_null
          - unique
        tags: ["tdf"]

  - name: fct_manual_journal_entry_line
    description: '{{ doc("fct_manual_journal_entry_line") }}'
    columns:
      - name: dim_manual_journal_entry_line_id
        description: Unique identifier for a manual journal entry line.
        data_tests:
          - unique
          - not_null
        tags: ["tdf", "zuora_revenue"]

  - name: fct_mrr_snapshot_bottom_up
    description: One row represents Monthly Recurring Revenue per one month, subscription_id, product_detail_id, and mrr. Snapshot dates start from 2020-03. This model is built bottom-up using snapshotted source tables.
    columns:
      - name: mrr_snapshot_id
        description: The unique identifier of the given snapshot MRR.
        data_tests:
          - not_null
          - unique
        tags: ["tdf"]

  - name: fct_mrr_snapshot_model
    description: '{{ doc("fct_mrr_snapshot_model") }}'

  - name: fct_mrr
    description: One row represents Monthly Recurring Revenue per month, by rate plan charge. Excludes charges with $0 MRR.
    columns:
      - name: mrr_id
        description: The unique identifier of the MRR.
        data_tests:
          - not_null
          - unique
        tags: ["tdf"]
      - name: dim_date_id
        description: The identifier of date month in dim_date
      - name: dim_charge_id
        description: join key for dim_charge
        data_tests:
          - not_null
      - name: dim_billing_account_id
        description: join key for dim_billing_account
        data_tests:
          - not_null
          - relationships:
              to: ref('dim_billing_account')
              field: dim_billing_account_id
        tags: ["tdf"]
      - name: dim_crm_account_id
        description: join key for dim_crm_account
        data_tests:
          - relationships:
              to: ref('dim_crm_account')
              field: dim_crm_account_id
        tags: ["tdf"]
      - name: dim_subscription_id
        description: The identifier of subscription in dim_subscription table
        data_tests:
          - not_null
          - relationships:
              to: ref('dim_subscription')
              field: dim_subscription_id
        tags: ["tdf"]
      - name: dim_product_detail_id
        description: The identifier of product details in dim_product_detail
        data_tests:
          - not_null
      - name: dim_billing_account_id
        description: Zuora account id
      - name:  dim_crm_account_id
        description: account id frm crm
      - name: dim_order_id
        description: Unique identifier for each order which groups all order actions within an order
      - name: mrr
        description: Monthly Recurring Revenue value for given month
      - name: arr
        description: Annual Recurring Revenue value for given month
      - name: quantity
        description: Total quantity

  - name: fct_mrr_weekly_with_zero_dollar_charges
    description: One row represents Monthly Recurring Revenue per week, by rate plan charge. Includes charges with $0 MRR such as EDU/OSS charges.
    columns:
      - name: mrr_id
        description: The unique identifier of the MRR.
        data_tests:
          - not_null
          - unique
        tags: ["tdf"]

  - name: fct_mrr_with_zero_dollar_charges
    description: One row represents Monthly Recurring Revenue per month, by rate plan charge. Includes charges with $0 MRR such as EDU/OSS charges.
    columns:
      - name: mrr_id
        description: The unique identifier of the MRR.
        data_tests:
          - not_null
          - unique
        tags: ["tdf"]
      - name: dim_date_id
        description: The identifier of date month in dim_date
      - name: date_actual
      - name: fiscal_quarter_name_fy
      - name: fiscal_year
      - name: dim_charge_id
        description: join key for dim_charge
        data_tests:
          - not_null
      - name: dim_billing_account_id
        description: join key for dim_billing_account
        data_tests:
          - not_null
          - relationships:
              to: ref('dim_billing_account')
              field: dim_billing_account_id
        tags: ["tdf"]
      - name: dim_crm_account_id
        description: join key for dim_crm_account
        data_tests:
          - relationships:
              to: ref('dim_crm_account')
              field: dim_crm_account_id
        tags: ["tdf"]
      - name: dim_subscription_id
        description: The identifier of subscription in dim_subscription table
        data_tests:
          - not_null
          - relationships:
              to: ref('dim_subscription')
              field: dim_subscription_id
        tags: ["tdf"]
      - name: dim_product_detail_id
        description: The identifier of product details in dim_product_detail
        data_tests:
          - not_null
      - name: dim_billing_account_id
        description: Zuora account id
      - name:  dim_crm_account_id
        description: account id frm crm
      - name: mrr
        description: Monthly Recurring Revenue value for given month
      - name: arr
        description: Annual Recurring Revenue value for given month
      - name: quantity
        description: Total quantity

  - name: fct_payment
    description: '{{ doc("fct_payment") }}'
    columns:
      - name: payment_pk
        description: Zuora payment transaction - grain is one payment applied to a single invoice or several invoices
        data_tests:
          - not_null
          - unique
        tags: ["tdf"]

  - name: fct_refund
    description: '{{ doc("fct_refund") }}'
    columns:
      - name: refund_pk
        description: Zuora refund transaction - grain is a refund made on the invoice or account
        data_tests:
          - not_null
          - unique
        tags: ["tdf"]

  - name: fct_refund_invoice_payment
    description: '{{ doc("fct_refund_invoice_payment") }}'
    columns:
      - name: refund_invoice_payment_pk
        description: Zuora refund invoice payment transaction - grain is one refund payment made on the invoice
        data_tests:
          - not_null
          - unique
        tags: ["tdf"]

  - name: fct_quote_item
    description: '{{ doc("fct_quote_item") }}'
    columns:
      - name: quote_item_id
        description: A unique identifier of a product included in a quote amendment which is associated with a quote
        data_tests:
          - not_null
          - unique

  - name: fct_quote
    description: '{{ doc("fct_quote") }}'
    columns:
      - name: dim_quote_id
        data_tests:
          - not_null
          - unique
          - relationships:
              to: ref('dim_quote')
              field: dim_quote_id

  - name: fct_revenue_contract_hold
    description: '{{ doc("fct_revenue_contract_hold") }}'
    columns:
      - name: dim_revenue_contract_hold_id
        description: Unique identifier for a hold applied to a revenue contract or revenue contract line.
        data_tests:
          - unique
          - not_null
        tags: ["tdf", "zuora_revenue"]

  - name: fct_revenue_contract_line
    description: '{{ doc("fct_revenue_contract_line") }}'
    columns:
      - name: dim_revenue_contract_line_id
        description: Unique identifier for a revenue contract line.
        data_tests:
          - unique
          - not_null
        tags: ["tdf", "zuora_revenue"]

  - name: fct_revenue_contract_schedule
    description: '{{ doc("fct_revenue_contract_schedule") }}'
    columns:
      - name: dim_revenue_contract_schedule_id
        description: Unique identifier for a schedule applied to a revenue contract line.
        data_tests:
          - not_null
        tags: ["tdf", "zuora_revenue"]

  - name: fct_sales_funnel_actual
    description: '{{ doc("fct_sales_funnel_actual") }}'
    columns:
      - name: sales_funnel_actual_sk
        data_tests:
          - not_null
          - unique
        tags: ["tdf"]
      - name: dim_sales_funnel_kpi_sk
        description: '{{ doc("dim_sales_funnel_kpi_sk") }}'
        data_tests:
          - not_null
        tags: ["tdf"]

  - name: fct_sales_funnel_target
    description: '{{ doc("fct_sales_funnel_target") }}'
    columns:
      - name: kpi_name
        data_tests:
          - not_null
        tags: ["tdf"]
      - name: sales_funnel_target_id
        data_tests:
          - not_null
          - unique
        tags: ["tdf"]
      - name: dim_sales_funnel_kpi_sk
        description: '{{ doc("dim_sales_funnel_kpi_sk") }}'
        data_tests:
          - not_null
        tags: ["tdf"]

  - name: fct_sales_funnel_target_daily
    description: '{{ doc("fct_sales_funnel_target_daily") }}'
    columns:
      - name: kpi_name
        data_tests:
          - not_null
        tags: ["tdf"]
      - name: sales_funnel_target_daily_pk
        data_tests:
          - not_null
          - unique
        tags: ["tdf"]
      - name: dim_sales_funnel_kpi_sk
        description: '{{ doc("dim_sales_funnel_kpi_sk") }}'
        data_tests:
          - not_null
        tags: ["tdf"]
      - name: report_target_date
        description: '{{ doc("report_target_date") }}'
      - name: wtd_allocated_target
        description: '{{ doc("wtd_allocated_target") }}'
      - name: mtd_allocated_target
        description: '{{ doc("mtd_allocated_target") }}'
      - name: qtd_allocated_target
        description: '{{ doc("qtd_allocated_target") }}'
      - name: ytd_allocated_target
        description: '{{ doc("ytd_allocated_target") }}'

  - name: fct_sales_funnel_target_pivoted
    description: '{{ doc("fct_sales_funnel_target_pivoted") }}'
    columns:
      - name: target_date_category_sk
        data_tests:
          - unique
          - not_null
      - name: target_month_date
        data_tests:
          - not_null

  - name: fct_waterfall_summary
    description: '{{ doc("fct_waterfall_summary") }}'
    columns:
      - name: dim_waterfall_summary_id
        description: Unique identifier for a revenue contract line schedule period.
        data_tests:
          - unique
          - not_null
        tags: ["tdf", "zuora_revenue"]

  - name: bdg_metrics_redis_events
    description: '{{ doc("bdg_metrics_redis_events") }}'
    data_tests:
      - dbt_utils.unique_combination_of_columns:
          combination_of_columns:
            - metrics_path
            - redis_event
            - filter_label
            - filter_property
    columns:
      - name: is_health_scoring_metric
        description: '{{ doc("is_health_score_metric") }}'

  - name: fct_crm_event
    description: The Events portion of Activities from SFDC. 
    columns:
      - name: dim_crm_event_sk
        description: The utility-generated ID key, from the event_id. 
        data_tests:
          - unique
          - not_null
      - name: dim_crm_event_pk
        description: Utility-generated primary key, from the event_id
      - name: dim_crm_account_id
        description: SFDC's Account ID related to the event
      - name: dim_crm_user_id
        description: SFDC's User ID related to the event
      - name: dim_crm_person_id
        description: Utility-generated string, from the SFDC Person's ID
      - name: dim_crm_opportunity_id
        description: SFDC's Opportunity ID related to the event
      - name: sfdc_record_id
        description: SFDC's Person ID related to the event
      - name: event_date_id
        description: ID of the event_Date field
      - name: event_date
        description: Date the event took place. 
      - name: event_end_date_id
        description: ID of event's end date field. 
      - name: event_end_date
        description: Day of the end of the Event. 
      - name: reminder_date_id
        description: ID of the reminder date
      - name: reminder_date_time
        description: Date/Time that a reminder was set for this event. 
      - name: event_recurrence_end_date_id
        description: ID of the Event's recurrence end date
      - name: event_recurrence_end_date
        description: The end date of the recurrence of this event
      - name: event_recurrence_start_date_id
        description: ID of the Event's recurrence start date
      - name: event_recurrence_start_date_time
        description: The start date/time of the recurrence of this event
      - name: event_created_by_id
        description: ID of the event's creator
      - name: event_created_date_id
        description: ID of the Event's created date
      - name: event_created_date
        description: The day that the Event was created
      - name: last_modified_id
        description: ID of the last user to modify the Event
      - name: last_modified_date_id
        description: ID of the last modified date

  - name: dim_crm_event
    description: The Events portion of Activities from SFDC. 
    columns:
      - name: dim_crm_event_sk
        description: The utility-generated ID key, from the event_id. 
      - name: dim_crm_event_sk
        description: Utility-generated secondary key, from the event_id
      - name: event_id
        description: The SFDC ID for the Event. 
      - name: event_subject
        description: The Subject of the Event, from SFDC.
      - name: event_source
        description: The Event's Source, from SFDC
      - name: outreach_meeting_type
        description: The Outreach Meeting Type for the Event, from Outreach. 
      - name: event_type
        description: The Type of the Event, from SFDC
      - name: event_disposition
        description: The Disposition of the Event, from SFDC
      - name: event_description
        description: The Description of the Event, from SFDC
      - name: event_subtype
        description: The Subtype of the Event, from SFDC
      - name: booked_by_employee_number
        description: The Employee number of the Employee that booked the event/meeting. 
      - name: sa_activity_type
        description: The SA's Activity Type of the Event. 
      - name: event_show_as
        description: What the Event shows as in SFDC
      - name: assigned_to_role
        description: The SFDC Role, of the user assigned to the Event. 
      - name: csm_activity_type
        description: The CSM's Activity Type of the Event. 
      - name: customer_interaction_sentiment
        description: The Csutomer's sentiment/feedback on the Event
      - name: google_doc_link
        description: The link to a google doc related to the event. 
      - name: comments
        description: Comments left by the rep assigned to the event. 
      - name: qualified_convo_or_meeting
        description: Whether or not the meeting/event was a qualified conversation. 
      - name: first_opportunity_event_created_date
        description: The earliest event completion date, related to an opportunity. 
      - name: event_start_date_time
        description: The Start Date/Time of the Event. 
      - name: reminder_date_time
        description: The Date/Time of the reminder set for the Event. 
      - name: event_end_date_time
        description: The Event's End Date/Time. 
      - name: event_date
        description: The Date the Event took place. 
      - name: event_datetime
        description: The Date/Time the Event took place. 
      - name: created_at
        description: The Date the Event was created. 
      - name: event_end_date
        description: The End Date of the Event. 
      - name: is_all_day_event
        description: Boolean value - Whether or not the Event is an all day event. 
      - name: is_archived
        description: Boolean value -Whether or not the event is now archvied. 
      - name: is_child_event
        description: Boolean value - Whether or not the Event is the child of another Event. 
      - name: is_group_event
        description: Boolean value - Whether or not the Event was a Group event. 
      - name: is_private_event
        description: Boolean value - Whether or not the Event was a private event. 
      - name: is_recurrence
        description: Boolean value - Whether or not the Event is a recurring Event.  
      - name: has_reminder_set
        description: Boolean value - Whether or not there is a reminder set for this Event. 
      - name: is_answered
        description: Boolean value - Whether or not the prospect/customer answered/responded to the Event invite. 
      - name: is_correct_contact
        description: Boolean value - Whether or not the sales rep reached the correct contact.   
      - name: is_meeting_canceled
        description: Boolean value - Whether or not the meeting was cancelled. 
      - name: is_closed_event
        description: Boolean value - Whether or not the Event is closed. 
      - name: event_recurrence_activity_id
        description: ID of the Event's recurring activity. 
      - name: event_recurrence_day_of_week
        description: Day of the week for the recurrence of this event. 
      - name: event_recurrence_day_of_month
        description: Day of the month for the recurrence of this event. 
      - name: event_recurrence_end_date
        description: The End Date for the recurrence of this event. 
      - name: event_recurrence_instance
        description: Whether or not the event is recurring. 
      - name: event_recurrence_interval
        description: The interval in which the event reoccurs. 
      - name: event_recurrence_month_of_year
        description: Month of the year for the recurrence of this event. 
      - name: event_recurrence_start_date_time
        description: The Starting date/time of the recurrence of this event. 
      - name: event_recurrence_timezone_key
        description: The Timezone key for the recurrence of this event's date/time fields. 
      - name: event_recurrence_type
        description: The type of recurring Event. 
      - name: is_recurrence_2_exclusion
        description: Boolean - Whether or not the recurrence is excluded. 
      - name: is_recurrence_2
        description: Boolean - Whether or not the recurrence is valid. 
      - name: is_recurrence_2_exception
        description: Boolean - Whether or not the recurrence is an exception. 
      - name: last_modified_id
        description: The ID of the last modifier of this event. 
      - name: last_modified_date
        description: The Date the event was last modified. 
      - name: systemmodstamp
        description: The time/date stamp from SFDC when this record was created. 
      - name: partner_marketing_task_subject
        description: A non-pii field with the type of subject.

  - name: dim_crm_task
    description: '{{ doc("dim_crm_task") }}'
    columns:
      - name: dim_crm_task_sk
        description: '{{ doc("dim_crm_task_sk") }}'
        data_tests:
          - unique
          - not_null
        tags: ["tdf"]
      - name: full_comments
        meta:
           masking_policy: data_science_sensitive
      - name: task_subject
        meta:
           masking_policy: data_science_sensitive
      - name: partner_marketing_task_subject
        description: A non-pii field with the type of subject.
      - name: products_positioned
        description: A multi-select field for SA Activity Capture purposes
      - name: is_created_by_groove
        description: A boolean field indicating whether a task was created by the Groove integration.

  - name: dim_sales_dev_user_hierarchy
    description: A snapshotted history of sales dev user hierarchy from SFDC.
    columns:
      - name: sales_dev_rep_user_hierarchy_pk
        description: The primary key generated from a combination of dim_crm_user_id and snapshot_date
      - name: dim_crm_user_id
        description: The SFDC User ID of the sales dev rep
      - name: sales_dev_rep_direct_manager_id
        description: The SFDC User ID of the sales dev rep's manager
      - name: sales_dev_leader_id
        description: The SFDC User ID of the sales dev rep's leader
      - name: sales_dev_rep_role_name
        description: The Sales Dev Rep's role name
      - name: sales_dev_rep_user_role_level_1
        description: The Sales Dev Rep's role hierarchy level 1
      - name: sales_dev_rep_user_role_level_2
        description: The Sales Dev Rep's role hierarchy level 2
      - name: sales_dev_rep_user_role_level_3
        description: The Sales Dev Rep's role hierarchy level 3
      - name: sales_dev_rep_user_role_hierarchy_fiscal_year
        description: The fiscal year of the Sales Dev Rep's role hierarchy data
      - name: sales_dev_rep_email
        description: The Sales Dev Rep's email
      - name: sales_dev_rep_user_full_name
        description: The Sales Dev Rep's Full Name
      - name: sales_dev_rep_title
        description: The Sales Dev Rep's title
      - name: sales_dev_rep_department
        description: The Sales Dev Rep's department
      - name: sales_dev_rep_team
        description: The Sales Dev Rep's team
      - name: sales_dev_rep_is_active
        description: Whether The Sales Dev Rep is active
      - name: sales_dev_rep_employee_number
        description: The Sales Dev Rep's employee number
      - name: crm_user_sales_segment
        description: The Sales Dev Rep's sales segment
      - name: crm_user_geo
        description: The Sales Dev Rep's geo
      - name: crm_user_region
        description: The Sales Dev Rep's region
      - name: crm_user_area
        description: The Sales Dev Rep's area
      - name: sales_dev_manager_full_name
        description: The Sales Dev Rep's Manager's full name. 
      - name: sales_dev_manager_email
        description: The Sales Dev Rep's Manager'semail
      - name: sales_dev_manager_employee_number
        description: The Sales Dev Rep's Manager'semployee number
      - name: sales_dev_manager_user_role_name
        description: The Sales Dev Rep's Manager'srole name
      - name: sales_dev_rep_leader_full_name
        description: The Sales Dev Rep's Leader's full name. 
      - name: sales_dev_rep_leader_full_name
        description: The Sales Dev Rep's Leader's full name
      - name: sales_dev_leader_employee_number
        description: The Sales Dev Rep's Leader's employee number
      - name: sales_dev_leader_email
        description: The Sales Dev Rep's Leader's email
      - name: snapshot_date
        description: The snapshot date of the sales dev hierarchy data depicted

  - name: fct_crm_task
    description: '{{ doc("fct_crm_task") }}'
    columns:
      - name: dim_crm_task_sk
        description: '{{ doc("dim_crm_task_sk") }}'
        data_tests:
          - unique
          - not_null
        tags: ["tdf"]
      - name: dim_mapped_opportunity_id
        description: '{{ doc("dim_mapped_opportunity_id") }}'
      - name: task_mapped_to
        description: '{{ doc("task_mapped_to") }}'

  - name: dim_behavior_browser
    description: '{{ doc("dim_behavior_browser") }}'
    columns: 
      - name: dim_behavior_browser_sk
        data_tests:
          - not_null
          - unique
        description: '{{ doc("dim_behavior_browser_sk") }}'
      - name: browser_name
        description: '{{ doc("browser_name") }}'
      - name: browser_major_version
        description: '{{ doc("browser_major_version") }}'
      - name: browser_minor_version
        description: '{{ doc("browser_minor_version") }}'
      - name: browser_engine
        description: '{{ doc("browser_engine") }}'
      - name: browser_language
        description: '{{ doc("browser_language") }}'
      - name: max_timestamp
        description:  '{{ doc("max_timestamp_behavior_model") }}'
      - name: created_by
        description: '{{ doc("created_by") }}'
      - name: updated_by
        description: '{{ doc("updated_by") }}'
      - name: model_created_date
        description: '{{ doc("model_created_date") }}'
      - name: model_updated_date
        description: '{{ doc("model_updated_date") }}'

  - name: dim_behavior_operating_system
    description: '{{ doc("dim_behavior_operating_system") }}'
    columns: 
      - name: dim_behavior_operating_system_sk
        data_tests:
          - not_null
          - unique
        description: '{{ doc("dim_behavior_operating_system_sk") }}'
      - name: os
        description: '{{ doc("os") }}'
      - name: os_name
        description: '{{ doc("os_name") }}'
      - name: os_manufacturer
        description: '{{ doc("os_manufacturer") }}'
      - name: os_timezone
        description: '{{ doc("os_timezone") }}'
      - name: device_type
        description: '{{ doc("device_type") }}'
      - name: is_device_mobile
        description: '{{ doc("is_device_mobile") }}'
      - name: max_timestamp
        description:  '{{ doc("max_timestamp_behavior_model") }}'
      - name: created_by
        description: '{{ doc("created_by") }}'
      - name: updated_by
        description: '{{ doc("updated_by") }}'
      - name: model_created_date
        description: '{{ doc("model_created_date") }}'
      - name: model_updated_date
        description: '{{ doc("model_updated_date") }}'

  - name: dim_behavior_website_page
    description: '{{ doc("dim_behavior_website_page") }}'
    columns:
      - name: dim_behavior_website_page_sk
        data_tests:
          - not_null
          - unique:
              config:
                severity: error
                error_if: ">10"
                warn_if: ">10"
        description: '{{ doc("dim_behavior_website_page_sk") }}'
      - name: page_url
        description: '{{ doc("page_url") }}' 
      - name: page_url_host_path
        description: '{{ doc("page_url_host_path") }}' 
      - name: app_id
        description: '{{ doc("app_id") }}'         
      - name: page_url_host
        description: '{{ doc("page_url_host") }}' 
      - name: page_url_path
        description: '{{ doc("page_url_path") }}' 
      - name: page_url_query
        description: '{{ doc("page_url_query") }}' 
      - name: clean_url_path
        description: '{{ doc("clean_url_path") }}' 
      - name: page_url_scheme
        description: '{{ doc("page_url_scheme") }}' 
      - name: page_group
        description: '{{ doc("page_group") }}' 
      - name: page_type
        description: '{{ doc("page_type") }}' 
      - name: page_sub_type
        description: '{{ doc("page_sub_type") }}' 
      - name: url_namespace_id
        description: '{{ doc("behavior_url_namespace_id") }}' 
      - name: url_project_id
        description: '{{ doc("behavior_url_project_id") }}' 
      - name: url_path_category
        description: '{{ doc("url_path_category") }}' 
      - name: is_url_interacting_with_security
        description: '{{ doc("is_url_interacting_with_security") }}' 
      - name: min_event_timestamp
        description: '{{ doc("min_timestamp_behavior_model") }}' 
      - name: max_event_timestamp
        description: '{{ doc("max_timestamp_behavior_model") }}' 
      - name: created_by
        description: '{{ doc("created_by") }}'
      - name: updated_by
        description: '{{ doc("updated_by") }}'
      - name: model_created_date
        description: '{{ doc("model_created_date") }}'
      - name: model_updated_date
        description: '{{ doc("model_updated_date") }}'

  - name: fct_behavior_website_page_view
    description: '{{ doc("fct_behavior_website_page_view") }}'
    columns:
      - name: fct_behavior_website_page_view_sk
        data_tests:
          - not_null
          - unique:
              config:
                where: "behavior_at >= DATEADD('day',-3,CURRENT_DATE())"
        description: '{{ doc("fct_behavior_website_page_view_sk") }}'  
      - name: dim_behavior_website_page_sk
        description: '{{ doc("dim_behavior_website_page_sk") }}' 
      - name: dim_behavior_referrer_page_sk
        description: '{{ doc("dim_behavior_referrer_page_sk") }}' 
      - name: dim_namespace_id
        description: '{{ doc("dim_namespace_id_behavior_model") }}' 
      - name: dim_project_id
        description: '{{ doc("dim_project_id_behavior_model") }}' 
      - name: page_view_start_at
        description: '{{ doc("page_view_start_at") }}' 
      - name: page_view_end_at
        description: '{{ doc("page_view_end_at") }}' 
      - name: behavior_at
        description: '{{ doc("behavior_at") }}' 
      - name: session_id
        description: '{{ doc("session_id") }}' 
      - name: event_id
        description: '{{ doc("event_id_behavior_model") }}'  
      - name: user_snowplow_domain_id
        description: '{{ doc("user_snowplow_domain_id") }}' 
      - name: gsc_environment
        description: '{{ doc("environment_behavior_model") }}' 
      - name: gsc_extra
        description: '{{ doc("gsc_extra") }}' 
      - name: gsc_google_analytics_client_id
        description: '{{ doc("gsc_google_analytics_client_id") }}'
      - name: gsc_plan
        description: '{{ doc("gsc_plan") }}'
      - name: gsc_pseudonymized_user_id
        description: '{{ doc("gsc_pseudonymized_user_id") }}'
      - name: gsc_source
        description: '{{ doc("gsc_source") }}'
      - name: gsc_is_gitlab_team_member
        description: '{{ doc("gsc_is_gitlab_team_member") }}'
      - name: user_city
        description: '{{ doc("user_city") }}'
      - name: user_country
        description: '{{ doc("user_country") }}'
      - name: user_region
        description: '{{ doc("user_region") }}'
      - name: user_region_name
        description: '{{ doc("user_region_name") }}'
      - name: user_timezone_name
        description: '{{ doc("user_timezone_name") }}'
      - name: page_url_path
        description: '{{ doc("page_url_path") }}'
      - name: referer_url_path
        description: '{{ doc("referer_url_path") }}' 
      - name: event_name
        description: '{{ doc("event_name_behavior_model") }}' 
      - name: sf_formid
      - name: engaged_seconds
        description: '{{ doc("engaged_seconds") }}' 
      - name: page_load_time_in_ms
        description: '{{ doc("page_load_time_in_ms") }}' 
      - name: page_view_index
        description: '{{ doc("page_view_index") }}' 
      - name: page_view_in_session_index
        description: '{{ doc("page_view_in_session_index") }}' 
      - name: page_url
        description: '{{ doc("page_url") }}'
      - name: referrer_url
        description: '{{ doc("referrer_url") }}'
      - name: created_by
        description: '{{ doc("created_by") }}'
      - name: updated_by
        description: '{{ doc("updated_by") }}'
      - name: model_created_date
        description: '{{ doc("model_created_date") }}'
      - name: model_updated_date
        description: '{{ doc("model_updated_date") }}'

  - name: dim_behavior_event
    description: '{{ doc("dim_behavior_event") }}'
    columns:
      - name: dim_behavior_event_sk
        data_tests:
          - not_null
          - unique
        description: '{{ doc("dim_behavior_event_sk") }}'
      - name: event
        description: '{{ doc("event_behavior_model") }}'
      - name: event_name
        description: '{{ doc("event_name_behavior_model") }}'
      - name: platform
        description: '{{ doc("platform_behavior_model") }}'
      - name: environment
        description: '{{ doc("environment_behavior_model") }}'
      - name: event_category
        description: '{{ doc("event_category") }}'
      - name: event_action
        description: '{{ doc("event_action") }}'
      - name: event_label
        description: '{{ doc("event_label") }}'
      - name: clean_event_label
        description: '{{ doc("clean_event_label") }}'
      - name: event_property
        description: '{{ doc("event_property") }}'
      - name: max_timestamp
        description: '{{ doc("max_timestamp_behavior_model") }}'
      - name: created_by
        description: '{{ doc("created_by") }}'
      - name: updated_by
        description: '{{ doc("updated_by") }}'
      - name: model_created_date
        description: '{{ doc("model_created_date") }}'
      - name: model_updated_date
        description: '{{ doc("model_updated_date") }}'

  - name: fct_behavior_structured_event
    description: '{{ doc("fct_behavior_structured_event") }}'
    columns: 
      - name: behavior_structured_event_pk
        data_tests:
          - not_null
          - unique:
              config:
                where: "behavior_at >= DATEADD('day',-3,CURRENT_DATE())"
        description: '{{ doc("behavior_structured_event_pk") }}'
      - name: dim_behavior_browser_sk
        description: '{{ doc("dim_behavior_browser_sk") }}'
      - name: dim_behavior_website_page_sk
        description: '{{ doc("dim_behavior_website_page_sk") }}'
      - name: dim_behavior_referrer_page_sk
        description: '{{ doc("dim_behavior_referrer_page_sk") }}'
      - name: dim_behavior_operating_system_sk
        description: '{{ doc("dim_behavior_operating_system_sk") }}'
      - name: dim_user_location_sk
        description: '{{ doc("dim_user_location_sk") }}'
      - name: dim_namespace_id
        description: '{{ doc("dim_namespace_id_behavior_model") }}'
      - name: dim_project_id
        description: '{{ doc("dim_project_id_behavior_model") }}'
      - name: dim_behavior_event_sk
        description: '{{ doc("dim_behavior_event_sk") }}'
      - name: dvce_created_tstamp
        description: '{{ doc("dvce_created_tstamp") }}'
      - name: behavior_at
        description: '{{ doc("behavior_at") }}'
      - name: tracker_version
        description: '{{ doc("tracker_version") }}'
      - name: session_index
        description: '{{ doc("session_index") }}'
      - name: app_id
        description: '{{ doc("app_id") }}'
      - name: session_id
        description: '{{ doc("session_id") }}'
      - name: user_snowplow_domain_id
        description: '{{ doc("user_snowplow_domain_id") }}'
      - name: contexts
        description: '{{ doc("contexts") }}'
      - name: page_url_host_path
        description: '{{ doc("page_url_host_path") }}'
      - name: page_url_path
        description: '{{ doc("page_url_path") }}'
      - name: page_url_scheme
        description: '{{ doc("page_url_scheme") }}'
      - name: page_url_host
        description: '{{ doc("page_url_host") }}'
      - name: page_url_fragment
        description: '{{ doc("page_url_fragment") }}'
      - name: event_label
        description: '{{ doc("event_label") }}'
      - name: clean_event_label
        description: '{{ doc("clean_event_label") }}'
      - name: event_value
        description: '{{ doc("event_value") }}'
      - name: is_staging_event
        description: '{{ doc("is_staging_event") }}'
      - name: gsc_pseudonymized_user_id
        description: '{{ doc("gsc_pseudonymized_user_id") }}'
      - name: gsc_google_analytics_client_id
        description: '{{ doc("gsc_google_analytics_client_id") }}'
      - name: gsc_extra
        description: '{{ doc("gsc_extra") }}'
      - name: gsc_plan
        description: '{{ doc("gsc_plan") }}'
      - name: gsc_source
        description: '{{ doc("gsc_source") }}'
      - name: gsc_environment
        description: '{{ doc("environment_behavior_model") }}'
      - name: gsc_is_gitlab_team_member
        description: '{{ doc("gsc_is_gitlab_team_member") }}'
      - name: gsc_feature_enabled_by_namespace_ids
        description: ' {{ doc("gsc_feature_enabled_by_namespace_ids") }} '
      - name: created_by
        description: '{{ doc("created_by") }}'
      - name: updated_by
        description: '{{ doc("updated_by") }}'
      - name: model_created_date
        description: '{{ doc("model_created_date") }}'
      - name: model_updated_date
        description: '{{ doc("model_updated_date") }}'
      - name: user_city
        description: '{{ doc("user_city") }}'
      - name: user_country
        description: '{{ doc("user_country") }}'
      - name: user_region
        description: '{{ doc("user_region") }}'
      - name: user_region_name
        description: '{{ doc("user_region_name") }}'
      - name: user_timezone_name
        description: '{{ doc("user_timezone_name") }}'
      - name: gitlab_standard_context
        description: ' {{ doc("gitlab_standard_context") }} '
      - name: gitlab_standard_context_schema
        description: ' {{ doc("gitlab_standard_context_schema") }} '
      - name: has_gitlab_standard_context
        description: ' {{ doc("has_gitlab_standard_context") }} '
      - name: is_gitlab_team_member
        description: ' {{ doc("gsc_is_gitlab_team_member") }} '
      - name: web_page_context
        description: ' {{ doc("web_page_context") }} '
      - name: web_page_context_schema
        description: ' {{ doc("web_page_context_schema") }} '
      - name: has_web_page_context
        description: ' {{ doc("has_web_page_context") }} '
      - name: web_page_id
        description: ' {{ doc("web_page_id") }} '
      - name: gitlab_experiment_context
        description: ' {{ doc("gitlab_experiment_context") }} '
      - name: gitlab_experiment_context_schema
        description: ' {{ doc("gitlab_experiment_context_schema") }} '
      - name: has_gitlab_experiment_context
        description: ' {{ doc("has_gitlab_experiment_context") }} '
      - name: experiment_name
        description: ' {{ doc("experiment_name") }} '
      - name: experiment_context_key
        description: ' {{ doc("experiment_context_key") }} '
      - name: experiment_variant
        description: ' {{ doc("experiment_variant") }} '
      - name: experiment_migration_keys
        description: ' {{ doc("experiment_migration_keys") }} '
      - name: code_suggestions_context
        description: ' {{ doc("code_suggestions_context") }} '
      - name: code_suggestions_context_schema
        description: ' {{ doc("code_suggestions_context_schema") }} '
      - name: has_code_suggestions_context
        description: ' {{ doc("has_code_suggestions_context") }} '
      - name: model_engine
        description: ' {{ doc("model_engine") }} '
      - name: model_name
        description: ' {{ doc("model_name") }} '
      - name: prefix_length
        description: ' {{ doc("code_suggestions_prefix_length") }} '
      - name: suffix_length
        description: ' {{ doc("code_suggestions_suffix_length") }} '
      - name: language
        description: ' {{ doc("code_suggestions_language") }} '
      - name: user_agent
        description: ' {{ doc("code_suggestions_user_agent") }} '
      - name: delivery_type
        description: '{{ doc("product_delivery_type") }}'
        accepted_values:
          values: ['Self-Managed', 'SaaS']
      - name: api_status_code
        description: ' {{ doc("code_suggestions_api_status_code") }} '
      - name: duo_namespace_ids
        description: ' {{ doc("code_suggestions_duo_namespace_ids") }}'
      - name: saas_namespace_ids
        description: ' {{ doc("code_suggestions_saas_namespace_ids") }}'
      - name: namespace_ids
        description: ' {{ doc("code_suggestions_namespace_ids") }} '
      - name: dim_instance_id
        description: ' {{ doc("dim_instance_id") }} '
      - name: host_name
        description: ' {{ doc("host_name") }} '
      - name: is_streaming
        description: ' {{ doc("code_suggestions_is_streaming") }} '
      - name: gitlab_global_user_id
        description: ' {{ doc("gitlab_global_user_id") }} '
      - name: ide_extension_version_context
        description: ' {{ doc("ide_extension_version_context") }} '
      - name: ide_extension_version_context_schema
        description: ' {{ doc("ide_extension_version_context_schema") }} '
      - name: has_ide_extension_version_context
        description: ' {{ doc("has_ide_extension_version_context") }} '
      - name: extension_name
        description: ' {{ doc("extension_name") }} '
      - name: extension_version
        description: ' {{ doc("extension_version") }} '
      - name: ide_name
        description: ' {{ doc("ide_name") }} '
      - name: ide_vendor
        description: ' {{ doc("ide_vendor") }} '
      - name: ide_version
        description: ' {{ doc("ide_version") }} '
      - name: language_server_version
        description: ' {{ doc("language_server_version") }} '
      - name: gitlab_service_ping_context
        description: ' {{ doc("gitlab_service_ping_context") }} '
      - name: gitlab_service_ping_context_schema
        description: ' {{ doc("gitlab_service_ping_context_schema") }} '
      - name: has_gitlab_service_ping_context
        description: ' {{ doc("has_gitlab_service_ping_context") }} '
      - name: redis_event_name
        description: ' {{ doc("redis_event_name") }} '
      - name: key_path
        description: ' {{ doc("service_ping_key_path") }} '
      - name: data_source
        description: ' {{ doc("service_ping_data_source") }} '
      - name: performance_timing_context
        description: ' {{ doc("performance_timing_context") }} '
      - name: performance_timing_context_schema
        description: ' {{ doc("performance_timing_context_schema") }} '
      - name: has_performance_timing_context
        description: ' {{ doc("has_performance_timing_context") }} '
      - name: connect_end
        description: ' {{ doc("connect_end") }} '
      - name: connect_start
        description: ' {{ doc("connect_start") }} '
      - name: dom_complete
        description: ' {{ doc("dom_complete") }} '
      - name: dom_content_loaded_event_end
        description: ' {{ doc("dom_content_loaded_event_end") }} '
      - name: dom_content_loaded_event_start
        description: ' {{ doc("dom_content_loaded_event_start") }} '
      - name: dom_interactive
        description: ' {{ doc("dom_interactive") }} '
      - name: dom_loading
        description: ' {{ doc("dom_loading") }} '
      - name: domain_lookup_end
        description: ' {{ doc("domain_lookup_end") }} '
      - name: domain_lookup_start
        description: ' {{ doc("domain_lookup_start") }} '
      - name: fetch_start
        description: ' {{ doc("fetch_start") }} '
      - name: load_event_end
        description: ' {{ doc("load_event_end") }} '
      - name: load_event_start
        description: ' {{ doc("load_event_start") }} '
      - name: navigation_start
        description: ' {{ doc("navigation_start") }} '
      - name: redirect_end
        description: ' {{ doc("redirect_end") }} '
      - name: redirect_start
        description: ' {{ doc("redirect_start") }} '
      - name: request_start
        description: ' {{ doc("request_start") }} '
      - name: response_end
        description: ' {{ doc("response_end") }} '
      - name: response_start
        description: ' {{ doc("response_start") }} '
      - name: secure_connection_start
        description: ' {{ doc("secure_connection_start") }} '
      - name: unload_event_end
        description: ' {{ doc("unload_event_end") }} '
      - name: unload_event_start
        description: ' {{ doc("unload_event_start") }} '
      - name: suggestion_source
        description: ' {{ doc("code_suggestions_suggestion_source") }} '
      - name: is_invoked
        description: ' {{ doc("code_suggestions_is_invoked") }} '
      - name: options_count
        description: ' {{ doc("code_suggestions_options_count") }} '
      - name: accepted_option
        description: ' {{ doc("code_suggestions_accepted_option") }} '
      - name: has_advanced_context
        description: ' {{ doc("code_suggestions_has_advanced_context") }} '
      - name: is_direct_connection
        description: ' {{ doc("code_suggestions_is_direct_connection") }} '
      - name: gsc_instance_version
        description: ' {{ doc("gsc_instance_version") }} '
      - name: gsc_correlation_id
        description: ' { doc("gsc_correlation_id") } '
      - name: total_context_size_bytes
        description: ' {{ doc("code_suggestions_total_context_size_bytes") }}'
      - name: content_above_cursor_size_bytes
        description: ' {{ doc("code_suggestions_content_above_cursor_size_bytes") }}'
      - name: content_below_cursor_size_bytes
        description: ' {{ doc("code_suggestions_content_below_cursor_size_bytes") }}'
      - name: context_items
        description: ' {{ doc("code_suggestions_context_items") }}'
      - name: context_items_count
        description: ' {{ doc("code_suggestions_context_items_count") }}'
      - name: input_tokens
        description: ' {{ doc("input_tokens") }}'
      - name: output_tokens
        description: ' {{ doc("output_tokens") }}'
      - name: context_tokens_sent
        description: ' {{ doc("code_suggestions_context_tokens_sent") }}'
      - name: context_tokens_used
        description: ' {{ doc("code_suggestions_context_tokens_used") }}'
      - name: debounce_interval
        description: ' {{ doc("code_suggestions_debounce_interval") }}'
      - name: interface
        description: ' {{ doc("interface") }}'
      - name: client_type
        description: ' {{ doc("client_type") }}'
      - name: client_name
        description: ' {{ doc("client_name") }}'
      - name: client_version
        description: ' {{ doc("client_version") }}'
      - name: feature_category
        description: ' {{ doc("feature_category") }}'
      - name: region
        description: ' {{ doc("code_suggestions_region") }}'
      - name: resolution_strategies
        description: ' {{ doc("code_suggestions_resolution_strategies") }}'
      - name: total_tokens
        description: ' {{ doc("total_tokens") }}'
      - name: model_provider
        description: ' {{ doc("model_provider") }}'
      - name: feature_enablement_type
        description: ' {{ doc("feature_enablement_type") }}'
      - name: unique_instance_id
        description: ' {{ doc("unique_instance_id") }}'
      - name: dim_ultimate_parent_namespace_id
        description: ' {{ doc("dim_ultimate_parent_namespace_id") }} '
      - name: user_type
        description: ' {{ doc("user_type") }} '

  - name: fct_behavior_structured_event_30
    description: '{{ doc("fct_behavior_structured_event_30") }}'
    columns: 
      - name: behavior_structured_event_pk
        data_tests:
          - not_null
          - unique:
              config:
                where: "behavior_at >= DATEADD('day',-3,CURRENT_DATE())"
        description: '{{ doc("behavior_structured_event_pk") }}'
      - name: dim_behavior_browser_sk
        description: '{{ doc("dim_behavior_browser_sk") }}'
      - name: dim_behavior_website_page_sk
        description: '{{ doc("dim_behavior_website_page_sk") }}'
      - name: dim_behavior_referrer_page_sk
        description: '{{ doc("dim_behavior_referrer_page_sk") }}'
      - name: dim_behavior_operating_system_sk
        description: '{{ doc("dim_behavior_operating_system_sk") }}'
      - name: dim_user_location_sk
        description: '{{ doc("dim_user_location_sk") }}'
      - name: dim_namespace_id
        description: '{{ doc("dim_namespace_id_behavior_model") }}'
      - name: dim_project_id
        description: '{{ doc("dim_project_id_behavior_model") }}'
      - name: dim_behavior_event_sk
        description: '{{ doc("dim_behavior_event_sk") }}'
      - name: dvce_created_tstamp
        description: '{{ doc("dvce_created_tstamp") }}'
      - name: behavior_at
        description: '{{ doc("behavior_at") }}'
      - name: tracker_version
        description: '{{ doc("tracker_version") }}'
      - name: session_index
        description: '{{ doc("session_index") }}'
      - name: app_id
        description: '{{ doc("app_id") }}'
      - name: session_id
        description: '{{ doc("session_id") }}'
      - name: user_snowplow_domain_id
        description: '{{ doc("user_snowplow_domain_id") }}'
      - name: contexts
        description: '{{ doc("contexts") }}'
      - name: page_url_host_path
        description: '{{ doc("page_url_host_path") }}'
      - name: page_url_path
        description: '{{ doc("page_url_path") }}'
      - name: page_url_scheme
        description: '{{ doc("page_url_scheme") }}'
      - name: page_url_host
        description: '{{ doc("page_url_host") }}'
      - name: page_url_fragment
        description: '{{ doc("page_url_fragment") }}'
      - name: event_label
        description: '{{ doc("event_label") }}'
      - name: clean_event_label
        description: '{{ doc("clean_event_label") }}'
      - name: event_value
        description: '{{ doc("event_value") }}'
      - name: is_staging_event
        description: '{{ doc("is_staging_event") }}'
      - name: gsc_pseudonymized_user_id
        description: '{{ doc("gsc_pseudonymized_user_id") }}'
      - name: gsc_google_analytics_client_id
        description: '{{ doc("gsc_google_analytics_client_id") }}'
      - name: gsc_extra
        description: '{{ doc("gsc_extra") }}'
      - name: gsc_plan
        description: '{{ doc("gsc_plan") }}'
      - name: gsc_source
        description: '{{ doc("gsc_source") }}'
      - name: gsc_environment
        description: '{{ doc("environment_behavior_model") }}'
      - name: gsc_is_gitlab_team_member
        description: '{{ doc("gsc_is_gitlab_team_member") }}'
      - name: gsc_feature_enabled_by_namespace_ids
        description: ' {{ doc("gsc_feature_enabled_by_namespace_ids") }} '
      - name: created_by
        description: '{{ doc("created_by") }}'
      - name: updated_by
        description: '{{ doc("updated_by") }}'
      - name: model_created_date
        description: '{{ doc("model_created_date") }}'
      - name: model_updated_date
        description: '{{ doc("model_updated_date") }}'
      - name: user_city
        description: '{{ doc("user_city") }}'
      - name: user_country
        description: '{{ doc("user_country") }}'
      - name: user_region
        description: '{{ doc("user_region") }}'
      - name: user_region_name
        description: '{{ doc("user_region_name") }}'
      - name: user_timezone_name
        description: '{{ doc("user_timezone_name") }}'
      - name: gitlab_standard_context
        description: ' {{ doc("gitlab_standard_context") }} '
      - name: gitlab_standard_context_schema
        description: ' {{ doc("gitlab_standard_context_schema") }} '
      - name: has_gitlab_standard_context
        description: ' {{ doc("has_gitlab_standard_context") }} '
      - name: is_gitlab_team_member
        description: ' {{ doc("gsc_is_gitlab_team_member") }} '
      - name: web_page_context
        description: ' {{ doc("web_page_context") }} '
      - name: web_page_context_schema
        description: ' {{ doc("web_page_context_schema") }} '
      - name: has_web_page_context
        description: ' {{ doc("has_web_page_context") }} '
      - name: web_page_id
        description: ' {{ doc("web_page_id") }} '
      - name: gitlab_experiment_context
        description: ' {{ doc("gitlab_experiment_context") }} '
      - name: gitlab_experiment_context_schema
        description: ' {{ doc("gitlab_experiment_context_schema") }} '
      - name: has_gitlab_experiment_context
        description: ' {{ doc("has_gitlab_experiment_context") }} '
      - name: experiment_name
        description: ' {{ doc("experiment_name") }} '
      - name: experiment_context_key
        description: ' {{ doc("experiment_context_key") }} '
      - name: experiment_variant
        description: ' {{ doc("experiment_variant") }} '
      - name: experiment_migration_keys
        description: ' {{ doc("experiment_migration_keys") }} '
      - name: code_suggestions_context
        description: ' {{ doc("code_suggestions_context") }} '
      - name: code_suggestions_context_schema
        description: ' {{ doc("code_suggestions_context_schema") }} '
      - name: has_code_suggestions_context
        description: ' {{ doc("has_code_suggestions_context") }} '
      - name: model_engine
        description: ' {{ doc("model_engine") }} '
      - name: model_name
        description: ' {{ doc("model_name") }} '
      - name: prefix_length
        description: ' {{ doc("code_suggestions_prefix_length") }} '
      - name: suffix_length
        description: ' {{ doc("code_suggestions_suffix_length") }} '
      - name: language
        description: ' {{ doc("code_suggestions_language") }} '
      - name: user_agent
        description: ' {{ doc("code_suggestions_user_agent") }} '
      - name: delivery_type
        description: '{{ doc("product_delivery_type") }}'
        accepted_values:
          values: ['Self-Managed', 'SaaS']
      - name: api_status_code
        description: ' {{ doc("code_suggestions_api_status_code") }} '
      - name: duo_namespace_ids
        description: ' {{ doc("code_suggestions_duo_namespace_ids") }}'
      - name: saas_namespace_ids
        description: ' {{ doc("code_suggestions_saas_namespace_ids") }}'
      - name: namespace_ids
        description: ' {{ doc("code_suggestions_namespace_ids") }} '
      - name: dim_instance_id
        description: ' {{ doc("dim_instance_id") }} '
      - name: host_name
        description: ' {{ doc("host_name") }} '
      - name: is_streaming
        description: ' {{ doc("code_suggestions_is_streaming") }} '
      - name: gitlab_global_user_id
        description: ' {{ doc("gitlab_global_user_id") }} '
      - name: ide_extension_version_context
        description: ' {{ doc("ide_extension_version_context") }} '
      - name: ide_extension_version_context_schema
        description: ' {{ doc("ide_extension_version_context_schema") }} '
      - name: has_ide_extension_version_context
        description: ' {{ doc("has_ide_extension_version_context") }} '
      - name: extension_name
        description: ' {{ doc("extension_name") }} '
      - name: extension_version
        description: ' {{ doc("extension_version") }} '
      - name: ide_name
        description: ' {{ doc("ide_name") }} '
      - name: ide_vendor
        description: ' {{ doc("ide_vendor") }} '
      - name: ide_version
        description: ' {{ doc("ide_version") }} '
      - name: language_server_version
        description: ' {{ doc("language_server_version") }} '
      - name: gitlab_service_ping_context
        description: ' {{ doc("gitlab_service_ping_context") }} '
      - name: gitlab_service_ping_context_schema
        description: ' {{ doc("gitlab_service_ping_context_schema") }} '
      - name: has_gitlab_service_ping_context
        description: ' {{ doc("has_gitlab_service_ping_context") }} '
      - name: redis_event_name
        description: ' {{ doc("redis_event_name") }} '
      - name: key_path
        description: ' {{ doc("service_ping_key_path") }} '
      - name: data_source
        description: ' {{ doc("service_ping_data_source") }} '
      - name: performance_timing_context
        description: ' {{ doc("performance_timing_context") }} '
      - name: performance_timing_context_schema
        description: ' {{ doc("performance_timing_context_schema") }} '
      - name: has_performance_timing_context
        description: ' {{ doc("has_performance_timing_context") }} '
      - name: connect_end
        description: ' {{ doc("connect_end") }} '
      - name: connect_start
        description: ' {{ doc("connect_start") }} '
      - name: dom_complete
        description: ' {{ doc("dom_complete") }} '
      - name: dom_content_loaded_event_end
        description: ' {{ doc("dom_content_loaded_event_end") }} '
      - name: dom_content_loaded_event_start
        description: ' {{ doc("dom_content_loaded_event_start") }} '
      - name: dom_interactive
        description: ' {{ doc("dom_interactive") }} '
      - name: dom_loading
        description: ' {{ doc("dom_loading") }} '
      - name: domain_lookup_end
        description: ' {{ doc("domain_lookup_end") }} '
      - name: domain_lookup_start
        description: ' {{ doc("domain_lookup_start") }} '
      - name: fetch_start
        description: ' {{ doc("fetch_start") }} '
      - name: load_event_end
        description: ' {{ doc("load_event_end") }} '
      - name: load_event_start
        description: ' {{ doc("load_event_start") }} '
      - name: navigation_start
        description: ' {{ doc("navigation_start") }} '
      - name: redirect_end
        description: ' {{ doc("redirect_end") }} '
      - name: redirect_start
        description: ' {{ doc("redirect_start") }} '
      - name: request_start
        description: ' {{ doc("request_start") }} '
      - name: response_end
        description: ' {{ doc("response_end") }} '
      - name: response_start
        description: ' {{ doc("response_start") }} '
      - name: secure_connection_start
        description: ' {{ doc("secure_connection_start") }} '
      - name: unload_event_end
        description: ' {{ doc("unload_event_end") }} '
      - name: unload_event_start
        description: ' {{ doc("unload_event_start") }} '
      - name: suggestion_source
        description: ' {{ doc("code_suggestions_suggestion_source") }} '
      - name: is_invoked
        description: ' {{ doc("code_suggestions_is_invoked") }} '
      - name: options_count
        description: ' {{ doc("code_suggestions_options_count") }} '
      - name: accepted_option
        description: ' {{ doc("code_suggestions_accepted_option") }} '
      - name: has_advanced_context
        description: ' {{ doc("code_suggestions_has_advanced_context") }} '
      - name: is_direct_connection
        description: ' {{ doc("code_suggestions_is_direct_connection") }} '
      - name: gsc_instance_version
        description: ' {{ doc("gsc_instance_version") }} '
      - name: gsc_correlation_id
        description: ' { doc("gsc_correlation_id") } '
      - name: total_context_size_bytes
        description: ' {{ doc("code_suggestions_total_context_size_bytes") }}'
      - name: content_above_cursor_size_bytes
        description: ' {{ doc("code_suggestions_content_above_cursor_size_bytes") }}'
      - name: content_below_cursor_size_bytes
        description: ' {{ doc("code_suggestions_content_below_cursor_size_bytes") }}'
      - name: context_items
        description: ' {{ doc("code_suggestions_context_items") }}'
      - name: context_items_count
        description: ' {{ doc("code_suggestions_context_items_count") }}'
      - name: input_tokens
        description: ' {{ doc("input_tokens") }}'
      - name: output_tokens
        description: ' {{ doc("output_tokens") }}'
      - name: context_tokens_sent
        description: ' {{ doc("code_suggestions_context_tokens_sent") }}'
      - name: context_tokens_used
        description: ' {{ doc("code_suggestions_context_tokens_used") }}'
      - name: debounce_interval
        description: ' {{ doc("code_suggestions_debounce_interval") }}'
      - name: interface
        description: ' {{ doc("interface") }}'
      - name: client_type
        description: ' {{ doc("client_type") }}'
      - name: client_name
        description: ' {{ doc("client_name") }}'
      - name: client_version
        description: ' {{ doc("client_version") }}'
      - name: feature_category
        description: ' {{ doc("feature_category") }}'
      - name: region
        description: ' {{ doc("code_suggestions_region") }}'
      - name: resolution_strategies
        description: ' {{ doc("code_suggestions_resolution_strategies") }}'
      - name: total_tokens
        description: ' {{ doc("total_tokens") }}'
      - name: model_provider
        description: ' {{ doc("model_provider") }}'
      - name: feature_enablement_type
        description: ' {{ doc("feature_enablement_type") }}'
      - name: unique_instance_id
        description: ' {{ doc("unique_instance_id") }}'
      - name: dim_ultimate_parent_namespace_id
        description: ' {{ doc("dim_ultimate_parent_namespace_id") }} '
      - name: user_type
        description: ' {{ doc("user_type") }} '

  - name: fct_behavior_structured_event_90
    description: '{{ doc("fct_behavior_structured_event_90") }}'
    columns: 
      - name: behavior_structured_event_pk
        data_tests:
          - not_null
          - unique:
              config:
                where: "behavior_at >= DATEADD('day',-3,CURRENT_DATE())"
        description: '{{ doc("behavior_structured_event_pk") }}'
      - name: dim_behavior_browser_sk
        description: '{{ doc("dim_behavior_browser_sk") }}'
      - name: dim_behavior_website_page_sk
        description: '{{ doc("dim_behavior_website_page_sk") }}'
      - name: dim_behavior_referrer_page_sk
        description: '{{ doc("dim_behavior_referrer_page_sk") }}'
      - name: dim_behavior_operating_system_sk
        description: '{{ doc("dim_behavior_operating_system_sk") }}'
      - name: dim_user_location_sk
        description: '{{ doc("dim_user_location_sk") }}'
      - name: dim_namespace_id
        description: '{{ doc("dim_namespace_id_behavior_model") }}'
      - name: dim_project_id
        description: '{{ doc("dim_project_id_behavior_model") }}'
      - name: dim_behavior_event_sk
        description: '{{ doc("dim_behavior_event_sk") }}'
      - name: dvce_created_tstamp
        description: '{{ doc("dvce_created_tstamp") }}'
      - name: behavior_at
        description: '{{ doc("behavior_at") }}'
      - name: tracker_version
        description: '{{ doc("tracker_version") }}'
      - name: session_index
        description: '{{ doc("session_index") }}'
      - name: app_id
        description: '{{ doc("app_id") }}'
      - name: session_id
        description: '{{ doc("session_id") }}'
      - name: user_snowplow_domain_id
        description: '{{ doc("user_snowplow_domain_id") }}'
      - name: contexts
        description: '{{ doc("contexts") }}'
      - name: page_url_host_path
        description: '{{ doc("page_url_host_path") }}'
      - name: page_url_path
        description: '{{ doc("page_url_path") }}'
      - name: page_url_scheme
        description: '{{ doc("page_url_scheme") }}'
      - name: page_url_host
        description: '{{ doc("page_url_host") }}'
      - name: page_url_fragment
        description: '{{ doc("page_url_fragment") }}'
      - name: event_label
        description: '{{ doc("event_label") }}'
      - name: clean_event_label
        description: '{{ doc("clean_event_label") }}'
      - name: event_value
        description: '{{ doc("event_value") }}'
      - name: is_staging_event
        description: '{{ doc("is_staging_event") }}'
      - name: gsc_pseudonymized_user_id
        description: '{{ doc("gsc_pseudonymized_user_id") }}'
      - name: gsc_google_analytics_client_id
        description: '{{ doc("gsc_google_analytics_client_id") }}'
      - name: gsc_extra
        description: '{{ doc("gsc_extra") }}'
      - name: gsc_plan
        description: '{{ doc("gsc_plan") }}'
      - name: gsc_source
        description: '{{ doc("gsc_source") }}'
      - name: gsc_environment
        description: '{{ doc("environment_behavior_model") }}'
      - name: gsc_is_gitlab_team_member
        description: '{{ doc("gsc_is_gitlab_team_member") }}'
      - name: gsc_feature_enabled_by_namespace_ids
        description: ' {{ doc("gsc_feature_enabled_by_namespace_ids") }} '
      - name: created_by
        description: '{{ doc("created_by") }}'
      - name: updated_by
        description: '{{ doc("updated_by") }}'
      - name: model_created_date
        description: '{{ doc("model_created_date") }}'
      - name: model_updated_date
        description: '{{ doc("model_updated_date") }}'
      - name: user_city
        description: '{{ doc("user_city") }}'
      - name: user_country
        description: '{{ doc("user_country") }}'
      - name: user_region
        description: '{{ doc("user_region") }}'
      - name: user_region_name
        description: '{{ doc("user_region_name") }}'
      - name: user_timezone_name
        description: '{{ doc("user_timezone_name") }}'
      - name: gitlab_standard_context
        description: ' {{ doc("gitlab_standard_context") }} '
      - name: gitlab_standard_context_schema
        description: ' {{ doc("gitlab_standard_context_schema") }} '
      - name: has_gitlab_standard_context
        description: ' {{ doc("has_gitlab_standard_context") }} '
      - name: is_gitlab_team_member
        description: ' {{ doc("gsc_is_gitlab_team_member") }} '
      - name: web_page_context
        description: ' {{ doc("web_page_context") }} '
      - name: web_page_context_schema
        description: ' {{ doc("web_page_context_schema") }} '
      - name: has_web_page_context
        description: ' {{ doc("has_web_page_context") }} '
      - name: web_page_id
        description: ' {{ doc("web_page_id") }} '
      - name: gitlab_experiment_context
        description: ' {{ doc("gitlab_experiment_context") }} '
      - name: gitlab_experiment_context_schema
        description: ' {{ doc("gitlab_experiment_context_schema") }} '
      - name: has_gitlab_experiment_context
        description: ' {{ doc("has_gitlab_experiment_context") }} '
      - name: experiment_name
        description: ' {{ doc("experiment_name") }} '
      - name: experiment_context_key
        description: ' {{ doc("experiment_context_key") }} '
      - name: experiment_variant
        description: ' {{ doc("experiment_variant") }} '
      - name: experiment_migration_keys
        description: ' {{ doc("experiment_migration_keys") }} '
      - name: code_suggestions_context
        description: ' {{ doc("code_suggestions_context") }} '
      - name: code_suggestions_context_schema
        description: ' {{ doc("code_suggestions_context_schema") }} '
      - name: has_code_suggestions_context
        description: ' {{ doc("has_code_suggestions_context") }} '
      - name: model_engine
        description: ' {{ doc("model_engine") }} '
      - name: model_name
        description: ' {{ doc("model_name") }} '
      - name: prefix_length
        description: ' {{ doc("code_suggestions_prefix_length") }} '
      - name: suffix_length
        description: ' {{ doc("code_suggestions_suffix_length") }} '
      - name: language
        description: ' {{ doc("code_suggestions_language") }} '
      - name: user_agent
        description: ' {{ doc("code_suggestions_user_agent") }} '
      - name: delivery_type
        description: '{{ doc("product_delivery_type") }}'
        accepted_values:
          values: ['Self-Managed', 'SaaS']
      - name: api_status_code
        description: ' {{ doc("code_suggestions_api_status_code") }} '
      - name: duo_namespace_ids
        description: ' {{ doc("code_suggestions_duo_namespace_ids") }}'
      - name: saas_namespace_ids
        description: ' {{ doc("code_suggestions_saas_namespace_ids") }}'
      - name: namespace_ids
        description: ' {{ doc("code_suggestions_namespace_ids") }} '
      - name: dim_instance_id
        description: ' {{ doc("dim_instance_id") }} '
      - name: host_name
        description: ' {{ doc("host_name") }} '
      - name: is_streaming
        description: ' {{ doc("code_suggestions_is_streaming") }} '
      - name: gitlab_global_user_id
        description: ' {{ doc("gitlab_global_user_id") }} '
      - name: ide_extension_version_context
        description: ' {{ doc("ide_extension_version_context") }} '
      - name: ide_extension_version_context_schema
        description: ' {{ doc("ide_extension_version_context_schema") }} '
      - name: has_ide_extension_version_context
        description: ' {{ doc("has_ide_extension_version_context") }} '
      - name: extension_name
        description: ' {{ doc("extension_name") }} '
      - name: extension_version
        description: ' {{ doc("extension_version") }} '
      - name: ide_name
        description: ' {{ doc("ide_name") }} '
      - name: ide_vendor
        description: ' {{ doc("ide_vendor") }} '
      - name: ide_version
        description: ' {{ doc("ide_version") }} '
      - name: language_server_version
        description: ' {{ doc("language_server_version") }} '
      - name: gitlab_service_ping_context
        description: ' {{ doc("gitlab_service_ping_context") }} '
      - name: gitlab_service_ping_context_schema
        description: ' {{ doc("gitlab_service_ping_context_schema") }} '
      - name: has_gitlab_service_ping_context
        description: ' {{ doc("has_gitlab_service_ping_context") }} '
      - name: redis_event_name
        description: ' {{ doc("redis_event_name") }} '
      - name: key_path
        description: ' {{ doc("service_ping_key_path") }} '
      - name: data_source
        description: ' {{ doc("service_ping_data_source") }} '
      - name: performance_timing_context
        description: ' {{ doc("performance_timing_context") }} '
      - name: performance_timing_context_schema
        description: ' {{ doc("performance_timing_context_schema") }} '
      - name: has_performance_timing_context
        description: ' {{ doc("has_performance_timing_context") }} '
      - name: connect_end
        description: ' {{ doc("connect_end") }} '
      - name: connect_start
        description: ' {{ doc("connect_start") }} '
      - name: dom_complete
        description: ' {{ doc("dom_complete") }} '
      - name: dom_content_loaded_event_end
        description: ' {{ doc("dom_content_loaded_event_end") }} '
      - name: dom_content_loaded_event_start
        description: ' {{ doc("dom_content_loaded_event_start") }} '
      - name: dom_interactive
        description: ' {{ doc("dom_interactive") }} '
      - name: dom_loading
        description: ' {{ doc("dom_loading") }} '
      - name: domain_lookup_end
        description: ' {{ doc("domain_lookup_end") }} '
      - name: domain_lookup_start
        description: ' {{ doc("domain_lookup_start") }} '
      - name: fetch_start
        description: ' {{ doc("fetch_start") }} '
      - name: load_event_end
        description: ' {{ doc("load_event_end") }} '
      - name: load_event_start
        description: ' {{ doc("load_event_start") }} '
      - name: navigation_start
        description: ' {{ doc("navigation_start") }} '
      - name: redirect_end
        description: ' {{ doc("redirect_end") }} '
      - name: redirect_start
        description: ' {{ doc("redirect_start") }} '
      - name: request_start
        description: ' {{ doc("request_start") }} '
      - name: response_end
        description: ' {{ doc("response_end") }} '
      - name: response_start
        description: ' {{ doc("response_start") }} '
      - name: secure_connection_start
        description: ' {{ doc("secure_connection_start") }} '
      - name: unload_event_end
        description: ' {{ doc("unload_event_end") }} '
      - name: unload_event_start
        description: ' {{ doc("unload_event_start") }} '
      - name: suggestion_source
        description: ' {{ doc("code_suggestions_suggestion_source") }} '
      - name: is_invoked
        description: ' {{ doc("code_suggestions_is_invoked") }} '
      - name: options_count
        description: ' {{ doc("code_suggestions_options_count") }} '
      - name: accepted_option
        description: ' {{ doc("code_suggestions_accepted_option") }} '
      - name: has_advanced_context
        description: ' {{ doc("code_suggestions_has_advanced_context") }} '
      - name: is_direct_connection
        description: ' {{ doc("code_suggestions_is_direct_connection") }} '
      - name: gsc_instance_version
        description: ' {{ doc("gsc_instance_version") }} '
      - name: gsc_correlation_id
        description: ' { doc("gsc_correlation_id") } '
      - name: total_context_size_bytes
        description: ' {{ doc("code_suggestions_total_context_size_bytes") }}'
      - name: content_above_cursor_size_bytes
        description: ' {{ doc("code_suggestions_content_above_cursor_size_bytes") }}'
      - name: content_below_cursor_size_bytes
        description: ' {{ doc("code_suggestions_content_below_cursor_size_bytes") }}'
      - name: context_items
        description: ' {{ doc("code_suggestions_context_items") }}'
      - name: context_items_count
        description: ' {{ doc("code_suggestions_context_items_count") }}'
      - name: input_tokens
        description: ' {{ doc("input_tokens") }}'
      - name: output_tokens
        description: ' {{ doc("output_tokens") }}'
      - name: context_tokens_sent
        description: ' {{ doc("code_suggestions_context_tokens_sent") }}'
      - name: context_tokens_used
        description: ' {{ doc("code_suggestions_context_tokens_used") }}'
      - name: debounce_interval
        description: ' {{ doc("code_suggestions_debounce_interval") }}'
      - name: interface
        description: ' {{ doc("interface") }}'
      - name: client_type
        description: ' {{ doc("client_type") }}'
      - name: client_name
        description: ' {{ doc("client_name") }}'
      - name: client_version
        description: ' {{ doc("client_version") }}'
      - name: feature_category
        description: ' {{ doc("feature_category") }}'
      - name: region
        description: ' {{ doc("code_suggestions_region") }}'
      - name: resolution_strategies
        description: ' {{ doc("code_suggestions_resolution_strategies") }}'
      - name: total_tokens
        description: ' {{ doc("total_tokens") }}'
      - name: model_provider
        description: ' {{ doc("model_provider") }}'
      - name: feature_enablement_type
        description: ' {{ doc("feature_enablement_type") }}'
      - name: unique_instance_id
        description: ' {{ doc("unique_instance_id") }}'
      - name: dim_ultimate_parent_namespace_id
        description: ' {{ doc("dim_ultimate_parent_namespace_id") }} '
      - name: user_type
        description: ' {{ doc("user_type") }} '

  - name: fct_behavior_structured_event_experiment
    description:  '{{ doc("fct_behavior_structured_event_experiment") }}'
    columns: 
      - name: behavior_structured_event_pk
        data_tests:
          - not_null
          - unique
        description: '{{ doc("behavior_structured_event_pk") }}'
      - name: dim_behavior_browser_sk
        description: '{{ doc("dim_behavior_browser_sk") }}'
      - name: dim_behavior_website_page_sk
        description: '{{ doc("dim_behavior_website_page_sk") }}'
      - name: dim_behavior_referrer_page_sk
        description: '{{ doc("dim_behavior_referrer_page_sk") }}'
      - name: dim_behavior_operating_system_sk
        description: '{{ doc("dim_behavior_operating_system_sk") }}'
      - name: dim_namespace_id
        description: '{{ doc("dim_namespace_id_behavior_model") }}'
      - name: dim_project_id
        description: '{{ doc("dim_project_id_behavior_model") }}'
      - name: dim_behavior_event_sk
        description: '{{ doc("dim_behavior_event_sk") }}'
      - name: dvce_created_tstamp
        description: '{{ doc("dvce_created_tstamp") }}'
      - name: behavior_at
        description: '{{ doc("behavior_at") }}'
      - name: tracker_version
        description: '{{ doc("tracker_version") }}'
      - name: session_index
        description: '{{ doc("session_index") }}'
      - name: app_id
        description: '{{ doc("app_id") }}'
      - name: session_id
        description: '{{ doc("session_id") }}'
      - name: user_snowplow_domain_id
        description: '{{ doc("user_snowplow_domain_id") }}'
      - name: contexts
        description: '{{ doc("contexts") }}'
      - name: page_url_host_path
        description: '{{ doc("page_url_host_path") }}'
      - name: page_url_path
        description: '{{ doc("page_url_path") }}'
      - name: page_url_scheme
        description: '{{ doc("page_url_scheme") }}'
      - name: page_url_host
        description: '{{ doc("page_url_host") }}'
      - name: page_url_fragment
        description: '{{ doc("page_url_fragment") }}'
      - name: event_value
        description: '{{ doc("event_value") }}'
      - name: is_staging_event
        description: '{{ doc("is_staging_event") }}'
      - name: gsc_pseudonymized_user_id
        description: '{{ doc("gsc_pseudonymized_user_id") }}'
      - name: gsc_google_analytics_client_id
        description: '{{ doc("gsc_google_analytics_client_id") }}'
      - name: gsc_extra
        description: '{{ doc("gsc_extra") }}'
      - name: gsc_plan
        description: '{{ doc("gsc_plan") }}'
      - name: gsc_source
        description: '{{ doc("gsc_source") }}'
      - name: gsc_environment
        description: '{{ doc("environment_behavior_model") }}'  
      - name: created_by
        description: '{{ doc("created_by") }}'
      - name: updated_by
        description: '{{ doc("updated_by") }}'
      - name: model_created_date
        description: '{{ doc("model_created_date") }}'
      - name: model_updated_date
        description: '{{ doc("model_updated_date") }}'
      - name: user_city
        description: '{{ doc("user_city") }}'
      - name: user_country
        description: '{{ doc("user_country") }}'
      - name: user_region
        description: '{{ doc("user_region") }}'
      - name: user_timezone_name
        description: '{{ doc("user_timezone_name") }}'
      - name: has_performance_timing_context
        description: '{{ doc("has_performance_timing_context") }}'
      - name: has_web_page_context
        description: '{{ doc("has_web_page_context") }}'
      - name: has_ci_build_failed_context
        description: '{{ doc("has_ci_build_failed_context") }}'
      - name: has_wiki_page_context
        description: '{{ doc("has_wiki_page_context") }}'
      - name: has_gitlab_standard_context
        description: '{{ doc("has_gitlab_standard_context") }}'
      - name: has_email_campaigns_context
        description: '{{ doc("has_email_campaigns_context") }}'
      - name: has_gitlab_service_ping_context
        description: '{{ doc("has_gitlab_service_ping_context") }}'
      - name: has_design_management_context
        description: '{{ doc("has_design_management_context") }}'
      - name: has_customer_standard_context
        description: '{{ doc("has_customer_standard_context") }}'
      - name: has_secure_scan_context
        description: '{{ doc("has_secure_scan_context") }}'
      - name: has_gitlab_experiment_context
        description: '{{ doc("has_gitlab_experiment_context") }}'
      - name: has_subscription_auto_renew_context
        description: '{{ doc("has_subscription_auto_renew_context") }}'
      - name: experiment_name
        description: '{{ doc("experiment_name") }}'
        data_tests:
          - not_null:
              config:
                severity: error
                error_if: ">5784"
                warn_if: ">5784"
      - name: experiment_variant
        description: '{{ doc("experiment_variant") }}'
        data_tests:
          - not_null:
              config:
                severity: error
                error_if: ">5784"
                warn_if: ">5784"
      - name: experiment_context_key
        description: '{{ doc("experiment_context_key") }}'
      - name: experiment_migration_keys
        description: '{{ doc("experiment_migration_keys") }}'
      - name: unique_instance_id
        description: ' {{ doc("unique_instance_id") }}'

  - name: fct_behavior_structured_event_redis_hll_counters
    description: '{{ doc("fct_behavior_structured_event_redis_hll_counters") }}'
    columns:
      - name: behavior_structured_event_pk
        data_tests:
          - not_null
          - unique
        description: '{{ doc("behavior_structured_event_pk") }}'
      - name: dim_behavior_website_page_sk
        description: '{{ doc("dim_behavior_website_page_sk") }}'
      - name: dim_behavior_browser_sk
        description: '{{ doc("dim_behavior_browser_sk") }}'
      - name: dim_behavior_operating_system_sk
        description: '{{ doc("dim_behavior_operating_system_sk") }}'
      - name: dim_namespace_id
        description: '{{ doc("dim_namespace_id_behavior_model") }}'
      - name: dim_project_id
        description: '{{ doc("dim_project_id_behavior_model") }}'
      - name: dim_behavior_event_sk
        description: '{{ doc("dim_behavior_event_sk") }}'
      - name: dvce_created_tstamp
        description: '{{ doc("dvce_created_tstamp") }}'
      - name: behavior_at
        description: '{{ doc("behavior_at") }}'
      - name: tracker_version
        description: '{{ doc("tracker_version") }}'
      - name: session_index
        description: '{{ doc("session_index") }}'
      - name: app_id
        description: '{{ doc("app_id") }}'
      - name: session_id
        description: '{{ doc("session_id") }}'
      - name: user_snowplow_domain_id
        description: '{{ doc("user_snowplow_domain_id") }}'
      - name: contexts
        description: '{{ doc("contexts") }}'
      - name: gsc_google_analytics_client_id
        description: '{{ doc("gsc_google_analytics_client_id") }}'
      - name: gsc_pseudonymized_user_id
        description: '{{ doc("gsc_pseudonymized_user_id") }}'
      - name: gsc_environment
        description: '{{ doc("environment_behavior_model") }}' 
      - name: gsc_extra
        description: '{{ doc("gsc_extra") }}'
      - name: gsc_plan
        description: '{{ doc("gsc_plan") }}'
      - name: gsc_source
        description: '{{ doc("gsc_source") }}'
      - name: gsc_is_gitlab_team_member
        description: '{{ doc("gsc_is_gitlab_team_member") }}'
      - name: is_staging_event
        description: '{{ doc("is_staging_event") }}'

  - name: fct_behavior_unstructured_event
    description: '{{ doc("fct_behavior_unstructured_event") }}'
    columns:
      - name: fct_behavior_unstructured_sk
        data_tests:
          - not_null
          - unique:
              config:
                where: "behavior_at >= DATEADD('day',-3,CURRENT_DATE())"
        description: '{{ doc("fct_behavior_unstructured_sk") }}'
      - name: app_id
        description: '{{ doc("app_id") }}'
      - name: event_id
        description: '{{ doc("event_id_behavior_model") }}'
      - name: session_id
        description: '{{ doc("session_id") }}'
      - name: dim_behavior_event_sk
        description: '{{ doc("dim_behavior_event_sk") }}'
      - name: dim_behavior_website_page_sk
        description: '{{ doc("dim_behavior_website_page_sk") }}'
      - name: dim_behavior_referrer_page_sk
        description: '{{ doc("dim_behavior_referrer_page_sk") }}'
      - name: dim_behavior_browser_sk
        description: '{{ doc("dim_behavior_browser_sk") }}'
      - name: dim_behavior_operating_system_sk
        description: '{{ doc("dim_behavior_operating_system_sk") }}'
      - name: behavior_at
        description: '{{ doc("behavior_at") }}' 
      - name: gsc_pseudonymized_user_id
        description: '{{ doc("gsc_pseudonymized_user_id") }}'
      - name: gsc_is_gitlab_team_member
        description: '{{ doc("gsc_is_gitlab_team_member") }}'
      - name: user_snowplow_domain_id
        description: '{{ doc("user_snowplow_domain_id") }}'
      - name: is_staging_event
        description: '{{ doc("is_staging_event") }}'
      - name: link_click_target_url
        description: '{{ doc("link_click_target_url") }}'
      - name: link_click_element_id
        description: '{{ doc("link_click_element_id") }}'
      - name: submit_form_id
        description: '{{ doc("submit_form_id") }}'
      - name: change_form_id
        description: '{{ doc("change_form_id") }}'
      - name: change_form_type
        description: '{{ doc("change_form_type") }}'
      - name: change_form_element_id
        description: '{{ doc("change_form_element_id") }}'
      - name: focus_form_element_id
        description: '{{ doc("focus_form_element_id") }}'
      - name: focus_form_node_name
        description: '{{ doc("focus_form_node_name") }}'
      - name: created_by
        description: '{{ doc("created_by") }}'
      - name: updated_by
        description: '{{ doc("updated_by") }}'
      - name: model_created_date
        description: '{{ doc("model_created_date") }}'
      - name: model_updated_date
        description: '{{ doc("model_updated_date") }}'

  - name: fct_ping_instance_free_user_metrics
    description: '{{ doc("fct_ping_instance_free_user_metrics") }}'
    columns:
      - name: dim_ping_instance_id
        description: The unique identifier of the ping. This appears as id in the ping payload.
        data_tests:
          - not_null
        tags: ["tdf", "gainsight"]
      - name: ping_created_at
        description: The timestamp at which the ping was created_at
        data_tests:
          - not_null
        tags: ["tdf", "gainsight"]
      - name: ping_created_date_28_days_earlier
        description: The timestamp at which the ping was created_at minus 28 days for the monthly metric time period
      - name: ping_created_date_year
        description: The year ('2017') the ping was created at
      - name: ping_created_date_month
        description: The month ('2017-01-01') the ping was created at
      - name: ping_created_date_week
        description: The week start ('2017-01-01') the ping was created at
      - name: ping_created_date
        description: The day the ping was created at (removes the extra time information in the timestamp)
      - name: uuid
        data_tests:
          - not_null
        tags: ["tdf", "gainsight"]
      - name: ping_delivery_type
        description: '{{ doc("ping_delivery_type") }}'
      - name: ping_deployment_type
        description: '{{ doc("ping_deployment_type") }}'
      - name: instance_version
      - name: cleaned_version
      - name: version_is_prerelease
      - name: major_version
      - name: minor_version
      - name: major_minor_version
      - name: product_tier
      - name: ping_edition
      - name: host_name
      - name: dim_host_id
      - name: installation_type
      - name: is_internal
      - name: is_staging
      - name: license_billable_users
      - name: instance_user_count
      - name: historical_max_users
      - name: license_md5
        description: JOIN key to dim_licenses and dim_license
      - name: license_sha256
        description: JOIN key to dim_licenses and dim_license
      - name: instance_type
        description: Type of instance (Production/Non-Production)
      - name: dim_subscription_id
        description: JOIN key to dim_subscription
      - name: dim_crm_account_id
      - name: dim_parent_crm_account_id
      - name: dim_location_country_id
      - name: umau_28_days_user
      - name: action_monthly_active_users_project_repo_28_days_user
      - name: merge_requests_28_days_user
      - name: projects_with_repositories_enabled_28_days_user
      - name: commit_comment_all_time_event
      - name: source_code_pushes_all_time_event
      - name: ci_pipelines_28_days_user
      - name: ci_internal_pipelines_28_days_user
      - name: ci_builds_28_days_user
      - name: ci_builds_all_time_user
      - name: ci_builds_all_time_event
      - name: ci_runners_all_time_event
      - name: auto_devops_enabled_all_time_event
      - name: gitlab_shared_runners_enabled_instance_setting
      - name: container_registry_enabled_instance_setting
      - name: template_repositories_all_time_event
      - name: ci_pipeline_config_repository_28_days_user
      - name: user_unique_users_all_secure_scanners_28_days_user
      - name: user_sast_jobs_28_days_user
      - name: user_dast_jobs_28_days_user
      - name: user_dependency_scanning_jobs_28_days_user
      - name: user_license_management_jobs_28_days_user
      - name: user_secret_detection_jobs_28_days_user
      - name: user_container_scanning_job_28_days_user
      - name: object_store_packages_enabled_instance_setting
      - name: projects_with_packages_all_time_event
      - name: projects_with_packages_28_days_user
      - name: deployments_28_days_user
      - name: releases_28_days_user
      - name: epics_28_days_user
      - name: issues_28_days_user
      - name: ci_internal_pipelines_all_time_event
        description: Total pipelines in GitLab repositories
      - name: ci_external_pipelines_all_time_event
        description: Total pipelines in external repositories
      - name: merge_requests_all_time_event
        description: Total number of Merge Requests
      - name: todos_all_time_event
        description: Count of ToDos
      - name: epics_all_time_event
        description: Count of Epics created
      - name: issues_all_time_event
        description: Count of Issues created
      - name: projects_all_time_event
        description: Count of Projects
      - name: deployments_28_days_event
        description: Monthly count of deployments
      - name: packages_28_days_event
        description: Monthly count of Packages
      - name: dast_jobs_all_time_event
        description: Count of DAST jobs
      - name: user_license_management_jobs_all_time_event
        description: no idea, Count of License Scanning jobs run, it implies user and monthly, but AFAIK we don't track per user
      - name: secret_detection_jobs_all_time_event
        description: Count of ‘secret-detection’ CI jobs.
      - name: projects_jenkins_active_all_time_event
        description: Count of projects with active integrations for Jenkins
      - name: projects_bamboo_active_all_time_event
        description: Count of projects with active integrations for Bamboo CI
      - name: projects_jira_active_all_time_event
        description: Count of projects with active integrations for Jira
      - name: projects_drone_ci_active_all_time_event
        description: Count of projects with active integrations for Drone CI
      - name: jira_imports_28_days_event
        description: Count of Issues imported from Jira per month. This metric has been deprecated but we are keeping the field around for history.
      - name: projects_github_active_all_time_event
        description: Count of projects with active integrations for GitHub
      - name: projects_jira_dvcs_cloud_active_all_time_event
        description: Count of active integrations with Jira Cloud (DVCS Connector)
      - name: projects_with_repositories_enabled_all_time_event
        description: Counts of projects with repositories enabled
      - name: protected_branches_all_time_event
        description: Counts of protected branches
      - name: remote_mirrors_all_time_event
        description: Counts of remote mirrors
      - name: projects_enforcing_code_owner_approval_28_days_user
      - name: project_clusters_enabled_28_days_user
        description: Total GitLab Managed enabled clusters attached to projects
      - name: analytics_total_unique_counts_monthly
        description: SMAU Metric
      - name: issues_edit_total_unique_counts_monthly
        description: SMAU Metric
      - name: user_packages_total_unique_counts_monthly
        description: SMAU Metric
      - name: terraform_state_api_unique_users_monthly
        description: SMAU Metric
      - name: incident_management_total_unique_counts_monthly
        description: SMAU Metric
      - name: auto_devops_enabled
      - name: gitaly_clusters_instance
      - name: epics_deepest_relationship_level_instance
      - name: network_policy_forwards_all_time_event
      - name: network_policy_drops_all_time_event
      - name: requirements_with_test_report_all_time_event
      - name: requirement_test_reports_ci_all_time_event
      - name: projects_imported_from_github_all_time_event
      - name: projects_jira_dvcs_server_active_all_time_event
      - name: service_desk_issues_all_time_event
      - name: ci_pipelines_all_time_user
      - name: service_desk_issues_28_days_user
      - name: projects_jira_active_28_days_user
      - name: projects_jira_dvcs_server_active_28_days_user
      - name: merge_requests_with_required_code_owners_28_days_user
      - name: analytics_value_stream_28_days_event
      - name: code_review_user_approve_mr_28_days_user
      - name: epics_usage_28_days_user
      - name: project_management_issue_milestone_changed_28_days_user
      - name: project_management_issue_iteration_changed_28_days_user
      - name: installation_creation_date
        description: '{{ doc("installation_creation_date") }}'
      - name: dim_installation_id
        description: '{{ doc("dim_installation_id") }}'


  - name: fct_ping_instance_free_user_metrics_monthly
    description: '{{ doc("fct_ping_instance_free_user_metrics_monthly") }}'
    columns:
      - name: reporting_month
        description: Month in which the product usage was reported.
      - name: dim_namespace_id
      - name: uuid
      - name: hostname
      - name: delivery_type
        description: '{{ doc("product_delivery_type") }}'
      - name: deployment_type
        description: '{{ doc("product_deployment_type") }}'
      - name: cleaned_version
        description: Version of GitLab running on the instance
      - name: dim_crm_account_id
        description: ID of the CRM account associated with the free trial.
      - name: ping_date
        description: Actual date when ping is executed and data is extracted into Data Warehouse. This value determinates when data is processed.
      - name: umau_28_days_user
        description: '{{ doc("umau_28_days_user_desc") }}'
      - name: action_monthly_active_users_project_repo_28_days_user
        description: Monthly count of unique users that made an Action on a valid [Target](https://docs.gitlab.com/ee/api/events.html#target-types) ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#usage_activity_by_stage_monthlycreateaction_monthly_active_users_project_repo))
      - name: merge_requests_28_days_user
        description: Monthly count of unique users making merge requests ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#usage_activity_by_stage_monthlycreatemerge_requests))
      - name: projects_with_repositories_enabled_28_days_user
        description: Monthly count of unique users that created projects with repositories enabled ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#usage_activity_by_stage_monthlycreateprojects_with_repositories_enabled))
      - name: commit_comment_all_time_event
        description: All-time count commit comments ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#countscommit_comment))
      - name: source_code_pushes_all_time_event
        description: All-time count of source code pushes ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#countssource_code_pushes))
      - name: ci_pipelines_28_days_user
        description: Monthly count of unique users triggering pipelines ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#usage_activity_by_stage_monthlyverifyci_pipelines))
      - name: ci_internal_pipelines_28_days_user
        description: Monthly count of unique users triggering pipelines in GitLab repositories ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#usage_activity_by_stage_monthlyverifyci_internal_pipelines))
      - name: ci_builds_28_days_user
        description: Monthly count of unique users running CI builds ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#usage_activity_by_stage_monthlyverifyci_builds))
      - name: ci_builds_all_time_user
        description: All-time count of unique users running CI builds ([source]()https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#usage_activity_by_stageverifyci_builds)
      - name: ci_builds_all_time_event
        description: All-time count of CI builds ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#countsci_builds))
      - name: ci_runners_all_time_event
        description: All-time count of CI Runners ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#countsci_runners))
      - name: auto_devops_enabled_all_time_event
        description: All-time count of Projects with auto DevOps template enabled ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#countsauto_devops_enabled))
      - name: gitlab_shared_runners_enabled
        description: Flags whether shared runners are enabled ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#gitlab_shared_runners_enabled))
      - name: container_registry_enabled
        description: Flags whether container registry is enabled ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#container_registry_enabled))
      - name: template_repositories_all_time_event
        description: All-time total of custom project templates and projects without namespaces ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#countstemplate_repositories))
      - name: ci_pipeline_config_repository_28_days_user
        description: Monthly count of unique users triggering pipelines from templates in repository ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#usage_activity_by_stage_monthlyverifyci_pipeline_config_repository))
      - name: user_unique_users_all_secure_scanners_28_days_user
        description: Monthly count of unique users running secure CI builds ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#usage_activity_by_stage_monthlysecureuser_unique_users_all_secure_scanners))
      - name: user_sast_jobs_28_days_user
        description: Monthly count of unique users running SAST CI builds ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#usage_activity_by_stage_monthlysecureuser_sast_jobs))
      - name: user_dast_jobs_28_days_user
        description: Monthly count of unique users running DAST CI builds ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#usage_activity_by_stage_monthlysecureuser_dast_jobs))
      - name: user_dependency_scanning_jobs_28_days_user
        description: Monthly count of unique users running dependency scanning CI builds ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#usage_activity_by_stage_monthlysecureuser_dependency_scanning_jobs))
      - name: user_license_management_jobs_28_days_user
        description: Monthly count of unique users running license management CI builds ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#usage_activity_by_stage_monthlysecureuser_license_management_jobs))
      - name: user_secret_detection_jobs_28_days_user
        description: Monthly count of unique users running secret detection CI builds ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#usage_activity_by_stage_monthlysecureuser_secret_detection_jobs))
      - name: user_container_scanning_jobs_28_days_user
        description: Monthly count of unique users running container scanning CI builds ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#usage_activity_by_stage_monthlysecureuser_container_scanning_jobs))
      - name: object_store_packages_enabled
        description: Flags whether Object Storage is enabled for Uploads ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#object_storepackagesenabled))
      - name: projects_with_packages_all_time_event
        description: All-time count of projects with package registry configured ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#countsprojects_with_packages))
      - name: projects_with_packages_28_days_event
        description: '{{ doc("projects_with_packages_28_days_event_desc") }}'
        data_tests:
          - dbt_utils.at_least_one
      - name: deployments_28_days_user
        description: Monthly count of unique users triggering deployments ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#usage_activity_by_stage_monthlyreleasedeployments))
      - name: releases_28_days_user
        description: Monthly count of unique users authoring releases ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#usage_activity_by_stage_monthlyreleasereleases))
      - name: epics_28_days_user
        description: Monthly count of unique users authoring epics ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#usage_activity_by_stage_monthlyplanepics))
      - name: issues_28_days_user
        description: Monthly count of unique users authoring issues ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#usage_activity_by_stage_monthlyplanissues))
      - name: ci_internal_pipelines_all_time_event
        description: All-time count of pipelines in GitLab repositories ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#countsci_internal_pipelines))
      - name: ci_external_pipelines_all_time_event
        description: All-time count of pipelines in external repositories ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#countsci_external_pipelines))
      - name: merge_requests_all_time_event
        description: All-time count of Merge Requests ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#countsmerge_requests))
      - name: todos_all_time_event
        description: All-time count of ToDos created ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#countstodos))
      - name: epics_all_time_event
        description: All-time count of Epics created ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#countsepics))
      - name: issues_all_time_event
        description: All-time count of Issues created ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#countsissues))
      - name: projects_all_time_event
        description: All-time count of Projects created ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#countsprojects))
      - name: deployments_28_days_event
        description: Monthly count of deployments ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#counts_monthlydeployments))
      - name: packages_28_days_event
        description: Monthly count of Packages ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#counts_monthlypackages))
      - name: dast_jobs_all_time_event
        description: All-time count of DAST CI builds ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#countsdast_jobs))
      - name: license_management_jobs_all_time_event
        description: All-time count of License Management CI builds ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#countslicense_management_jobs))
      - name: secret_detection_jobs_all_time_event
        description: All-time count of Secret Detection’ CI builds ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#countssecret_detection_jobs))
      - name: projects_jenkins_active_all_time_event
        description: All-time count of projects with active integrations for Jenkins ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#countsprojects_jenkins_active))
      - name: projects_bamboo_active_all_time_event
        description: All-time count of projects with active integrations for Bamboo CI ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#countsprojects_bamboo_active))
      - name: projects_jira_active_all_time_event
        description: All-time count of projects with active integrations for Jira ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#countsprojects_jira_active))
      - name: projects_drone_ci_active_all_time_event
        description: All-time count of projects with active integrations for Drone CI ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#countsprojects_drone_ci_active))
      - name: jira_imports_28_days_event
        description: Monthly count of Issues imported from Jira ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#usage_activity_by_stage_monthlymanageissue_importsjira)). This metric has been deprecated but we are keeping the field around for history.
      - name: projects_github_active_all_time_event
        description: All-time count of projects with active integrations for GitHub ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#countsprojects_github_active))
      - name: projects_jira_dvcs_cloud_active_all_time_event
        description: All-time count of active integrations with Jira Cloud (DVCS Connector) ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#countsprojects_jira_dvcs_cloud_active))
      - name: projects_with_repositories_enabled_all_time_event
        description: All-time count of projects with repositories enabled ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#countsprojects_with_repositories_enabled))
      - name: protected_branches_all_time_event
        description: All-time count of protected branches ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#countsprotected_branches))
      - name: remote_mirrors_all_time_event
        description: All-time count of remote mirrors ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#countsremote_mirrors))
      - name: projects_enforcing_code_owner_approval_28_days_user
        description: Monthly count of unique users creating projects that require code owner approval ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#usage_activity_by_stage_monthlycreateprojects_enforcing_code_owner_approval))
      - name: project_clusters_enabled_28_days_user
        description: Monthly count of unique users using GitLab Managed enabled clusters attached to projects ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#usage_activity_by_stage_monthlyconfigureproject_clusters_enabled))
      - name: analytics_28_days_user
        description: The number of unique users viewing any [Analytics page](https://docs.gitlab.com/ee/user/analytics/) ([source](https://about.gitlab.com/handbook/product/stage-and-group-performance-indicators/#manage-manageoptimize---smau-gmau---mau-viewing-analytics-features))
      - name: issues_edit_28_days_user
        description: Number of unique users interacting with an issue (open, close, reopen, adjust label, adjust milestone, adjust weight, comment) ([source](https://about.gitlab.com/handbook/product/stage-and-group-performance-indicators/#plan-planproject-management---smau-paid-gmau---mau-interacting-with-issues))
      - name: user_packages_28_days_user
        description: The maximum distinct count of users who published a package to the Package Registry. In the future, this value will the distinct count of users across all Package AMAUs ([source](https://about.gitlab.com/handbook/product/stage-and-group-performance-indicators/#packagepackage---smau-gmau---count-of-users-publishing-packages))
      - name: terraform_state_api_28_days_user
        description: Monthly active users of GitLab Managed Terraform State ([source](https://about.gitlab.com/handbook/product/stage-and-group-performance-indicators/#configureconfigure---smau-gmau---mau-of-gitlab-managed-terraform-state))
      - name: incident_management_28_days_user
        description: Unique users that interact with alerts or incidents ([source](https://about.gitlab.com/handbook/product/stage-and-group-performance-indicators/#monitormonitor---smau-gmau---unique-users-that-interact-with-alerts-and-incidents))
      - name: auto_devops_enabled
        description: Flags whether auto DevOps is enabled on an instance ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#instance_auto_devops_enabled))
      - name: gitaly_clusters_instance
        description: Number of GitLab Managed clusters both enabled and disabled on an instance ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#gitalyclusters))
      - name: epics_deepest_relationship_level_instance
        description: Numeric level of the deepest relationship of all epics on an instance ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#countsepics_deepest_relationship_level))
      - name: network_policy_forwards_all_time_event
        description: Cumulative count of packets forwarded by Cilium (Container Network Security) ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#countsnetwork_policy_forwards))
      - name: network_policy_drops_all_time_event
        description: Cumulative count of packets dropped by Cilium (Container Network Security) ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#countsnetwork_policy_drops))
      - name: requirements_with_test_report_all_time_event
        description: All-time count of requirements having a test report ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#countsrequirements_with_test_report))
      - name: requirement_test_reports_ci_all_time_event
        description: All-time count of requirement test reports created from CI ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#countsrequirement_test_reports_ci))
      - name: projects_imported_from_github_all_time_event
        description: All-time count of project imported from GitHub ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#countsprojects_imported_from_github))
      - name: projects_jira_dvcs_server_active_all_time_event
        description: All-time count of active integrations with Jira Software (DVCS connector) ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#countsprojects_jira_dvcs_server_active))
      - name: service_desk_issues_all_time_event
        description: All-time count of service desk issues ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#countsservice_desk_issues))
      - name: ci_pipelines_all_time_user
        description: All-time count of distinct Users triggering Total pipelines ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#usage_activity_by_stageverifyci_pipelines))
      - name: service_desk_issues_28_days_user
        description: Monthly count of users opening service desk issues ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#usage_activity_by_stage_monthlyplanservice_desk_issues))
      - name: projects_jira_active_28_days_user
        description: Monthly count of users interacting with active integrations of Jira Software ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#usage_activity_by_stage_monthlyplanprojects_jira_active))
      - name: projects_jira_dvcs_server_active_28_days_user
        description: Monthly count of users interacting with active integrations of Jira Software (DVCS connector) ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#usage_activity_by_stage_monthlyplanprojects_jira_dvcs_server_active))
      - name: merge_requests_with_required_code_owners_28_days_user
        description: Monthly count of users creating merge requests with required code owners ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#usage_activity_by_stage_monthlycreatemerge_requests_with_required_codeowners))
      - name: analytics_value_stream_28_days_event
        description: Monthly count of visits to [Value Stream Analytics](https://about.gitlab.com/stages-devops-lifecycle/value-stream-analytics/) ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#redis_hll_countersanalyticsg_analytics_valuestream_monthly))
      - name: code_review_user_approve_mr_28_days_user
        description: Monthly count of users approving merge requests ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#redis_hll_counterscode_reviewi_code_review_user_approve_mr_monthly))
      - name: epics_usage_28_days_user
        description: Monthly users count for epics_usage ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#redis_hll_countersepics_usageepics_usage_total_unique_counts_monthly))
      - name: project_management_issue_milestone_changed_28_days_user
        description: Monthly count of MAU changing an issue’s milestone ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#redis_hll_countersissues_editg_project_management_issue_milestone_changed_monthly))
      - name: project_management_issue_iteration_changed_28_days_user
        description: Monthly count of MAU changing an issue’s iteration ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#redis_hll_countersissues_editg_project_management_issue_iteration_changed_monthly))
      - name: protected_branches_28_days_user
        description: '{{ doc("protected_branches_28_days_user_desc") }}'
        data_tests:
          - dbt_utils.at_least_one
      - name: ci_cd_lead_time_usage_28_days_event
        description: '{{ doc("ci_cd_lead_time_usage_28_days_event_desc") }}'
        data_tests:
          - dbt_utils.at_least_one
      - name: ci_cd_deployment_frequency_usage_28_days_event
        description: '{{ doc("ci_cd_deployment_frequency_usage_28_days_event_desc") }}'
        data_tests:
          - dbt_utils.at_least_one
      - name: projects_with_repositories_enabled_all_time_user
        description: '{{ doc("projects_with_repositories_enabled_all_time_user_desc") }}'
        data_tests:
          - dbt_utils.at_least_one
      - name: environments_all_time_event
        description: '{{ doc("environments_all_time_event_desc") }}'
        data_tests:
          - dbt_utils.at_least_one
      - name: feature_flags_all_time_event
        description: '{{ doc("feature_flags_all_time_event_desc") }}'
        data_tests:
          - dbt_utils.at_least_one
      - name: successful_deployments_28_days_event
        description: '{{ doc("successful_deployments_28_days_event_desc") }}'
        data_tests:
          - dbt_utils.at_least_one
      - name: failed_deployments_28_days_event
        description: '{{ doc("failed_deployments_28_days_event_desc") }}'
        data_tests:
          - dbt_utils.at_least_one
      - name: projects_compliance_framework_all_time_event
        description: '{{ doc("projects_compliance_framework_all_time_event_desc") }}'
        data_tests:
          - dbt_utils.at_least_one
      - name: commit_ci_config_file_28_days_user
        description: '{{ doc("commit_ci_config_file_28_days_user_desc") }}'
        data_tests:
          - dbt_utils.at_least_one
      - name: view_audit_all_time_user
        description: '{{ doc("view_audit_all_time_user_desc") }}'
        data_tests:
          - dbt_utils.at_least_one
      - name: dependency_scanning_jobs_all_time_user
        description: '{{ doc("dependency_scanning_jobs_all_time_user_desc") }}'
        data_tests:
          - dbt_utils.at_least_one
      - name: analytics_devops_adoption_all_time_user
        description: '{{ doc("analytics_devops_adoption_all_time_user_desc") }}'
        data_tests:
          - dbt_utils.at_least_one
      - name: projects_imported_all_time_event
        description: '{{ doc("projects_imported_all_time_event_desc") }}'
        data_tests:
          - dbt_utils.at_least_one
      - name: preferences_security_dashboard_28_days_user
        description: '{{ doc("preferences_security_dashboard_28_days_user_desc") }}'
        data_tests:
          - dbt_utils.at_least_one
      - name: web_ide_edit_28_days_user
        description: '{{ doc("web_ide_edit_28_days_user_desc") }}'
        data_tests:
          - dbt_utils.at_least_one
      - name: auto_devops_pipelines_all_time_event
        description: '{{ doc("auto_devops_pipelines_all_time_event_desc") }}'
        data_tests:
          - dbt_utils.at_least_one
      - name: projects_prometheus_active_all_time_event
        description: '{{ doc("projects_prometheus_active_all_time_event_desc") }}'
        data_tests:
          - dbt_utils.at_least_one
      - name: prometheus_enabled
        description: '{{ doc("prometheus_enabled_desc") }}'
        data_tests:
          - dbt_utils.at_least_one
      - name: prometheus_metrics_enabled
        description: '{{ doc("prometheus_metrics_enabled_desc") }}'
        data_tests:
          - dbt_utils.at_least_one
      - name: group_saml_enabled
        description: '{{ doc("group_saml_enabled_desc") }}'
        data_tests:
          - dbt_utils.at_least_one
      - name: jira_issue_imports_all_time_event
        description: '{{ doc("jira_issue_imports_all_time_event_desc") }}'
        data_tests:
          - dbt_utils.at_least_one
      - name: author_epic_all_time_user
        description: '{{ doc("author_epic_all_time_user_desc") }}'
        data_tests:
          - dbt_utils.at_least_one
      - name: author_issue_all_time_user
        description: '{{ doc("author_issue_all_time_user_desc") }}'
        data_tests:
          - dbt_utils.at_least_one
      - name: failed_deployments_28_days_user
        description: '{{ doc("failed_deployments_28_days_user_desc") }}'
        data_tests:
          - dbt_utils.at_least_one
      - name: successful_deployments_28_days_user
        description: '{{ doc("successful_deployments_28_days_user_desc") }}'
        data_tests:
          - dbt_utils.at_least_one
      - name: geo_enabled
        description: '{{ doc("geo_enabled_desc") }}'
        data_tests:
          - dbt_utils.at_least_one
      - name: auto_devops_pipelines_28_days_user
        description: '{{ doc("auto_devops_pipelines_28_days_user_desc") }}'
        data_tests:
          - dbt_utils.at_least_one
      - name: active_instance_runners_all_time_event
        description: '{{ doc("active_instance_runners_all_time_event_desc") }}'
        data_tests:
          - dbt_utils.at_least_one
      - name: active_group_runners_all_time_event
        description: '{{ doc("active_group_runners_all_time_event_desc") }}'
        data_tests:
          - dbt_utils.at_least_one
      - name: active_project_runners_all_time_event
        description: '{{ doc("active_project_runners_all_time_event_desc") }}'
        data_tests:
          - dbt_utils.at_least_one
      - name: gitaly_version
        description: '{{ doc("gitaly_version_desc") }}'
        data_tests:
          - dbt_utils.at_least_one
      - name: gitaly_servers_all_time_event
        description: '{{ doc("gitaly_servers_all_time_event_desc") }}'
        data_tests:
          - dbt_utils.at_least_one
      - name: api_fuzzing_scans_all_time_event
        description: '{{ doc("api_fuzzing_scans_all_time_event_desc") }}'
        data_tests:
          - dbt_utils.at_least_one
      - name: api_fuzzing_scans_28_days_event
        description: '{{ doc("api_fuzzing_scans_28_days_event_desc") }}'
        data_tests:
          - dbt_utils.at_least_one
      - name: coverage_fuzzing_scans_all_time_event
        description: '{{ doc("coverage_fuzzing_scans_all_time_event_desc") }}'
        data_tests:
          - dbt_utils.at_least_one
      - name: coverage_fuzzing_scans_28_days_event
        description: '{{ doc("coverage_fuzzing_scans_28_days_event_desc") }}'
        data_tests:
          - dbt_utils.at_least_one
      - name: secret_detection_scans_all_time_event
        description: '{{ doc("secret_detection_scans_all_time_event_desc") }}'
        data_tests:
          - dbt_utils.at_least_one
      - name: secret_detection_scans_28_days_event
        description: '{{ doc("secret_detection_scans_28_days_event_desc") }}'
        data_tests:
          - dbt_utils.at_least_one
      - name: dependency_scanning_scans_all_time_event
        description: '{{ doc("dependency_scanning_scans_all_time_event_desc") }}'
        data_tests:
          - dbt_utils.at_least_one
      - name: dependency_scanning_scans_28_days_event
        description: '{{ doc("dependency_scanning_scans_28_days_event_desc") }}'
        data_tests:
          - dbt_utils.at_least_one
      - name: container_scanning_scans_all_time_event
        description: '{{ doc("container_scanning_scans_all_time_event_desc") }}'
        data_tests:
          - dbt_utils.at_least_one
      - name: container_scanning_scans_28_days_event
        description: '{{ doc("container_scanning_scans_28_days_event_desc") }}'
        data_tests:
          - dbt_utils.at_least_one
      - name: dast_scans_all_time_event
        description: '{{ doc("dast_scans_all_time_event_desc") }}'
        data_tests:
          - dbt_utils.at_least_one
      - name: dast_scans_28_days_event
        description: '{{ doc("dast_scans_28_days_event_desc") }}'
        data_tests:
          - dbt_utils.at_least_one
      - name: sast_scans_all_time_event
        description: '{{ doc("sast_scans_all_time_event_desc") }}'
        data_tests:
          - dbt_utils.at_least_one
      - name: sast_scans_28_days_event
        description: '{{ doc("sast_scans_28_days_event_desc") }}'
        data_tests:
          - dbt_utils.at_least_one
      - name: packages_pushed_registry_all_time_event
        description: '{{ doc("packages_pushed_registry_all_time_event_desc") }}'
        data_tests:
          - dbt_utils.at_least_one
      - name: packages_pulled_registry_all_time_event
        description: '{{ doc("packages_pulled_registry_all_time_event_desc") }}'
        data_tests:
          - dbt_utils.at_least_one
      - name: compliance_dashboard_view_28_days_user
        description: '{{ doc("compliance_dashboard_view_28_days_user_desc") }}'
        data_tests:
          - dbt_utils.at_least_one
      - name: audit_screen_view_28_days_user
        description: '{{ doc("audit_screen_view_28_days_user_desc") }}'
        data_tests:
          - dbt_utils.at_least_one
      - name: instance_audit_screen_view_28_days_user
        description: '{{ doc("instance_audit_screen_view_28_days_user_desc") }}'
        data_tests:
          - dbt_utils.at_least_one
      - name: credential_inventory_view_28_days_user
        description: '{{ doc("credential_inventory_view_28_days_user_desc") }}'
        data_tests:
          - dbt_utils.at_least_one
      - name: compliance_frameworks_pipeline_28_days_event
        description: '{{ doc("compliance_frameworks_pipeline_28_days_event_desc") }}'
        data_tests:
          - dbt_utils.at_least_one
      - name: groups_streaming_destinations_all_time_event
        description: '{{ doc("groups_streaming_destinations_all_time_event_desc") }}'
        data_tests:
          - dbt_utils.at_least_one
      - name: audit_event_destinations_all_time_event
        description: '{{ doc("audit_event_destinations_all_time_event_desc") }}'
        data_tests:
          - dbt_utils.at_least_one
      - name: audit_event_destinations_28_days_event
        description: '{{ doc("audit_event_destinations_28_days_event_desc") }}'
        data_tests:
          - dbt_utils.at_least_one
      - name: projects_status_checks_all_time_event
        description: '{{ doc("projects_status_checks_all_time_event_desc") }}'
        data_tests:
          - dbt_utils.at_least_one
      - name: external_status_checks_all_time_event
        description: '{{ doc("external_status_checks_all_time_event_desc") }}'
        data_tests:
          - dbt_utils.at_least_one
      - name: paid_license_search_28_days_user
        description: '{{ doc("paid_license_search_28_days_user_desc") }}'
        data_tests:
          - dbt_utils.at_least_one
      - name: compliance_frameworks_pipeline_all_time_event
        description: '{{ doc("compliance_frameworks_pipeline_all_time_event_desc") }}'
        data_tests:
          - dbt_utils.at_least_one
      - name: last_activity_28_days_user
        description: '{{ doc("last_activity_28_days_user_desc") }}'
        data_tests:
          - dbt_utils.at_least_one
      - name: ci_internal_pipelines_28_days_event
        description: '{{ doc("ci_internal_pipelines_28_days_event_desc") }}'
        data_tests:
          - dbt_utils.at_least_one
      - name: is_latest_data
        description: Flags the row with the most recently received data from Usage Ping
      - name: installation_creation_date
        description: '{{ doc("installation_creation_date") }}'
      - name: dim_installation_id
        description: '{{ doc("dim_installation_id") }}'

  - name: fct_event_namespace_monthly
    description: '{{ doc("fct_event_namespace_monthly") }}'
    columns:
      - name: event_namespace_monthly_pk
        description: The unique composite ID of the fct_event_namespace_monthly model consisting of event_calendar_month, event_name, and dim_ultimate_parent_namespace_id
        data_tests:
          - not_null
          - unique
      - name: dim_ultimate_parent_namespace_id
        description: '{{ doc("dim_ultimate_parent_namespace_id_event_model") }}'
      - name: dim_latest_product_tier_id
        description: '{{ doc("dim_latest_product_tier_id") }}'
      - name: dim_latest_subscription_id
        description: '{{ doc("dim_latest_subscription_id") }}'
      - name: dim_crm_account_id
        description: '{{ doc("dim_crm_account_id") }}'
      - name: dim_billing_account_id
        description: '{{ doc("dim_billing_account_id") }}'
      - name: plan_id_at_event_month
        description: '{{ doc("plan_id_at_event_month") }}'
      - name: plan_name_at_event_month
        description: '{{ doc("plan_name_at_event_month") }}'
      - name: plan_was_paid_at_event_month
        description: '{{ doc("plan_was_paid_at_event_month") }}'
      - name: event_calendar_month
        description: '{{ doc("event_calendar_month") }}'
      - name: event_name
        description: '{{ doc("event_name") }}'
      - name: section_name
        description: '{{ doc("section_name") }}'
        data_tests:
          - not_null
      - name: stage_name
        description: '{{ doc("stage_name") }}'
        data_tests:
          - not_null
      - name: group_name
        description: '{{ doc("group_name") }}'
        data_tests:
          - not_null
      - name: is_smau
        description: '{{ doc("is_smau") }}'
        data_tests:
          - not_null
      - name: is_gmau
        description: '{{ doc("is_gmau") }}'
        data_tests:
          - not_null
      - name: is_umau
        description: '{{ doc("is_umau") }}'
        data_tests:
          - not_null
      - name: data_source
        description: '{{ doc("data_source") }}'
      - name: event_count
        description: '{{ doc("event_count") }}'
      - name: user_count
        description: '{{ doc("user_count") }}'
      - name: event_date_count
        description: '{{ doc("event_date_count") }}'
      - name: created_by
        description: '{{ doc("created_by") }}'
      - name: updated_by
        description: '{{ doc("updated_by") }}'
      - name: model_created_date
        description: '{{ doc("model_created_date") }}'
      - name: model_updated_date
        description: '{{ doc("model_updated_date") }}'

  - name: fct_delta_arr_subscription_lineage_product_monthly
    description: '{{ doc("fct_delta_arr_subscription_lineage_product_monthly") }}'
    columns:
      - name: delta_arr_subscription_lineage_product_monthly_pk
        description: The unique composite ID of the fct_delta_arr_subscription_month model consisting of arr_month and dim_oldest_subscription_in_cohort_id.
        data_tests:
          - not_null
          - unique
      - name: dim_parent_crm_account_id
        description: '{{ doc("dim_parent_crm_account_id") }}'
      - name: dim_crm_account_id
        description: '{{ doc("dim_crm_account_id") }}'
      - name: dim_oldest_subscription_in_cohort_id
        description: '{{ doc("dim_oldest_subscription_in_cohort_id") }}'
      - name: product_tier_name 
        description: '{{ doc("product_tier_name") }}'
      - name: previous_month_product_tier_name 
        description: '{{ doc("previous_month_product_tier_name") }}'
      - name: product_delivery_type
        description: '{{ doc("product_delivery_type") }}'
      - name: previous_month_product_delivery_type
        description: '{{ doc("previous_month_product_delivery_type") }}'
      - name: product_ranking
        description: '{{ doc("product_ranking") }}'
      - name: previous_month_product_ranking
        description: '{{ doc("previous_month_product_ranking") }}'
      - name: type_of_arr_change
        description: '{{ doc("type_of_arr_change") }}'
      - name: beg_arr
        description: '{{ doc("beg_arr") }}'
      - name: beg_quantity
        description: '{{ doc("beg_quantity") }}'
      - name: seat_change_arr
        description: '{{ doc("seat_change_arr") }}'
      - name: seat_change_quantity
        description: '{{ doc("seat_change_quantity") }}'
      - name: price_change_arr
        description: '{{ doc("price_change_arr") }}'
      - name: tier_change_arr
        description: '{{ doc("tier_change_arr") }}'
      - name: end_arr
        description: '{{ doc("end_arr") }}'
      - name: end_quantity
        description: '{{ doc("end_quantity") }}'
      - name: annual_price_per_seat_change
        description: '{{ doc("annual_price_per_seat_change") }}'
 
  - name: dim_team_member
    description: '{{ doc("dim_team_member") }}'
    data_tests:
      - dbt_utils.unique_combination_of_columns:
            combination_of_columns:
              - employee_id
              - valid_from
    columns:
      - name: employee_id
        description: Workday Employee Identification 
        data_tests:
          - not_null
      - name: valid_from
        data_tests:
          - not_null
      - name: first_name
      - name: last_name
      - name: work_email
        description: Team member work email
      - name: gitlab_username
        description: Team member gitlab username 
      - name: region
        description: Current/latest region the team member resides in
      - name: team_id
        description: Identification number of the team to which the particular team member belongs
      - name: hire_date
        description: Most recent hire date. Field is updated if a team member is re-hired after a termination
      - name: termination_date
        description: NULL if team member is a current employee, otherwise it contains the most recent termination date
      - name: is_current_team_member
        description: True if the termination_date field is NULL, false otherwise. This flag captures whether the employee was employed at GitLab within the valid_from/valid_to timeframe
      - name: is_rehire
        description: True if team member has more than one hire event (more than one occurrance of hire_date)
      - name: is_current
        description: True if the current team member event is the most recent event
      - name: country
        description: Current/latest country the team member resides in
        meta:
          masking_policy: analyst_people_sensitive
      - name: nationality
        description: Masked. Team member nationality.
        meta:
          masking_policy: analyst_people_sensitive
      - name: ethnicity 
        description: Masked. Team member ethnicity.
        meta:
          masking_policy: analyst_people_sensitive
      - name: gender 
        description: Masked. Team member gender
        meta:
          masking_policy: analyst_people_sensitive
      - name: date_of_birth 
        description: Masked. Team member date of birth
        meta:
          masking_policy: analyst_people_sensitive
      - name: key_talent_status 
        description: Masked. Team member Key Talent status
        meta:
          masking_policy: analyst_people_sensitive
      - name: growth_potential_rating 
        description: Masked. Team member growth potential rating
        meta:
          masking_policy: analyst_people_sensitive
      - name: performance_rating 
        description: Masked. Team member performance rating
        meta:
          masking_policy: analyst_people_sensitive
      - name: employee_type
        description: The employee type from the following list - Employee (PEO or Entity), Contractor (Independent, customer-to-customer or PEO), Intern, Consultant.

  - name: dim_team
    data_tests:
      - dbt_utils.unique_combination_of_columns:
          combination_of_columns:
            - team_id
            - valid_from
    columns:
      - name: team_hierarchy_level
        data_tests:
          - accepted_values:
              values: ['1', '2', '3', '4', '5', '6', '7', '8', '9']
      - name: dim_team_sk
        data_tests:
          - not_null
      - name: team_id
        data_tests:
          - not_null
      - name: team_superior_team_id
      - name: hierarchy_level_1
      - name: hierarchy_level_2
      - name: hierarchy_level_3
      - name: hierarchy_level_4
      - name: hierarchy_level_5
      - name: hierarchy_level_6
      - name: hierarchy_level_7
      - name: hierarchy_level_8
      - name: hierarchy_level_9
      - name: hierarchy_level_1_name
      - name: hierarchy_level_2_name
      - name: hierarchy_level_3_name
      - name: hierarchy_level_4_name
      - name: hierarchy_level_5_name
      - name: hierarchy_level_6_name
      - name: hierarchy_level_7_name
      - name: hierarchy_level_8_name
      - name: hierarchy_level_9_name
      - name: hierarchy_levels_array
      - name: team_hierarchy_level
      - name: is_team_inactivated
      - name: team_name
      - name: team_manager_name
      - name: team_manager_name_id
      - name: team_inactivated_date
      - name: team_members_count
      - name: is_team_manager_inherited
      - name: is_team_active
      - name: valid_from
      - name: valid_to
      - name: is_current

  - name: fct_team_member_status
    description: '{{ doc("fct_team_member_status") }}'
    data_tests:
      - dbt_utils.unique_combination_of_columns:
            combination_of_columns:
              - employee_id
              - employment_status
              - status_effective_date
    columns:
      - name: employee_id
        description: Workday Employee Identification 
        data_tests:
          - not_null
      - name: employment_status
        description: Masked. Employment Status (active, terminated). Other statuses will be added in the future (ie. Long term leave)
        meta:
          masking_policy: analyst_people_sensitive
        data_tests:
          - not_null
      - name: termination_reason
        description: Masked. The reason why a team member has been terminated
        meta:
          masking_policy: analyst_people_sensitive
      - name: termination_type
        description: Masked. Category that indicates whether the termination was voluntary or involuntary.
        meta:
          masking_policy: analyst_people_sensitive
      - name: exit_impact
        description: Masked. Whether the team member's departure has a significant negative impact on the company, its customers, its projects or the team.
        meta:
          masking_policy: analyst_people_sensitive
      - name: status_effective_date
        description: Effective date of employment status
        data_tests:
          - not_null

  - name: fct_team_member_position
    description: '{{ doc("fct_team_member_position") }}'
    data_tests:
      - dbt_utils.unique_combination_of_columns:
            combination_of_columns:
              - employee_id
              - team_id
              - valid_from
    columns:
      - name: team_member_position_pk
        description: Primary key for the table
        data_tests:
          - not_null
          - unique
      - name: dim_team_member_sk
        description: A unique ID for each team member.
        data_tests:
          - not_null
      - name: dim_team_sk
        description: A unique ID for each team. This field didn't exist before the move to Workday
      - name: employee_id
        description: Unique ID of the team member.
        data_tests:
          - not_null
      - name: manager
        description: The team member's manager name
      - name: suporg
        description: The team member's suporg
      - name: department
        description: The team member's department
      - name: division
        description: The team member's division
      - name: job_code
        description: The code of the team member's job position.
      - name: job_specialty_single
        description: The team member's job specialty.
      - name: job_specialty_multi
        description: The team member's job specialty (multi-select).
      - name: position
        description: The team member's job profile name.
      - name: job_family
        description: The team member's job family.
      - name: management_level
        description: The team member's management level.
      - name: job_grade
        description: Masked. The team member's job grade.
        meta:
          masking_policy: analyst_people_sensitive
      - name: entity
        description: The team member's entity.
        meta:
          masking_policy: analyst_people_sensitive
      - name: is_position_active
        description: Whether the team member's job position is active.
      - name: is_current
        description: Whether the team member's job position is the most current as of the date the query is run.
      - name: valid_from
      - name: valid_to

  - name: fct_team_status
    description: '{{ doc("fct_team_status") }}'
    data_tests:
      - dbt_utils.unique_combination_of_columns:
            combination_of_columns:
              - dim_team_member_sk
              - valid_from
    columns:
      - name: dim_team_member_sk
        description: A unique ID for each team member.
        data_tests:
          - not_null
      - name: dim_team_sk
        description: A unique ID for each team.
        data_tests:
          - not_null
      - name: employee_id
        description: Unique ID of the team member.
        data_tests:
          - not_null
      - name: team_id
        description: Unique ID of the team.
      - name: job_code
        description: The code of the team member's job position.
      - name: job_specialty_single
        description: The team member's job specialty.
      - name: job_specialty_multi
        description: The team member's job specialty (multi-select).
      - name: position
        description: The team member's job profile name.
      - name: job_family
        description: The team member's job family.
      - name: management_level
        description: The team member's management level.
      - name: job_grade
        description: Masked. The team member's job grade.
        meta:
          masking_policy: analyst_people_sensitive
      - name: entity
        description: The team member's entity.
        meta:
          masking_policy: analyst_people_sensitive
      - name: is_position_active
        description: Whether the team member's job position is active.
      - name: employment_status
        description: Masked. Employment Status (active, terminated). Other statuses will be added in the future (ie. Long term leave) 
        meta:
          masking_policy: analyst_people_sensitive        
        data_tests:
          - not_null
      - name: termination_reason
        description: Masked. The reason why a team member has been terminated
        meta:
          masking_policy: analyst_people_sensitive      
      - name: termination_type
        description: Masked. Category that indicates whether the termination was voluntary or involuntary.
        meta:
          masking_policy: analyst_people_sensitive
      - name: exit_impact
        description: Masked. Whether the team member's departure has a significant negative impact on the company, its customers, its projects or the team.
        meta:
          masking_policy: analyst_people_sensitive
      - name: is_current
        description: Whether the team status is the most current as of the date the query is run.
      - name: valid_from
        data_tests: 
          - not_null
      - name: valid_to
        data_tests: 
          - not_null


  - name: dim_trial_latest
    description: '{{ doc("dim_trial_latest") }}'
    columns:
      - name: dim_trial_latest_sk
        description: '{{ doc("dim_trial_latest_sk") }}'
        data_tests:
          - not_null
          - unique
      - name: dim_trial_snapshot_id
        description: A unique ID for each Snapshotted Order.
        data_tests:
          - not_null
          - unique
      - name: order_id
        description: The unique ID of an Order. It can be used as a join key to join to CDot Orders only.
        data_tests:
          - not_null
      - name: dim_namespace_id
        description: The id of the namespace related to the subscription.
        data_tests: 
          - unique        
      - name: customer_id
        description: The unique ID of a customer. It can be used as a Join key to join to CDot Customers only.
      - name: dim_product_rate_plan_id
        description: The unique ID of a product rate plan
      - name: dim_subscription_id
        description: The unique identifier of a subscription
      - name: subscription_name
        description: The unique name of a subscription.
      - name: subscription_name_slugify
        description: The name of the subscription
      - name: gitlab_namespace_name
        description: The namespace related to the subscription.
      - name: order_start_date
        description: The start date of the Order
      - name: order_end_date
        description: The expiration date of the Order
      - name: order_quantity
      - name: order_created_at
        description: The date when the Order was created
      - name: order_updated_at
        description: The date when the Order was updated
      - name: amendment_type
      - name: is_order_trial
        description: Boolean flag to indicate if the Order started as a Trial or not
      - name: last_extra_ci_minutes_sync_at
      - name: valid_from
        data_tests: 
          - not_null
      - name: valid_to


  - name: fct_trial
    description: '{{ doc("fct_trial") }}'
    columns:
      - name: trial_pk
        description: The composite primary key of the model that uniquely represents a row, cannot be used as a join key.
        data_tests:
          - not_null
          - unique
      - name: internal_order_id
        description: The unique ID of a CDot Order. It can only be used as a join key to join to CDot Orders. It cannot be used to join to Zuora Orders as this is a system specific key generated by CDot.
        data_tests:
          - not_null
      - name: dim_namespace_id
        description: The id of the namespace related to the order.  
      - name: product_rate_plan_id
        description: The unique ID of a product rate plan    
      - name: internal_customer_id
        description: The unique ID of a CDot customer. It can be used as a Join key to join to CDot Customers only. It cannot be used to join to Gitlab.com Users as this is a system specific key generated by CDot.
      - name: user_id
        description: The unique ID of a gitlab user from gitlab.com
      - name: is_gitlab_user
        description: Boolean flag to indicate if the user has an associated user id from gitlab.com
      - name: user_created_at
        description: The date when the user was created at gitlab.com portal
      - name: namespace_created_at
        description: '{{ doc("namespace_created_at") }}'
      - name: namespace_type 
        description: '{{ doc("namespace_type") }}'
      - name: is_trial_converted
        description: '{{ doc("is_trial_converted") }}'
      - name: subscription_name
        description: The unique name of a subscription from Zuora. It can be used to join back to Zuora Subscriptions.
      - name: subscription_name_slugify
        description: The name of the subscription from Zuora
      - name: subscription_start_date
        description: The date when the subscription term starts. This date is the same as the start date of the original term, which isn't necessarily the start date of the current or new term.
      - name: country
        description: The country selected by the User during registration
      - name: company_size
        description: The size of the company as provided by the user during registration
      - name: order_created_at
        description: The date when the Order was created
      - name: order_updated_at
        description: The date when the Order was updated
      - name: trial_type
        description: '{{ doc("trial_type") }}'
      - name: trial_type_name
        description: '{{ doc("trial_type_name") }}'
      - name: trial_start_date
        description: The date when the trial period begins for a product rate plan
      - name: trial_end_date
        description: The expiration date of the trial Order, which is usually 30 days from the trial start date


  - name: fct_trial_first
    description: '{{ doc("fct_trial_first") }}'
    columns:
      - name: trial_first_pk
        description: The composite primary key created by hashing `order_id` and `namespace_id` that uniquely represents a row, cannot be used as a join key
        data_tests:
          - not_null
          - unique
      - name: internal_order_id
        description: The unique ID of a CDot Order. It can only be used as a join key to join to CDot Orders. It cannot be used to join to Zuora Orders as this is a system specific key generated by CDot
        data_tests:
          - not_null
      - name: dim_namespace_id
        description: The id of the namespace related to the first trial order. 
      - name: internal_customer_id
        description: The unique ID of a CDot customer. It can be used as a Join key to join to CDot Customers only. It cannot be used to join to Gitlab.com Users as this is a system specific key generated by CDot
      - name: user_id
        description: The unique ID of a gitlab user from gitlab.com associated with the first trial order
      - name: subscription_name
        description: The unique name of the first subscription associated with the Order from Zuora. It can be used to join back to Zuora Subscriptions
      - name: subscription_name_slugify
        description: The name of the first subscription associated with the Order from Zuora
      - name: is_gitlab_user
        description: Boolean flag to indicate if the user has an associated user id from gitlab.com
      - name: user_created_at
        description: The date when the user was first created at gitlab.com portal
      - name: namespace_created_at
        description: '{{ doc("namespace_created_at") }}'
      - name: namespace_type 
        description: '{{ doc("namespace_type") }}'
      - name: subscription_start_date
        description: The date when the subscription term starts. This date is the same as the start date of the original term, which isn't necessarily the start date of the current or new term
      - name: country
        description: The country selected by the User during registration
      - name: company_size
        description: The size of the company as provided by the user during registration
      - name: is_trial_converted
        description: '{{ doc("is_trial_converted") }}'
      - name: order_created_at
        description: The date when the Order was first created in CDot
      - name: trial_start_date 
        description: The date when the trial period begins for a product rate plan
      - name: trial_end_date
        description: The expiration date of the trial Order, which is usually 30 days from the trial start date


  - name: fct_trial_latest
    description: '{{ doc("fct_trial_latest") }}'
    columns:
      - name: trial_latest_pk
        description: The primary key created by hashing `order_id` and `namespace_id` that uniquely represents a row, cannot be used as a join key.
        data_tests:
          - not_null
          - unique
      - name: internal_order_id
        description: The unique ID of a CDot Order. It can only be used as a join key to join to CDot Orders. It cannot be used to join to Zuora Orders as this is a system specific key generated by CDot.
        data_tests:
          - not_null
      - name: dim_namespace_id
        description: The id of the namespace related to the latest trial order. 
      - name: internal_customer_id
        description: The unique ID of a customer. It can be used as a Join key to join to CDot Customers only. It cannot be used to join to Gitlab.com Users as this is a system specific key generated by CDot
      - name: user_id
        description: The unique ID of a gitlab user from gitlab.com associated with the latest trial order
      - name: subscription_name
        description: The unique name of the first subscription associated with the Order from Zuora. It can be used to join back to Zuora Subscriptions
      - name: subscription_name_slugify
        description: The name of the first subscription associated with the Order from Zuora
      - name: is_gitlab_user
        description: Boolean flag to indicate if the user has an associated user id
      - name: user_created_at
        description: The latest date when the user was created at gitlab.com portal
      - name: namespace_created_at
        description: '{{ doc("namespace_created_at") }}'
      - name: namespace_type 
        description: '{{ doc("namespace_type") }}'
      - name: is_trial_converted
        description: '{{ doc("is_trial_converted") }}'
      - name: subscription_start_date
        description: The date when the subscription term starts. This date is the same as the start date of the original term, which isn't necessarily the start date of the current or new term
      - name: country
        description: The country selected by the User during registration
      - name: company_size
        description: The size of the company as provided by the user during registration
      - name: order_created_at
        description: The date when the Order was first created in CDot
      - name: trial_start_date
        description: The date when the trial period begins for a product rate plan
      - name: trial_end_date
        description: The expiration date of the trial Order, which is usually 30 days from the trial start date

  - name: dim_package
    description: '{{ doc("dim_package")}}'
    columns:
      - name: dim_package_sk
        description: '{{ ("dim_package_sk") }}'
        data_tests:
          - not_null
          - unique
      - name: package_id
        description: '{{ ("package_id") }}'
      - name: dim_project_id
        description: '{{ ("dim_project_id") }}'
      - name: dim_namespace_id
        description: '{{ ("dim_namespace_id") }}'
      - name: ultimate_parent_namespace_id
        description: '{{ ("dim_ultimate_parent_namespace_id") }}'
      - name: dim_plan_id
        description: '{{ ("dim_plan_id") }}'
      - name: creator_id
        description: '{{ ("dim_user_id") }}'
      - name: package_version
        description: '{{ ("package_version") }}'
      - name: package_type
        description: '{{ ("package_type") }}'
      - name: created_at
        description: '{{ ("package_created_at") }}'
      - name: updated_at
        description: '{{ ("package_updated_at") }}'

  - name: dim_integration
    description: '{{ ("dim_integration") }}'
    columns:
      - name: dim_integration_sk
        description: '{{ doc("dim_integration_sk") }}'
        data_tests:
          - not_null
          - unique
      - name: integration_id
        description: '{{ doc("integration_id") }}'
      - name: dim_project_id
        description: '{{ doc("dim_project_id") }}'
      - name: ultimate_parent_namespace_id
        description: '{{ doc("dim_ultimate_parent_namespace_id") }}'
      - name: dim_plan_id
        description: '{{ doc("dim_plan_id") }}'
      - name: integration_type
        description: '{{ doc("integration_type") }}'
      - name: integration_category
        description: '{{ doc("integration_category") }}'
      - name: is_active
        description: '{{ doc("integration_is_active") }}'
      - name: created_at
        description: '{{ doc("integration_created_at") }}'
      - name: updated_at
        description: '{{ doc("integration_updated_at") }}'

  - name: dim_requirement
    description: '{{ doc("dim_requirement") }}'
    columns:
      - name: dim_requirement_sk
        description: '{{ doc("dim_requirement_sk") }}'
        data_tests:
          - not_null
          - unique
      - name: requirement_id
        description: '{{ doc("requirement_id") }}'
      - name: dim_project_id
        description: '{{ doc("dim_project_id") }}'
      - name: ultimate_parent_namespace_id
        description: '{{ doc("dim_ultimate_parent_namespace_id") }}'
      - name: dim_plan_id
        description: '{{ doc("dim_plan_id") }}'
      - name: author_id
        description: '{{ doc("dim_user_id") }}'
      - name: created_date_id
        description: '{{ doc("created_date_id") }}'
      - name: requirement_internal_id
        description: '{{ doc("requirement_internal_id") }}'
      - name: requirement_state
        description: '{{ doc("requirement_state") }}'
      - name: created_at
        description: '{{ doc("requirement_created_at") }}'
      - name: updated_at
        description: '{{ doc("requirement_updated_at") }}'

  - name: dim_snippet
    description: '{{ doc("dim_snippet") }}'
    columns:
      - name: dim_snippet_sk
        description: '{{ doc("dim_snippet_sk") }}'
        data_tests:
          - not_null
          - unique
      - name: snippet_id
        description: '{{ doc("snippet_id") }}'
      - name: author_id
        description: '{{ doc("dim_user_id") }}'
      - name: dim_project_id
        description: '{{ doc("dim_project_id") }}'
      - name: ultimate_parent_namespace_id
        description: '{{ doc("dim_ultimate_parent_namespace_id") }}'
      - name: dim_plan_id
        description: '{{ doc("dim_plan_id") }}'
      - name: snippet_type
        description: '{{ doc("snippet_type") }}'
      - name: visibility_level
        description: '{{ doc("visibility_level") }}'
      - name: created_at
        description: '{{ doc("snippet_created_at") }}'
      - name: updated_at
        description: '{{ doc("snippet_updated_at") }}'

  - name: dim_milestone
    description: '{{ doc("dim_milestone") }}'
    columns:
      - name: dim_milestone_sk
        description: '{{ doc("dim_milestone_sk") }}'
        data_tests:
          - not_null
          - unique
      - name: milestone_id
        description: '{{ doc("milestone_id") }}'
      - name: dim_milestone_id
        description: '{{ doc("dim_milestone_id") }}'
      - name: created_at
        description: '{{ doc("milestone_created_at") }}'
      - name: updated_at
        description: '{{ doc("milestone_updated_at") }}'
      - name: created_date_id
        description: '{{ doc("milestone_created_date_id") }}'
      - name: dim_project_id
        description: '{{ doc("dim_project_id") }}'
      - name: ultimate_parent_namespace_id
        description: '{{ doc("dim_ultimate_parent_namespace_id") }}'
      - name: dim_plan_id
        description: '{{ doc("dim_plan_id") }}'
      - name: milestone_title
        description: '{{ doc("milestone_title") }}'
      - name: milestone_description
        description: '{{ doc("milestone_description") }}'
      - name: milestone_start_date
        description: '{{ doc("milestone_start_date") }}'
      - name: milestone_due_date
        description: '{{ doc("milestone_due_date") }}'
      - name: milestone_status
        description: '{{ doc("milestone_status") }}'
        
  - name: fct_latest_seat_link_installation
    description: '{{ doc("fct_latest_seat_link_installation") }}'
    columns:
      - name: latest_seat_link_installation_sk
        data_tests:
          - not_null
          - unique:
              config:
                where: "report_date >= DATEADD('day', -3, CURRENT_DATE())"

  - name: fct_behavior_structured_event_code_suggestion
    description: '{{ doc("fct_behavior_structured_event_code_suggestion") }}'
    columns:
    - name: behavior_structured_event_pk
      description: '{{ doc("behavior_structured_event_pk") }}'
      data_tests:
        - unique
        - not_null
    - name: behavior_at
      description: '{{ doc("behavior_at") }}'
    - name: code_suggestions_context
      description: '{{ doc("code_suggestions_context") }}'
    - name: model_engine
      description: '{{ doc("model_engine") }}'
    - name: model_name
      description: '{{ doc("model_name") }}'
    - name: prefix_length
      description: '{{ doc("code_suggestions_prefix_length") }}'
    - name: suffix_length
      description: '{{ doc("code_suggestions_suffix_length") }}'
    - name: language
      description: '{{ doc("code_suggestions_language") }}'
    - name: delivery_type
      description: '{{ doc("code_suggestions_delivery_type") }}'
      accepted_values:
        values: ['Self-Managed', 'SaaS']
    - name: api_status_code
      description: '{{ doc("code_suggestions_api_status_code") }}'
    - name: duo_namespace_ids
      description: ' {{ doc("code_suggestions_duo_namespace_ids") }}'
    - name: saas_namespace_ids
      description: ' {{ doc("code_suggestions_saas_namespace_ids") }}'
    - name: namespace_ids
      description: '{{ doc("code_suggestions_namespace_ids") }}'
    - name: dim_instance_id
      description: '{{ doc("dim_instance_id") }}'
    - name: host_name
      description: '{{ doc("host_name") }}'
    - name: is_streaming
      description: '{{ doc("code_suggestions_is_streaming") }}'
    - name: gitlab_global_user_id
      description: ' doc("gitlab_global_user_id") '
    - name: ultimate_parent_namespace_ids
      description: '{{ doc("code_suggestions_ultimate_parent_namespace_ids") }} '
    - name: subscription_names
      description: '{{ doc("code_suggestions_subscription_names") }}'
    - name: dim_crm_account_ids
      description: '{{ doc("code_suggestions_dim_crm_account_ids") }}'
    - name: dim_parent_crm_account_ids
      description: '{{ doc("code_suggestions_dim_parent_crm_account_ids") }}'
    - name: dim_installation_ids
      description: '{{ doc("code_suggestions_dim_installation_ids") }}'
    - name: host_names
      description: '{{ doc("code_suggestions_host_names") }}'
    - name: dim_crm_account_id
      description: '{{ doc("code_suggestions_dim_crm_account_id") }}'
    - name: dim_parent_crm_account_id
      description: '{{ doc("code_suggestions_dim_parent_crm_account_id") }}'
    - name: subscription_name
      description: '{{ doc("code_suggestions_subscription_name") }}'
    - name: ultimate_parent_namespace_id
      description: '{{ doc("code_suggestions_ultimate_parent_namespace_id") }}'
    - name: dim_installation_id
      description: '{{ doc("code_suggestions_dim_installation_id") }}'
    - name: installation_host_name
      description: '{{ doc("code_suggestions_installation_host_name") }}'
    - name: namespace_is_internal
      description: '{{ doc("code_suggestions_namespace_is_internal") }}'
    - name: installation_is_internal
      description: '{{ doc("code_suggestions_installation_is_internal") }}'
    - name: suggestion_source
      description: ' {{ doc("code_suggestions_suggestion_source") }} '
    - name: is_invoked
      description: ' {{ doc("code_suggestions_is_invoked") }} '
    - name: options_count
      description: ' {{ doc("code_suggestions_options_count") }} '
    - name: accepted_option
      description: ' {{ doc("code_suggestions_accepted_option") }} '
    - name: has_advanced_context
      description: ' {{ doc("code_suggestions_has_advanced_context") }} '
    - name: is_direct_connection
      description: ' {{ doc("code_suggestions_is_direct_connection") }} '
    - name: product_deployment_type
      description: ' {{ doc("product_deployment_type") }} '
    - name: gsc_instance_version
      description: ' {{ doc("gsc_instance_version") }} '
    - name: total_context_size_bytes
      description: ' {{ doc("code_suggestions_total_context_size_bytes") }}'
    - name: content_above_cursor_size_bytes
      description: ' {{ doc("code_suggestions_content_above_cursor_size_bytes") }}'
    - name: content_below_cursor_size_bytes
      description: ' {{ doc("code_suggestions_content_below_cursor_size_bytes") }}'
    - name: context_items
      description: ' {{ doc("code_suggestions_context_items") }}'
    - name: context_items_count
      description: ' {{ doc("code_suggestions_context_items_count") }}'
    - name: input_tokens
      description: ' {{ doc("input_tokens") }}'
    - name: output_tokens
      description: ' {{ doc("output_tokens") }}'
    - name: context_tokens_sent
      description: ' {{ doc("code_suggestions_context_tokens_sent") }}'
    - name: context_tokens_used
      description: ' {{ doc("code_suggestions_context_tokens_used") }}'
    - name: debounce_interval
      description: ' {{ doc("code_suggestions_debounce_interval") }}'
    - name: resolution_strategies
      description: ' {{ doc("code_suggestions_resolution_strategies") }}'
    - name: unique_instance_id
      description: ' {{ doc("unique_instance_id") }}'
    - name: feature_enablement_type
      description: ' {{ doc("feature_enablement_type") }}'

  - name: fct_behavior_structured_event_ide_extension_version
    description: '{{ doc("fct_behavior_structured_event_ide_extension_version") }}'
    columns:
    - name: behavior_structured_event_pk
      description: '{{ doc("behavior_structured_event_pk") }}'
      data_tests:
        - not_null
    - name: behavior_at
      description: '{{ doc("behavior_at") }}'
    - name: ide_extension_version_context
      description: ' {{ doc("ide_extension_version_context") }}'
    - name: extension_name
      description: ' {{ doc("extension_name") }}'
    - name: extension_version
      description: ' {{ doc("extension_version") }}'
    - name: ide_name
      description: ' {{ doc("ide_name") }}'
    - name: ide_vendor
      description: ' {{ doc("ide_vendor") }}'
    - name: ide_version
      description: ' {{ doc("ide_version") }}'
    - name: language_server_version
      description: ' {{ doc("language_server_version") }}'

  - name: fct_behavior_structured_event_service_ping
    description: '{{ doc("fct_behavior_structured_event_service_ping") }}'
    columns:
      - name: behavior_structured_event_pk
        description: '{{ doc("behavior_structured_event_pk") }}'
        data_tests:
        - unique:
            config:
              where: "behavior_at >= DATEADD('day',-3,CURRENT_DATE())"
        - not_null
      - name: behavior_at
        description: '{{ doc("behavior_at") }}'
      - name: gsc_pseudonymized_user_id
        description: '{{ doc("gsc_pseudonymized_user_id") }}'
      - name: dim_namespace_id
        description: '{{ doc("dim_namespace_id_behavior_model") }}'
      - name: dim_project_id
        description: '{{ doc("dim_project_id_behavior_model") }}'
      - name: gsc_plan
        description: '{{ doc("gsc_plan") }}'
      - name: ultimate_parent_namespace_id
        description: '{{ doc("dim_ultimate_parent_namespace_id") }}'
      - name: redis_event_name
        description: ' {{ doc("redis_event_name") }} '
      - name: key_path
        description: ' {{ doc("service_ping_key_path") }} '
      - name: data_source
        description: ' {{ doc("service_ping_data_source") }} '


  - name: fct_team_member_absence
    description: '{{ doc("fct_team_member_absence") }}'
    data_tests:
      - dbt_utils.unique_combination_of_columns:
            combination_of_columns:
              - dim_team_member_sk
              - absence_date
              - pto_uuid

    columns:
      - name: dim_team_member_sk
        description: A unique ID for each team member.
        data_tests:
          - not_null
      - name: dim_team_sk
        description: A unique ID for each team.
        data_tests:
          - not_null
      - name: employee_id
        description: Unique ID of the team member.
        data_tests:
          - not_null
      - name: position_valid_from
      - name: position_valid_to
      - name: absence_start
        description: The team member's absence start date
        data_tests: 
          - not_null
      - name: absence_end
        description: The team member's absence end date
      - name: absence_date  
        description: The team member's day of absence   
        data_tests: 
          - not_null
      - name: is_pto
        description: If this absence day overlaps with a PTO.
        meta:
          masking_policy: analyst_people_sensitive
      - name: is_holiday
        description: If this absence day overlaps with a holiday.
      - name: pto_uuid
        description: Unique identifier for this pto event
      - name: pto_type_uuid
        description: The UUID of this OOO Type.
        meta:
          masking_policy: analyst_people_sensitive
      - name: pto_group_type
        description: The group type of the absence.
        meta:
          masking_policy: analyst_people_sensitive
      - name: pto_status
        description: Enum:"AP" "RQ" "DN" "CN" 2-character enumeration denoting the status of the OOO Event.
          "AP" = Approved  "RQ" = Requested  "DN" = Denied  "CN" = Cancelled
      - name: pto_status_name
        description: The decoded pto_status
      - name: total_hours
        description: How long the user was OOO for. This is different from recorded_hours in that it is unaware of holidays and weekends.
      - name: recorded_hours
        description: How many hours were recorded as OOO for this event.
      - name: absence_status
        description: The team member's absence status.
        meta:
          masking_policy: analyst_people_sensitive
      - name: employee_day_length
        description: How long this User's "day" is in hours

  - name: fct_team_member_history
    description: '{{ doc("fct_team_member_history") }}'
    data_tests:
      - dbt_utils.unique_combination_of_columns:
            combination_of_columns:
              - dim_team_member_sk
              - hire_date
    columns:
      - name: dim_team_member_sk
        description: A unique ID for each team member.
        data_tests:
          - not_null
      - name: employee_id
        description: Workday Employee Identification 
      - name: hire_rank_asc
        description: Hire event of a team member ranked earliest by date
      - name: hire_date
        description: Date of hire
      - name: term_date
        description: Date of termination of employment  
      - name: term_rank_asc
        description: Termination event of a team member ranked earliest by date
      - name: last_date
        description:  Date of termination or current date, whichever comes first

  - name: fct_ping_namespace_metric
    description: '{{ doc("fct_ping_namespace_metric") }}'
    columns:
      - name: ping_namespace_metric_pk
        data_tests:
          - unique:
              config:
                where: "ping_created_at >= DATEADD('day', -7, CURRENT_DATE())"
          - not_null
      - name: dim_namespace_id
        description: '{{ doc("dim_namespace_id") }}'
      - name: ping_metric_id
        description: '{{ doc("ping_metric_id") }}'
      - name: dim_ping_date_id
        description: '{{ doc("dim_ping_date_id") }}'
      - name: ping_created_at
        description: '{{ doc("ping_created_at") }}'
      - name: metrics_path
        description: '{{ doc("metrics_path") }}'
      - name: metric_value
        description: '{{ doc("metric_value") }}'

  - name: fct_team_member_job_history
    columns:
      - name: team_member_job_pk
        description: A unique ID for each job position of a team member
        data_tests:
          - not_null
      - name: dim_team_member_sk
        description: A unique ID for each team member.
        data_tests:
          - not_null
      - name: employee_id
        description: Workday Employee Identification 
      - name: job_profile_workday_id
        description: A unique ID for workday job profiles
      - name: hire_rank
        description: Hire event of a team member ranked earliest by date
      - name: job_combination_id
        description: A unique ID for each team member and their job position information 
      - name: job_code
        description: The code of the team member's job position
      - name: job_family
        description: The team member's job family
      - name: job_title
        description: The team member's job title
      - name: business_title
        description: The team member's business title
      - name: job_role
        description: The team member's job role
      - name: job_grade
        description: Masked. The team member's job grade
        meta:
          masking_policy: analyst_people_sensitive
      - name: job_specialty_single
        description: The team member's job specialty
      - name: job_specialty_multi
        description: The team member's job specialty (multi-select).
      - name: is_last_record
        description: The latest job record of the team member
      - name: is_last_employment_record
      - name: is_active_team_member
        description: Boolean field showing if the team member is active
      - name: job_start_date
        description: The start date of the job position of the team member
      - name: job_end_date
        description: The start date of the job position of the team member
      - name: valid_from
        description: The first date the record was valid (YYYY-MM-DD). This column can be used to order the different "versions" of a record. This value is used to dedupe records.
      - name: valid_to
        description: The last date the record was valid
  - name: fct_project_statistics_daily_snapshot
    description: '{{ doc("fct_project_statistics_daily_snapshot") }}'
    columns:
    - name: project_statistics_snapshot_pk
      description: Unique identifier of the daily project statistics snapshot
      data_tests:
        - not_null
    - name: snapshot_day
      description: '{{ doc("snapshot_date") }}'
    - name: project_statistics_id
      description: Unique identifier of statistics related to a project on a given day
    - name: project_id
      description: '{{ doc("dim_project_id") }}'
    - name: namespace_id
      description: '{{ doc("dim_namespace_id") }}'
    - name: ultimate_parent_namespace_id
      description: '{{ doc("dim_ultimate_parent_namespace_id") }}'
    - name: ultimate_parent_plan_id
      description: Gitlab plan id for the project's ultimate parent namespace
    - name: finance_pl_category
      description: '{{ doc("finance_pl_category") }}'
    - name: commit_count
      description: '{{ doc("commit_count") }}'
    - name: storage_size
      description: '{{ doc("storage_size") }}'
    - name: repository_size
      description: '{{ doc("repository_size") }}'
    - name: container_registry_size
      description: '{{ doc("container_registry_size")}}'
    - name: lfs_objects_size
      description: '{{ doc("lfs_objects_size") }}'
    - name: build_artifacts_size
      description: '{{ doc("build_artifacts_size") }}'
    - name: packages_size
      description: '{{ doc("packages_size") }}'
    - name: wiki_size
      description: '{{ doc("wiki_size") }}'
    - name: shared_runners_seconds
      description: '{{ doc("shared_runners_seconds") }}'
    - name: build_artifacts_gb
      description: '{{ doc("build_artifacts_gb") }}'
    - name: repo_size_gb
      description: '{{ doc("repo_size_gb") }}'
    - name: container_registry_gb
      description: '{{ doc("container_registry_gb") }}'
  - name: dim_ai_gateway_unit_primitives
    description: '{{ doc("dim_ai_gateway_unit_primitives") }}'
    columns:
      - name: unit_primitive_name
        description: ' {{ doc("cloud_connector_unit_primitive_name") }} '
        data_tests:
          - unique
          - not_null
      - name: unit_primitive_description
        description: ' {{ doc("cloud_connector_unit_primitive_description") }} '
      - name: feature_category
        description: ' {{ doc("cloud_connector_feature_category") }} '
      - name: engineering_group
        description: ' {{ doc("cloud_connector_engineering_group") }} '
      - name: backend_services
        description: ' {{ doc("cloud_connector_backend_services") }} '
      - name: available_to_license_types
        description: ' {{ doc("cloud_connector_available_to_license_types") }} '
      - name: available_to_add_ons
        description: ' {{ doc("cloud_connector_available_to_add_ons") }} '
      - name: cut_off_date
        description: ' {{ doc("cloud_connector_cut_off_date") }} '
      - name: documentation_url
        description: ' {{ doc("cloud_connector_documentation_url") }} '
      - name: introduced_by_url
        description: ' {{ doc("cloud_connector_introduced_by_url") }} '
      - name: unit_primitive_issue_url
        description: ' {{ doc("cloud_connector_unit_primitive_issue_url") }} '
      - name: deprecated_by_url
        description: ' {{ doc("cloud_connector_deprecated_by_url") }} '
      - name: deprecation_message
        description: ' {{ doc("cloud_connector_deprecation_message") }} '
      - name: min_gitlab_version
        description: ' {{ doc("cloud_connector_min_gitlab_version") }} '
      - name: min_gitlab_version_for_free_access
        description: ' {{ doc("cloud_connector_min_gitlab_version_for_free_access") }} '
  - name: dim_channel_type
    description: ' {{ doc("dim_channel_type") }} '
  - name: dim_partner_category
    description: ' {{ doc("dim_partner_category") }} '
  - name: fct_crm_opportunity_daily_snapshot_aggregate
    description: ' {{ doc("fct_crm_opportunity_daily_snapshot_aggregate") }} '
  - name: fct_gcp_billing_line_item
    description: '{{ doc("fct_gcp_billing_line_item") }}'
    columns:
      - name: gcp_billing_line_item_pk
      - name: billing_account_id
        description: The Cloud Billing account ID that the usage is associated with.
      - name: gcp_service_id
        description: '{{ doc("gcp_service_id") }}'
      - name: gcp_service_description
        description: '{{ doc("gcp_service_description") }}'
      - name: gcp_sku_id
        description: '{{ doc("gcp_sku_id") }}'
      - name: gcp_sku_description
        description: '{{ doc("gcp_sku_description") }}'
      - name: plan_name
        description: '{{ doc("plan_name_modified") }}'
      - name: invoice_month
        description: Month the GCP line item was invoiced
      - name: usage_start_time
        description: '{{ doc("gcp_usage_start_time") }}'
      - name: usage_end_time
        description: '{{ doc("gcp_usage_end_time") }}'
      - name: gcp_project_id
        description: '{{ doc("gcp_project_id") }}'
      - name: gcp_project_name
        description: '{{ doc("gcp_project_name") }}'
      - name: gcp_project_labels
        description: '{{ doc("gcp_project_labels") }}'
      - name: folder_id
        description: '{{ doc("gcp_folder_id") }}'
      - name: resource_location
        description: '{{ doc("gcp_resource_location") }}'
      - name: resource_zone
        description: '{{ doc("gcp_resource_zone") }}'
      - name: resource_region
        description: '{{ doc("gcp_resource_region") }}'
      - name: resource_country
        description: '{{ doc("gcp_resource_country") }}'
      - name: resource_labels
        description: '{{ doc("gcp_resource_labels") }}'
      - name: system_labels
        description: '{{ doc("gcp_system_labels") }}'
      - name: cost_before_credits
        description: '{{ doc("gcp_cost_before_credits") }}'
      - name: total_credits
        description: '{{ doc("gcp_credits") }}'
      - name: net_cost
        description: '{{ doc("gcp_net_cost") }}'
      - name: usage_amount
        description: '{{ doc("gcp_usage_amount") }}'
      - name: usage_unit
        description: '{{ doc("gcp_usage_unit") }}'
      - name: usage_amount_in_pricing_units
        description: '{{ doc("gcp_usage_amount_in_pricing_units") }}'
      - name: pricing_unit
        description: '{{ doc("gcp_pricing_unit") }}'
      - name: currency
        description: '{{ doc("gcp_currency") }}'
      - name: currency_conversion_rate
        description: '{{ doc("gcp_currency_conversion_rate") }}'
      - name: cost_type
        description: '{{ doc("gcp_cost_type") }}'
      - name: credits
        description: '{{ doc("gcp_credits") }}'
      - name: export_time
        description: Time the GCP line items were exported
      - name: uploaded_at
        description: Time the GCP line items were uploaded to Snowflake

  - name: fct_contact_email_activity
    description: Fact table for email activities across several email sources. This model provides a comprehensive view of all email events with contacts, including sends, opens, clicks, bounces, and unsubscribes. Data is sourced from Marketo, Gainsight, Zuora, Zendesk, Levelup, and Mailgun.
    columns:
      - name: email_activity_pk
        description: Primary key of the model. consisting of source_system, email_activity_type, activity_date, contact_email_address, and email_activity_id
      - name: contact_email_address
        description: The email address of the contact
        meta:
           masking_policy: sensitive_pii_data_viewer
      - name: source_system
        description: The system that originated the email activity (Marketo, Gainsight, Zuora, Zendesk, Levelup, Mailgun)
      - name: email_activity_type
        description: The type of email activity (Send, Open, Click, Bounce, Soft Bounce, Unsubscribe, Delivered, Failed)
      - name: activity_date
        description: The date when the email activity occurred
      - name: email_activity_id
        description: Unique identifier for the email activity from the source system.
      - name: person_id
        description: Identifier for the person from the source system.
      - name: email_subject_line
        description: The subject line or name of the email.

  - name: fct_license_utilization
    description: '{{ doc("fct_license_utilization") }}'
    columns:
      - name: report_date
        description: '{{ doc("report_date") }}'
      - name: dim_installation_id
        description: '{{ doc("dim_installation_id") }}'
      - name: dim_namespace_id
        description: '{{ doc("dim_namespace_id") }}'
      - name: dim_subscription_id
        description: '{{ doc("dim_subscription_id") }}'
      - name: dim_subscription_id_original
        description: '{{ doc("dim_subscription_id_original") }}'
      - name: dim_crm_account_id
        description: '{{ doc("dim_crm_account_id") }}'
      - name: assignable_feature_set
        description: '{{ doc("assignable_feature_set") }}'
      - name: assignable_feature_set_clean
        description: '{{ doc("assignable_feature_set_clean") }}'
      - name: dim_product_tier_id
        description: '{{ doc("dim_product_tier_id") }}'
      - name: product_deployment_type
        description: '{{ doc("product_deployment_type") }}'
      - name: license_users_source
        description: '{{ doc("license_users_source") }}'
      - name: billable_users_source
        description: '{{ doc("billable_users_source") }}'
      - name: license_users
        description: '{{ doc("license_user_count") }}'
      - name: billable_users
        description: '{{ doc("billable_user_count") }}'
      - name: utilization_rate
        description: '{{ doc("license_utilization") }}'

  - name: fct_team_member_org_history
    description: '{{ doc("fct_team_member_org_history") }}'
    columns:
      - name: team_member_org_pk
        description: A unique ID for each team member's record
        data_tests:
          - not_null
      - name: dim_team_member_sk
        description: A unique ID for each team member.
        data_tests:
          - not_null
      - name: employee_id
        description: Workday Employee Identification
      - name: hire_rank
        description: Hire event of a team member ranked earliest by date        
      - name: valid_from
        description: The first date the record was valid (YYYY-MM-DD). This column can be used to order the different "versions" of a record. This value is used to dedupe records.
      - name: valid_to
        description: The last date the record was valid
      - name: org_combination_id
        description: A unique ID for each team member and their organization information
      - name: department_id
        description: the workday system generated ID for department if available. For legacy data a surrogate key is generated based on department name
      - name: department_id_type
        description: denotes whether the department_id is the workday system generated ID or created based on department name for legacy data
      - name: department
        description: department name as it was listed on the valid_from date in the source system
      - name: division
        description: division name as it was listed on the valid_from date in the source system
      - name: cost_center
        description: cost center name as it was listed on the valid_from date in the source system
      - name: entity
        description: legal entity assigned to the team member
      - name: employee_type
        description: employee type assigned to the team member



  - name: fct_support_ticket_field_history
    description: This fact table records changes to ticket fields.
    columns:
      - name: fct_support_ticket_field_change_id
        description: A unique ID for each time a ticket field changes.
        data_tests:
          - not_null
          - unique

  - name: dim_support_ticket_form
    description: Contains information related to the forms used to create support tickets.
    columns:
      - name: dim_support_ticket_form_id
        description: A unique ID for each ticket form.
        data_tests:
          - not_null
          - unique

  - name: fct_support_ticket
    description: Fact table for support tickets as well as surrogate keys linked to a given ticket.
    columns:
      - name: dim_support_ticket_id
        description: A unique ID for each support ticket.
        data_tests:
          - not_null
          - unique
      - name: fct_support_ticket_sk
        description: A unique ID for each row in the support ticket fact table.
        data_tests:
          - not_null
          - unique
      - name: first_reply_time_minutes
        description: Time in minutes from ticket creation to first agent response (FRT).
      - name: first_reply_time_hours
        description: Time in hours from ticket creation to first agent response (FRT).
      - name: time_to_resolve_minutes
        description: Total time in minutes to resolve the ticket with business logic adjustments for autosolve tags.
      - name: time_to_resolve_hours
        description: Total time in hours to resolve the ticket with business logic adjustments for autosolve tags.
      - name: customer_wait_time_minutes
        description: Time in minutes spent in New and Open statuses only (CWT).
      - name: customer_wait_time_hours
        description: Time in hours spent in New and Open statuses only (CWT).
      - name: requester_wait_time_minutes
        description: Time in minutes spent in New, Open, and Hold statuses (RWT).
      - name: requester_wait_time_hours
        description: Time in hours spent in New, Open, and Hold statuses (RWT).
      - name: customer_wait_time_ratio
        description: Customer Wait Time as a percentage of total resolution time (CWT/TTR ratio). Example - 0.50 means 50% of total resolution time was spent with customer waiting for response.


  - name: dim_support_ticket
    description: Dimensional model showing relevant fields for support tickets.
    columns:
      - name: dim_support_ticket_id
        description: A unique ID for each support ticket.
        data_tests:
          - not_null
          - unique

  - name: dim_support_user
    description: Dimensional model showing support users.
    columns:
      - name: dim_support_user_id
        description: A unique ID for each support user.
        data_tests:
          - not_null
          - unique

  - name: dim_support_organization
    description: This model prepares data for the dimension model for organizations in Zendesk.
    columns:
      - name: dim_support_organization_id
        description: A unique ID for each organizations in Zendesk.
        data_tests:
          - not_null
          - unique

  - name: dim_support_sla_policy
    description: Shows the most recent description and time metrics per support service level agreement.
    columns:
      - name: dim_support_sla_policy_id
        description: A unique ID for each support ticket form
        data_tests:
          - not_null
          - unique

  - name: fct_support_ticket_sla_policy
    description: Shows when a service level agreement policy was applied to a support ticket.
    columns:
      - name: fct_support_ticket_sla_policy_sk
        description: A unique ID for each event when a SLA policy was applied to a support ticket.
        data_tests:
          - not_null
          - unique